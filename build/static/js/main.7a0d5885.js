/*! For license information please see main.7a0d5885.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},146:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,r=/-([a-z])/g,i=/^[^-]+$/,o=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,a=function(e,t){return t.toUpperCase()},l=function(e,t){return"".concat(t,"-")};t.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||i.test(e)||n.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(s,l):e.replace(o,l)).replace(r,a))}},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,m(b,y.prototype),b.isPureReactComponent=!0;var E=Array.isArray,S=Object.prototype.hasOwnProperty,x={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:x.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+_(l,0):o,E(s)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),A(s,t,i,"",(function(e){return e}))):null!=s&&(I(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",E(e))for(var c=0;c<e.length;c++){var u=o+_(a=e[c],c);l+=A(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=A(a=a.value,t,i,u=o+_(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},L={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:L,ReactCurrentOwner:x};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=w,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},222:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=null;if(!e||"string"!==typeof e)return n;var r=(0,i.default)(e),o="function"===typeof t;return r.forEach((function(e){if("declaration"===e.type){var r=e.property,i=e.value;o?t(r,i,e):i&&((n=n||{})[r]=i)}})),n};var i=r(n(403))},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function E(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,L(S);else{var t=r(u);null!==t&&D(E,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(I),I=-1),p=!0;var o=f;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!A());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&D(E,h.startTime-n),l=!1}return l}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,k=!1,T=null,I=-1,C=5,_=-1;function A(){return!(t.unstable_now()-_<C)}function P(){if(null!==T){var e=t.unstable_now();_=e;var n=!0;try{n=T(!0,e)}finally{n?x():(k=!1,T=null)}}else k=!1}if("function"===typeof w)x=function(){w(P)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,R=N.port2;N.port1.onmessage=P,x=function(){R.postMessage(null)}}else x=function(){y(P,0)};function L(e){T=e,k||(k=!0,x())}function D(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,L(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(v(I),I=-1):g=!0,D(E,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,L(S))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},240:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},s=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var r,i=t.call(e,"constructor"),o=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!i&&!o)return!1;for(r in e);return"undefined"===typeof r||t.call(e,r)},a=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,n){if("__proto__"===n){if(!t.call(e,n))return;if(i)return i(e,n).value}return e[n]};e.exports=function e(){var t,n,r,i,c,u,h=arguments[0],d=1,f=arguments.length,p=!1;for("boolean"===typeof h&&(p=h,h=arguments[1]||{},d=2),(null==h||"object"!==typeof h&&"function"!==typeof h)&&(h={});d<f;++d)if(null!=(t=arguments[d]))for(n in t)r=l(h,n),h!==(i=l(t,n))&&(p&&i&&(s(i)||(c=o(i)))?(c?(c=!1,u=r&&o(r)?r:[]):u=r&&s(r)?r:{},a(h,{name:n,newValue:e(p,u,i)})):"undefined"!==typeof i&&a(h,{name:n,newValue:i}));return h}},294:function(e,t,n){"use strict";var r=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(n(222)),i=n(146);function o(e,t){var n={};return e&&"string"===typeof e?((0,r.default)(e,(function(e,r){e&&r&&(n[(0,i.camelCase)(e,t)]=r)})),n):n}o.default=o,e.exports=o},391:(e,t,n)=>{"use strict";var r=n(950);t.H=r.createRoot,r.hydrateRoot},403:e=>{var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,l=/^\s+|\s+$/g,c="";function u(e){return e?e.replace(l,c):c}e.exports=function(e,l){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];l=l||{};var h=1,d=1;function f(e){var t=e.match(n);t&&(h+=t.length);var r=e.lastIndexOf("\n");d=~r?e.length-r:d+e.length}function p(){var e={line:h,column:d};return function(t){return t.position=new m(e),w(),t}}function m(e){this.start=e,this.end={line:h,column:d},this.source=l.source}m.prototype.content=e;var g=[];function y(t){var n=new Error(l.source+":"+h+":"+d+": "+t);if(n.reason=t,n.filename=l.source,n.line=h,n.column=d,n.source=e,!l.silent)throw n;g.push(n)}function v(t){var n=t.exec(e);if(n){var r=n[0];return f(r),e=e.slice(r.length),n}}function w(){v(r)}function b(e){var t;for(e=e||[];t=E();)!1!==t&&e.push(t);return e}function E(){var t=p();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;c!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,c===e.charAt(n-1))return y("End of comment missing");var r=e.slice(2,n-2);return d+=2,f(r),e=e.slice(n),d+=2,t({type:"comment",comment:r})}}function S(){var e=p(),n=v(i);if(n){if(E(),!v(o))return y("property missing ':'");var r=v(s),l=e({type:"declaration",property:u(n[0].replace(t,c)),value:r?u(r[0].replace(t,c)):c});return v(a),l}}return w(),function(){var e,t=[];for(b(t);e=S();)!1!==e&&(t.push(e),b(t));return t}()}},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),C=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case S:return"Portal";case T:return"Profiler";case k:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function X(e,t){J(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,xe=null,ke=null;function Te(e){if(e=wi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=Ei(t),Se(e.stateNode,e.type,t))}}function Ie(e){xe?ke?ke.push(e):ke=[e]:xe=e}function Ce(){if(xe){var e=xe,t=ke;if(ke=xe=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function _e(e,t){return e(t)}function Ae(){}var Pe=!1;function Ne(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return _e(e,t,n)}finally{Pe=!1,(null!==xe||null!==ke)&&(Ae(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Le=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Le=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Le=!1}function Oe(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,je=null,Fe=!1,Ue=null,Ve={onError:function(e){Me=!0,je=e}};function Be(e,t,n,r,i,o,s,a,l){Me=!1,je=null,Oe.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(ze(e)!==e)throw Error(o(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return qe(i),e;if(s===r)return qe(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=ht(a):0!==(o&=s)&&(r=ht(o))}else 0!==(s=n&~i)?r=ht(s):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,St,xt,kt,Tt,It=!1,Ct=[],_t=null,At=null,Pt=null,Nt=new Map,Rt=new Map,Lt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=vi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void Tt(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){It=!1,null!==_t&&Ft(_t)&&(_t=null),null!==At&&Ft(At)&&(At=null),null!==Pt&&Ft(Pt)&&(Pt=null),Nt.forEach(Ut),Rt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Bt(_t,e),null!==At&&Bt(At,e),null!==Pt&&Bt(Pt,e),Nt.forEach(t),Rt.forEach(t),n=0;n<Lt.length;n++)(r=Lt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)jt(n),null===n.blockedOn&&Lt.shift()}var $t=b.ReactCurrentBatchConfig,qt=!0;function Gt(e,t,n,r){var i=wt,o=$t.transition;$t.transition=null;try{wt=1,Wt(e,t,n,r)}finally{wt=i,$t.transition=o}}function Ht(e,t,n,r){var i=wt,o=$t.transition;$t.transition=null;try{wt=4,Wt(e,t,n,r)}finally{wt=i,$t.transition=o}}function Wt(e,t,n,r){if(qt){var i=Yt(e,t,n,r);if(null===i)qr(e,t,r,Kt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return _t=Mt(_t,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Pt=Mt(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Nt.set(o,Mt(Nt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Rt.set(o,Mt(Rt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=wi(i);if(null!==o&&Et(o),null===(o=Yt(e,t,n,r))&&qr(e,t,r,Kt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Kt=null;function Yt(e,t,n,r){if(Kt=null,null!==(e=vi(e=Ee(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),hn=j({},cn,{view:0,detail:0}),dn=on(hn),fn=j({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(j({},fn,{dataTransfer:0})),gn=on(j({},hn,{relatedTarget:0})),yn=on(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=on(vn),bn=on(j({},cn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Tn(){return kn}var In=j({},hn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(In),_n=on(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(j({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Pn=on(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(Nn),Ln=[9,13,27,32],Dn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Mn=u&&"TextEvent"in window&&!On,jn=u&&(!Dn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Gn(e,t,n,r){Ie(r),0<(t=Hr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function Kn(e){Fr(e,0)}function Yn(e){if(W(bi(e)))return e}function Qn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Wn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];Gn(t,Wn,e,Ee(e)),Ne(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function or(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},xr={},kr={};function Tr(e){if(xr[e])return xr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return xr[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Ir=Tr("animationend"),Cr=Tr("animationiteration"),_r=Tr("animationstart"),Ar=Tr("transitionend"),Pr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Pr.set(e,t),l(t,[e])}for(var Lr=0;Lr<Nr.length;Lr++){var Dr=Nr[Lr];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(Ir,"onAnimationEnd"),Rr(Cr,"onAnimationIteration"),Rr(_r,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=je;Me=!1,je=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;jr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;jr(i,a,c),o=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,s.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Qt(t)){case 1:var i=Gt;break;case 4:i=Ht;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=vi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Ne((function(){var r=o,i=Ee(n),s=[];e:{var a=Pr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Ir:case Cr:case _r:l=yn;break;case Ar:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_n}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Re(p,d))&&u.push(Gr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=_n,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:bi(l),f=null==c?a:bi(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,vi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Wr(f))p++;for(f=0,m=d;m;m=Wr(m))f++;for(;0<p-f;)u=Wr(u),p--;for(;0<f-p;)d=Wr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Wr(u),d=Wr(d)}u=null}else u=null;null!==l&&Kr(s,a,l,u,!1),null!==c&&null!==h&&Kr(s,h,c,u,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Qn;else if(qn(a))if(Jn)g=sr;else{g=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Gn(s,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?bi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(s,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else zn?Vn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(jn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==w?"onCompositionEnd"===w&&zn&&(v=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(y=Hr(r,w)).length&&(w=new bn(w,e,null,n,i),s.push({event:w,listeners:y}),v?w.data=v:null!==(v=Bn(n))&&(w.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Xt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v))}Fr(s,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Re(e,n))&&r.unshift(Gr(e,o,i)),null!=(o=Re(e,t))&&r.push(Gr(e,o,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Re(n,o))&&s.unshift(Gr(n,l,a)):i||null!=(l=Re(n,o))&&s.push(Gr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ei(e){return e[fi]||null}var Si=[],xi=-1;function ki(e){return{current:e}}function Ti(e){0>xi||(e.current=Si[xi],Si[xi]=null,xi--)}function Ii(e,t){xi++,Si[xi]=e.current,e.current=t}var Ci={},_i=ki(Ci),Ai=ki(!1),Pi=Ci;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Li(){Ti(Ai),Ti(_i)}function Di(e,t,n){if(_i.current!==Ci)throw Error(o(168));Ii(_i,t),Ii(Ai,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,$(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Pi=_i.current,Ii(_i,e),Ii(Ai,Ai.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Oi(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ai),Ti(_i),Ii(_i,e)):Ti(Ai),Ii(Ai,n)}var Fi=null,Ui=!1,Vi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=wt;try{var n=Fi;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),We(Ze,zi),i}finally{wt=t,Vi=!1}}return null}var $i=[],qi=0,Gi=null,Hi=0,Wi=[],Ki=0,Yi=null,Qi=1,Ji="";function Xi(e,t){$i[qi++]=Hi,$i[qi++]=Gi,Gi=e,Hi=t}function Zi(e,t,n){Wi[Ki++]=Qi,Wi[Ki++]=Ji,Wi[Ki++]=Yi,Yi=e;var r=Qi;e=Ji;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Qi=1<<32-st(t)+i|n<<i|r,Ji=o+e}else Qi=1<<o|n<<i|r,Ji=e}function eo(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function to(e){for(;e===Gi;)Gi=$i[--qi],$i[qi]=null,Hi=$i[--qi],$i[qi]=null;for(;e===Yi;)Yi=Wi[--Ki],Wi[Ki]=null,Ji=Wi[--Ki],Wi[Ki]=null,Qi=Wi[--Ki],Wi[Ki]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Qi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=b.ReactCurrentBatchConfig;function yo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wo(e){return(0,e._init)(e._payload)}function bo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===x?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&wo(o)===t.type)?((r=i(t,n.props)).ref=yo(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=yo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=yo(e,null,t),n.return=e,n;case S:return(t=Fc(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Oc(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:h(e,t,n,r,null);vo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return h(t,e=e.get(n)||null,r,i,null);vo(t,r)}return null}function m(i,o,a,l){for(var c=null,u=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),o=s(y,o,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===a.length)return n(i,h),io&&Xi(i,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(o=s(h,o,m),null===u?c=h:u.sibling=h,u=h);return io&&Xi(i,m),c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),io&&Xi(i,m),c}function g(i,a,l,c){var u=O(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var h=u=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,c);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),a=s(w,a,g),null===h?u=w:h.sibling=w,h=w,m=y}if(v.done)return n(i,m),io&&Xi(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(a=s(v,a,g),null===h?u=v:h.sibling=v,h=v);return io&&Xi(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),io&&Xi(i,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===x&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case E:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===x){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&wo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=yo(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===x?((o=Oc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Dc(s.type,s.key,s.props,null,r.mode,l)).ref=yo(r,o,s),l.return=r,r=l)}return a(r);case S:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(s,r.mode,l)).return=r,r=o}return a(r);case R:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(O(s))return g(r,o,s,l);vo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=jc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var Eo=bo(!0),So=bo(!1),xo=ki(null),ko=null,To=null,Io=null;function Co(){Io=To=ko=null}function _o(e){var t=xo.current;Ti(xo),e._currentValue=t}function Ao(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Po(e,t){ko=e,Io=To=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function No(e){var t=e._currentValue;if(Io!==e)if(e={context:e,memoizedValue:t,next:null},null===To){if(null===ko)throw Error(o(308));To=e,ko.dependencies={lanes:0,firstContext:e}}else To=To.next=e;return t}var Ro=null;function Lo(e){null===Ro?Ro=[e]:Ro.push(e)}function Do(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Lo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oo(e,r)}function Oo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function jo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&_l)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oo(e,n)}return null===(i=r.interleaved)?(t.next=t,Lo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oo(e,n)}function Bo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function zo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $o(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(s=0,u=c=l=null,a=o;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=j({},h,d);break e;case 2:Mo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ml|=s,e.lanes=s,e.memoizedState=h}}function qo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Go={},Ho=ki(Go),Wo=ki(Go),Ko=ki(Go);function Yo(e){if(e===Go)throw Error(o(174));return e}function Qo(e,t){switch(Ii(Ko,t),Ii(Wo,e),Ii(Ho,Go),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Ho),Ii(Ho,t)}function Jo(){Ti(Ho),Ti(Wo),Ti(Ko)}function Xo(e){Yo(Ko.current);var t=Yo(Ho.current),n=le(t,e.type);t!==n&&(Ii(Wo,e),Ii(Ho,n))}function Zo(e){Wo.current===e&&(Ti(Ho),Ti(Wo))}var es=ki(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var is=b.ReactCurrentDispatcher,os=b.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,hs=!1,ds=0,fs=0;function ps(){throw Error(o(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,i,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?Zs:ea,e=n(r,i),hs){s=0;do{if(hs=!1,ds=0,25<=s)throw Error(o(301));s+=1,cs=ls=null,t.updateQueue=null,is.current=ta,e=n(r,i)}while(hs)}if(is.current=Xs,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,t)throw Error(o(300));return e}function ys(){var e=0!==ds;return ds=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function ws(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function bs(e,t){return"function"===typeof t?t(e):t}function Es(e){var t=ws(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ls,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var h=u.lane;if((ss&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,as.lanes|=h,Ml|=h}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,as.lanes|=s,Ml|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ss(e){var t=ws(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(wa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function xs(){}function ks(e,t){var n=as,r=ws(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,wa=!0),r=r.queue,Ms(Cs.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Ns(9,Is.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(o(349));0!==(30&ss)||Ts(n,t,i)}return i}function Ts(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Is(e,t,n,r){t.value=n,t.getSnapshot=r,_s(t)&&As(e)}function Cs(e,t,n){return n((function(){_s(t)&&As(e)}))}function _s(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function As(e){var t=Oo(e,1);null!==t&&nc(t,e,1,-1)}function Ps(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Ks.bind(null,as,e),[t.memoizedState,e]}function Ns(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Rs(){return ws().memoizedState}function Ls(e,t,n,r){var i=vs();as.flags|=e,i.memoizedState=Ns(1|t,n,void 0,void 0===r?null:r)}function Ds(e,t,n,r){var i=ws();r=void 0===r?null:r;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==r&&ms(r,s.deps))return void(i.memoizedState=Ns(t,n,o,r))}as.flags|=e,i.memoizedState=Ns(1|t,n,o,r)}function Os(e,t){return Ls(8390656,8,e,t)}function Ms(e,t){return Ds(2048,8,e,t)}function js(e,t){return Ds(4,2,e,t)}function Fs(e,t){return Ds(4,4,e,t)}function Us(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ds(4,4,Us.bind(null,t,e),n)}function Bs(){}function zs(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $s(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qs(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),as.lanes|=n,Ml|=n,e.baseState=!0),t)}function Gs(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{wt=n,os.transition=r}}function Hs(){return ws().memoizedState}function Ws(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ys(e))Qs(t,n);else if(null!==(n=Do(e,t,n,r))){nc(n,e,r,ec()),Js(n,t,r)}}function Ks(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ys(e))Qs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,Lo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Do(e,t,i,r))&&(nc(n,e,r,i=ec()),Js(n,t,r))}}function Ys(e){var t=e.alternate;return e===as||null!==t&&t===as}function Qs(e,t){hs=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Js(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Xs={readContext:No,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Zs={readContext:No,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:No,useEffect:Os,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ls(4194308,4,Us.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ls(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ls(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ws.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Ps,useDebugValue:Bs,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=Ps(!1),t=e[0];return e=Gs.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,i=vs();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Al)throw Error(o(349));0!==(30&ss)||Ts(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Os(Cs.bind(null,r,s,e),[e]),r.flags|=2048,Ns(9,Is.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=Al.identifierPrefix;if(io){var n=Ji;t=":"+t+"R"+(n=(Qi&~(1<<32-st(Qi)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:No,useCallback:zs,useContext:No,useEffect:Ms,useImperativeHandle:Vs,useInsertionEffect:js,useLayoutEffect:Fs,useMemo:$s,useReducer:Es,useRef:Rs,useState:function(){return Es(bs)},useDebugValue:Bs,useDeferredValue:function(e){return qs(ws(),ls.memoizedState,e)},useTransition:function(){return[Es(bs)[0],ws().memoizedState]},useMutableSource:xs,useSyncExternalStore:ks,useId:Hs,unstable_isNewReconciler:!1},ta={readContext:No,useCallback:zs,useContext:No,useEffect:Ms,useImperativeHandle:Vs,useInsertionEffect:js,useLayoutEffect:Fs,useMemo:$s,useReducer:Ss,useRef:Rs,useState:function(){return Ss(bs)},useDebugValue:Bs,useDeferredValue:function(e){var t=ws();return null===ls?t.memoizedState=e:qs(t,ls.memoizedState,e)},useTransition:function(){return[Ss(bs)[0],ws().memoizedState]},useMutableSource:xs,useSyncExternalStore:ks,useId:Hs,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Vo(e,o,i))&&(nc(t,e,i,r),Bo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Vo(e,o,i))&&(nc(t,e,i,r),Bo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Vo(e,i,r))&&(nc(t,e,r,n),Bo(t,e,r))}};function oa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function sa(e,t,n){var r=!1,i=Ci,o=t.contextType;return"object"===typeof o&&null!==o?o=No(o):(i=Ri(t)?Pi:_i.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},jo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=No(o):(o=Ri(t)?Pi:_i.current,i.context=Ni(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ra(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),$o(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Gl=r),ha(0,t)},n}function pa(e,t,n){(n=Uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Uo(-1,1)).tag=2,Vo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var va=b.ReactCurrentOwner,wa=!1;function ba(e,t,n,r){t.child=null===e?So(t,null,n,r):Eo(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var o=t.ref;return Po(t,i),r=gs(e,t,n,r,o,i),n=ys(),null===e||wa?(io&&n&&eo(t),t.flags|=1,ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function Sa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Rc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,xa(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return qa(e,t,i)}return t.flags|=1,(e=Lc(o,r)).ref=t.ref,e.return=t,t.child=e}function xa(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,qa(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return Ia(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ll,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ll,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ii(Ll,Rl),Rl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ii(Ll,Rl),Rl|=r;return ba(e,t,i,n),t.child}function Ta(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ia(e,t,n,r,i){var o=Ri(n)?Pi:_i.current;return o=Ni(t,o),Po(t,i),n=gs(e,t,n,r,o,i),r=ys(),null===e||wa?(io&&r&&eo(t),t.flags|=1,ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function Ca(e,t,n,r,i){if(Ri(n)){var o=!0;Mi(t)}else o=!1;if(Po(t,i),null===t.stateNode)$a(e,t),sa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=No(c):c=Ni(t,c=Ri(n)?Pi:_i.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,s,r,c),Mo=!1;var d=t.memoizedState;s.state=d,$o(t,r,s,i),l=t.memoizedState,a!==r||d!==l||Ai.current||Mo?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Mo||oa(t,n,a,r,d,l,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Fo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,h=t.pendingProps,d=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=No(l):l=Ni(t,l=Ri(n)?Pi:_i.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&aa(t,s,r,l),Mo=!1,d=t.memoizedState,s.state=d,$o(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||Ai.current||Mo?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(c=Mo||oa(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return _a(e,t,n,r,o,i)}function _a(e,t,n,r,i,o){Ta(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&ji(t,n,!1),qa(e,t,o);r=t.stateNode,va.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Eo(t,e.child,null,o),t.child=Eo(t,null,a,o)):ba(e,t,a,o),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Qo(e,t.containerInfo)}function Pa(e,t,n,r,i){return po(),mo(i),t.flags|=256,ba(e,t,n,r),t.child}var Na,Ra,La,Da,Oa={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function ja(e,t,n){var r,i=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ii(es,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Mc(l,i,0,null),e=Oc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=Oa,e):Fa(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=ua(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(s=Oc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Eo(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=Oa,s);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ua(e,t,a,r=ua(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Al)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Oo(e,i),nc(r,e,i,-1))}return mc(),Ua(e,t,a,r=ua(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Wi[Ki++]=Qi,Wi[Ki++]=Ji,Wi[Ki++]=Yi,Qi=e.id,Ji=e.overflow,Yi=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Lc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Lc(r,a):(a=Oc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ma(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Oa,i}return e=(a=e.child).sibling,i=Lc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fa(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&mo(r),Eo(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Va(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ao(e.return,t,n)}function Ba(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function za(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n,t);else if(19===e.tag)Va(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(es,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ba(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ba(t,!0,n,null,o);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $a(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ga(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ha(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wa(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ha(t),null;case 1:case 17:return Ri(t.type)&&Li(),Ha(t),null;case 3:return r=t.stateNode,Jo(),Ti(Ai),Ti(_i),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Ra(e,t),Ha(t),null;case 5:Zo(t);var i=Yo(Ko.current);if(n=t.type,null!==e&&null!=t.stateNode)La(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ha(t),null}if(e=Yo(Ho.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[di]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Q(r,s),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ur("invalid",r);break;case"textarea":ie(r,s),Ur("invalid",r)}for(var l in ve(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,s,!0);break;case"textarea":H(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Na(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Q(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(s in ve(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Ur("scroll",e):null!=u&&w(e,s,u,l))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ha(t),null;case 6:if(e&&null!=t.stateNode)Da(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Yo(Ko.current),Yo(Ho.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ha(t),null;case 13:if(Ti(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[di]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ha(t),s=!1}else null!==oo&&(sc(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ha(t),null);case 4:return Jo(),Ra(e,t),null===e&&zr(t.stateNode.containerInfo),Ha(t),null;case 10:return _o(t.type._context),Ha(t),null;case 19:if(Ti(es),null===(s=t.memoizedState))return Ha(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ga(s,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Ga(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Je()>zl&&(t.flags|=128,r=!0,Ga(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ga(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ha(t),null}else 2*Je()-s.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Ga(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,n=es.current,Ii(es,r?1&n|2:1&n),t):(Ha(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Ha(t),6&t.subtreeFlags&&(t.flags|=8192)):Ha(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ka(e,t){switch(to(t),t.tag){case 1:return Ri(t.type)&&Li(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Jo(),Ti(Ai),Ti(_i),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Ti(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(es),null;case 4:return Jo(),null;case 10:return _o(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Na=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ra=function(){},La=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Yo(Ho.current);var o,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Da=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Qa=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Xa=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){kc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Qa||Za(n,t);case 6:var r=ul,i=hl;ul=null,dl(e,t,n),hl=i,null!==(ul=r)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=hl,ul=n.stateNode.containerInfo,hl=!0,dl(e,t,n),ul=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Qa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&el(n,t,s),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Qa&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kc(n,t,a)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Qa=(r=Qa)||null!==n.memoizedState,dl(e,t,n),Qa=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=_c.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));fl(s,a,i),ul=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){kc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&J(i,s),we(l,a);var u=we(l,s);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):w(i,h,d,u)}switch(l){case"input":X(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){kc(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){kc(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Je())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Qa=(u=Qa)||h,ml(t,e),Qa=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Xa=e,h=e.child;null!==h;){for(d=Xa=h;null!==Xa;){switch(p=(f=Xa).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Za(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){El(d);continue}}null!==p?(p.return=f,Xa=p):El(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){kc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(o(161))}}catch(a){kc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Xa=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Xa;){var i=Xa,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Ya;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Qa;a=Ya;var c=Qa;if(Ya=s,(Qa=l)&&!c)for(Xa=i;null!==Xa;)l=(s=Xa).child,22===s.tag&&null!==s.memoizedState?Sl(i):null!==l?(l.return=s,Xa=l):Sl(i);for(;null!==o;)Xa=o,wl(o,t,n),o=o.sibling;Xa=i,Ya=a,Qa=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xa=o):bl(e)}}function bl(e){for(;null!==Xa;){var t=Xa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qa||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&qo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(o(163))}Qa||512&t.flags&&il(t)}catch(f){kc(t,t.return,f)}}if(t===e){Xa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xa=n;break}Xa=t.return}}function El(e){for(;null!==Xa;){var t=Xa;if(t===e){Xa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xa=n;break}Xa=t.return}}function Sl(e){for(;null!==Xa;){var t=Xa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var o=t.return;try{il(t)}catch(l){kc(t,o,l)}break;case 5:var s=t.return;try{il(t)}catch(l){kc(t,s,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Xa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xa=a;break}Xa=t.return}}var xl,kl=Math.ceil,Tl=b.ReactCurrentDispatcher,Il=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,_l=0,Al=null,Pl=null,Nl=0,Rl=0,Ll=ki(0),Dl=0,Ol=null,Ml=0,jl=0,Fl=0,Ul=null,Vl=null,Bl=0,zl=1/0,$l=null,ql=!1,Gl=null,Hl=null,Wl=!1,Kl=null,Yl=0,Ql=0,Jl=null,Xl=-1,Zl=0;function ec(){return 0!==(6&_l)?Je():-1!==Xl?Xl:Xl=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&_l)&&0!==Nl?Nl&-Nl:null!==go.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Ql)throw Ql=0,Jl=null,Error(o(185));yt(e,n,r),0!==(2&_l)&&e===Al||(e===Al&&(0===(2&_l)&&(jl|=n),4===Dl&&ac(e,Nl)),rc(e,r),1===n&&0===_l&&0===(1&t.mode)&&(zl=Je()+500,Ui&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=dt(e,e===Al?Nl:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(lc.bind(null,e)):Bi(lc.bind(null,e)),si((function(){0===(6&_l)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xl=-1,Zl=0,0!==(6&_l))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=dt(e,e===Al?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=_l;_l|=2;var s=pc();for(Al===e&&Nl===t||($l=null,zl=Je()+500,dc(e,t));;)try{vc();break}catch(l){fc(e,l)}Co(),Tl.current=s,_l=i,null!==Pl?t=0:(Al=null,Nl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ol,dc(e,0),ac(e,r),rc(e,Je()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(s=pt(e))&&(r=s,t=oc(e,s))),1===t))throw n=Ol,dc(e,0),ac(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Ec(e,Vl,$l);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Bl+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ec.bind(null,e,Vl,$l),t);break}Ec(e,Vl,$l);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(Ec.bind(null,e,Vl,$l),r);break}Ec(e,Vl,$l);break;default:throw Error(o(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vl,Vl=n,null!==t&&sc(t)),e}function sc(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function ac(e,t){for(t&=~Fl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&_l))throw Error(o(327));Sc();var t=dt(e,0);if(0===(1&t))return rc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ol,dc(e,0),ac(e,t),rc(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,Vl,$l),rc(e,Je()),null}function cc(e,t){var n=_l;_l|=1;try{return e(t)}finally{0===(_l=n)&&(zl=Je()+500,Ui&&zi())}}function uc(e){null!==Kl&&0===Kl.tag&&0===(6&_l)&&Sc();var t=_l;_l|=1;var n=Cl.transition,r=wt;try{if(Cl.transition=null,wt=1,e)return e()}finally{wt=r,Cl.transition=n,0===(6&(_l=t))&&zi()}}function hc(){Rl=Ll.current,Ti(Ll)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Li();break;case 3:Jo(),Ti(Ai),Ti(_i),rs();break;case 5:Zo(r);break;case 4:Jo();break;case 13:case 19:Ti(es);break;case 10:_o(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Al=e,Pl=e=Lc(e.current,null),Nl=Rl=t,Dl=0,Ol=null,Fl=jl=Ml=0,Vl=Ul=null,null!==Ro){for(t=0;t<Ro.length;t++)if(null!==(r=(n=Ro[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Ro=null}return e}function fc(e,t){for(;;){var n=Pl;try{if(Co(),is.current=Xs,us){for(var r=as.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}us=!1}if(ss=0,cs=ls=as=null,hs=!1,ds=0,Il.current=null,null===n||null===n.return){Dl=1,Ol=t,Pl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Nl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ma(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(s,u,t),mc();break e}c=Error(o(426))}else if(io&&1&l.mode){var y=ga(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,l,0,t),mo(ca(c,l));break e}}s=c=ca(c,l),4!==Dl&&(Dl=2),null===Ul?Ul=[s]:Ul.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,zo(s,fa(0,c,t));break e;case 1:l=c;var v=s.type,w=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Hl||!Hl.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t,zo(s,pa(s,l,t));break e}}s=s.return}while(null!==s)}bc(n)}catch(b){t=b,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function pc(){var e=Tl.current;return Tl.current=Xs,null===e?Xs:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Al||0===(268435455&Ml)&&0===(268435455&jl)||ac(Al,Nl)}function gc(e,t){var n=_l;_l|=2;var r=pc();for(Al===e&&Nl===t||($l=null,dc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(Co(),_l=n,Tl.current=r,null!==Pl)throw Error(o(261));return Al=null,Nl=0,Dl}function yc(){for(;null!==Pl;)wc(Pl)}function vc(){for(;null!==Pl&&!Ye();)wc(Pl)}function wc(e){var t=xl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?bc(e):Pl=t,Il.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wa(n,t,Rl)))return void(Pl=n)}else{if(null!==(n=Ka(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Dl=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Dl&&(Dl=5)}function Ec(e,t,n){var r=wt,i=Cl.transition;try{Cl.transition=null,wt=1,function(e,t,n,r){do{Sc()}while(null!==Kl);if(0!==(6&_l))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Al&&(Pl=Al=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wl||(Wl=!0,Ac(tt,(function(){return Sc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Cl.transition,Cl.transition=null;var a=wt;wt=1;var l=_l;_l|=4,Il.current=null,function(e,t){if(ei=qt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(E){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==s||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Xa=t;null!==Xa;)if(e=(t=Xa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xa=e;else for(;null!==Xa;){t=Xa;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(E){kc(t,t.return,E)}if(null!==(e=t.sibling)){e.return=t.return,Xa=e;break}Xa=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Qe(),_l=l,wt=a,Cl.transition=s}else e.current=n;if(Wl&&(Wl=!1,Kl=e,Yl=i),s=e.pendingLanes,0===s&&(Hl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Gl,Gl=null,e;0!==(1&Yl)&&0!==e.tag&&Sc(),s=e.pendingLanes,0!==(1&s)?e===Jl?Ql++:(Ql=0,Jl=e):Ql=0,zi()}(e,t,n,r)}finally{Cl.transition=i,wt=r}return null}function Sc(){if(null!==Kl){var e=bt(Yl),t=Cl.transition,n=wt;try{if(Cl.transition=null,wt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Yl=0,0!==(6&_l))throw Error(o(331));var i=_l;for(_l|=4,Xa=e.current;null!==Xa;){var s=Xa,a=s.child;if(0!==(16&Xa.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xa=u;null!==Xa;){var h=Xa;switch(h.tag){case 0:case 11:case 15:nl(8,h,s)}var d=h.child;if(null!==d)d.return=h,Xa=d;else for(;null!==Xa;){var f=(h=Xa).sibling,p=h.return;if(ol(h),h===u){Xa=null;break}if(null!==f){f.return=p,Xa=f;break}Xa=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Xa=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Xa=a;else e:for(;null!==Xa;){if(0!==(2048&(s=Xa).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Xa=v;break e}Xa=s.return}}var w=e.current;for(Xa=w;null!==Xa;){var b=(a=Xa).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Xa=b;else e:for(a=w;null!==Xa;){if(0!==(2048&(l=Xa).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){kc(l,l.return,S)}if(l===a){Xa=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,Xa=E;break e}Xa=l.return}}if(_l=i,zi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{wt=n,Cl.transition=t}}return!1}function xc(e,t,n){e=Vo(e,t=fa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hl||!Hl.has(r))){t=Vo(t,e=pa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Nl&n)===n&&(4===Dl||3===Dl&&(130023424&Nl)===Nl&&500>Je()-Bl?dc(e,0):Fl|=n),rc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Oo(e,t))&&(yt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function _c(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ic(e,n)}function Ac(e,t){return We(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Pc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Rc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case x:return Oc(n.children,i,s,t);case k:a=8,i|=8;break;case T:return(e=Nc(12,n,t,2|i)).elementType=T,e.lanes=s,e;case A:return(e=Nc(13,n,t,i)).elementType=A,e.lanes=s,e;case P:return(e=Nc(19,n,t,i)).elementType=P,e.lanes=s,e;case L:return Mc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:a=10;break e;case C:a=9;break e;case _:a=11;break e;case N:a=14;break e;case R:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Oc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,o,s,a,l){return e=new Uc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Nc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jo(o),e}function Bc(e){if(!e)return Ci;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Oi(e,n,t)}return t}function zc(e,t,n,r,i,o,s,a,l){return(e=Vc(n,r,!0,e,0,o,0,a,l)).context=Bc(null),n=e.current,(o=Uo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Vo(n,o,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function $c(e,t,n,r){var i=t.current,o=ec(),s=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Uo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vo(i,t,s))&&(nc(e,i,s,o),Bo(e,i,s)),s}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Aa(t),po();break;case 5:Xo(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:Qo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(xo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ja(e,t,n):(Ii(es,1&es.current),null!==(e=qa(e,t,n))?e.sibling:null);Ii(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return za(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return qa(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,io&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$a(e,t),e=t.pendingProps;var i=Ni(t,_i.current);Po(t,n),i=gs(null,t,r,e,i,n);var s=ys();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(s=!0,Mi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,jo(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=_a(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),ba(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch($a(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===N)return 14}return 2}(r),e=na(r,e),i){case 0:t=Ia(null,t,r,e,n);break e;case 1:t=Ca(null,t,r,e,n);break e;case 11:t=Ea(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,na(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Aa(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Fo(e,t),$o(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Pa(e,t,r,n,i=ca(Error(o(423)),t));break e}if(r!==i){t=Pa(e,t,r,n,i=ca(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=qa(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return Xo(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ta(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return ja(e,t,n);case 4:return Qo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Eo(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ii(xo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ai.current){t=qa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Uo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ao(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ao(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Po(t,n),r=r(i=No(i)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Sa(e,t,r,i=na(r.type,i),n);case 15:return xa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),$a(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Po(t,n),sa(t,r,i),la(t,r,i,n),_a(null,t,r,!0,e,n);case 19:return za(e,t,n);case 22:return ka(e,t,n)}throw Error(o(156,t.tag))};var Wc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=qc(s);a.call(e)}}$c(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=qc(s);o.call(e)}}var s=zc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),uc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=qc(l);a.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),uc((function(){$c(t,l,n,r)})),l}(n,t,e,i,r);return qc(s)}Yc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));$c(e,t,null,null)},Yc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){$c(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&jt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Je()),0===(6&_l)&&(zl=Je()+500,zi()))}break;case 13:uc((function(){var t=Oo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},St=function(e){if(13===e.tag){var t=Oo(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Oo(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},kt=function(){return wt},Tt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Se=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(o(90));W(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=cc,Ae=uc;var eu={usingClientEntryPoint:!1,Events:[wi,bi,Ei,Ie,Ce,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(o(299));var n=!1,r="",i=Wc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Wc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{"use strict";var e={};n.r(e),n.d(e,{boolean:()=>qI,booleanish:()=>GI,commaOrSpaceSeparated:()=>QI,commaSeparated:()=>YI,number:()=>WI,overloadedBoolean:()=>HI,spaceSeparated:()=>KI});var t={};n.r(t),n.d(t,{attentionMarkers:()=>kA,contentInitial:()=>vA,disable:()=>TA,document:()=>yA,flow:()=>bA,flowInitial:()=>wA,insideSpan:()=>xA,string:()=>EA,text:()=>SA});var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>sR,hasStandardBrowserEnv:()=>lR,hasStandardBrowserWebWorkerEnv:()=>cR,navigator:()=>aR,origin:()=>uR});var i,o=n(43),s=n.t(o,2),a=n(391),l=n(950),c=n.t(l,2);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const h="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function f(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,n,r){return void 0===n&&(n=null),u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?y(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function y(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,r){void 0===r&&(r={});let{window:o=document.defaultView,v5Compat:s=!1}=r,a=o.history,l=i.Pop,c=null,f=y();function y(){return(a.state||{idx:null}).idx}function v(){l=i.Pop;let e=y(),t=null==e?null:e-f;f=e,c&&c({action:l,location:b.location,delta:t})}function w(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:g(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==f&&(f=0,a.replaceState(u({},a.state,{idx:f}),""));let b={get action(){return l},get location(){return e(o,a)},listen(e){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(h,v),c=e,()=>{o.removeEventListener(h,v),c=null}},createHref:e=>t(o,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=i.Push;let r=m(b.location,e,t);n&&n(r,e),f=y()+1;let u=p(r,f),h=b.createHref(r);try{a.pushState(u,"",h)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;o.location.assign(h)}s&&c&&c({action:l,location:b.location,delta:1})},replace:function(e,t){l=i.Replace;let r=m(b.location,e,t);n&&n(r,e),f=y();let o=p(r,f),u=b.createHref(r);a.replaceState(o,"",u),s&&c&&c({action:l,location:b.location,delta:0})},go:e=>a.go(e)};return b}var w;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(w||(w={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),E(e,t,n,!1)}function E(e,t,n,r){let i=O(("string"===typeof t?y(t):t).pathname||"/",n);if(null==i)return null;let o=S(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=D(i);s=R(o[a],e,r)}return s}function S(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(d(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=V([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),S(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:N(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of x(e.path))i(e,t,r);else i(e,t)})),t}function x(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=x(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const k=/^:[\w-]+$/,T=3,I=2,C=1,_=10,A=-2,P=e=>"*"===e;function N(e,t){let n=e.split("/"),r=n.length;return n.some(P)&&(r+=A),t&&(r+=I),n.filter((e=>!P(e))).reduce(((e,t)=>e+(k.test(t)?T:""===t?C:_)),r)}function R(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:V([o,u.pathname]),pathnameBase:B(V([o,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(o=V([o,u.pathnameBase]))}return s}function L(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);f("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:o,pathnameBase:s,pattern:e}}function D(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return f(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function M(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function j(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function F(e,t){let n=j(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function U(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=y(e):(i=u({},e),d(!i.pathname||!i.pathname.includes("?"),M("?","pathname","search",i)),d(!i.pathname||!i.pathname.includes("#"),M("#","pathname","hash",i)),d(!i.search||!i.search.includes("#"),M("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?y(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:z(r),hash:$(i)}}(i,o),c=a&&"/"!==a&&a.endsWith("/"),h=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!h||(l.pathname+="/"),l}const V=e=>e.join("/").replace(/\/\/+/g,"/"),B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",$=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const G=["post","put","patch","delete"],H=(new Set(G),["get",...G]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const K=o.createContext(null);const Y=o.createContext(null);const Q=o.createContext(null);const J=o.createContext(null);const X=o.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=o.createContext(null);function ee(){return null!=o.useContext(J)}function te(){return ee()||d(!1),o.useContext(J).location}function ne(e){o.useContext(Q).static||o.useLayoutEffect(e)}function re(){let{isDataRoute:e}=o.useContext(X);return e?function(){let{router:e}=fe(he.UseNavigateStable),t=me(de.UseNavigateStable),n=o.useRef(!1);ne((()=>{n.current=!0}));let r=o.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},i)))}),[e,t]);return r}():function(){ee()||d(!1);let e=o.useContext(K),{basename:t,future:n,navigator:r}=o.useContext(Q),{matches:i}=o.useContext(X),{pathname:s}=te(),a=JSON.stringify(F(i,n.v7_relativeSplatPath)),l=o.useRef(!1);ne((()=>{l.current=!0}));let c=o.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let o=U(n,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:V([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)}),[t,r,a,s,e]);return c}()}function ie(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=o.useContext(Q),{matches:i}=o.useContext(X),{pathname:s}=te(),a=JSON.stringify(F(i,r.v7_relativeSplatPath));return o.useMemo((()=>U(e,JSON.parse(a),s,"path"===n)),[e,a,s,n])}function oe(e,t,n,r){ee()||d(!1);let{navigator:s,static:a}=o.useContext(Q),{matches:l}=o.useContext(X),c=l[l.length-1],u=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let f,p=te();if(t){var m;let e="string"===typeof t?y(t):t;"/"===h||(null==(m=e.pathname)?void 0:m.startsWith(h))||d(!1),f=e}else f=p;let g=f.pathname||"/",v=g;if("/"!==h){let e=h.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!a&&n&&n.matches&&n.matches.length>0?n.matches:b(e,{pathname:v});let E=ue(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:V([h,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:V([h,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,r);return t&&E?o.createElement(J.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:i.Pop}},E):E}function se(){let e=function(){var e;let t=o.useContext(Z),n=pe(de.UseRouteError),r=me(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},t),n?o.createElement("pre",{style:i},n):null,null)}const ae=o.createElement(se,null);class le extends o.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?o.createElement(X.Provider,{value:this.props.routeContext},o.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:n,children:r}=e,i=o.useContext(K);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),o.createElement(X.Provider,{value:t},r)}function ue(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,l=null==(i=n)?void 0:i.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||d(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let o=0;o<a.length;o++){let e=a[o];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=o),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight(((e,r,i)=>{let s,h=!1,d=null,f=null;var p;n&&(s=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||ae,c&&(u<0&&0===i?(p="route-fallback",!1||ge[p]||(ge[p]=!0),h=!0,f=null):u===i&&(h=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,i+1)),g=()=>{let t;return t=s?d:h?f:r.route.Component?o.createElement(r.route.Component,null):r.route.element?r.route.element:e,o.createElement(ce,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?o.createElement(le,{location:n.location,revalidation:n.revalidation,component:d,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var he=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(he||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function fe(e){let t=o.useContext(K);return t||d(!1),t}function pe(e){let t=o.useContext(Y);return t||d(!1),t}function me(e){let t=function(){let e=o.useContext(X);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const ge={};function ye(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function ve(e){let{to:t,replace:n,state:r,relative:i}=e;ee()||d(!1);let{future:s,static:a}=o.useContext(Q),{matches:l}=o.useContext(X),{pathname:c}=te(),u=re(),h=U(t,F(l,s.v7_relativeSplatPath),c,"path"===i),f=JSON.stringify(h);return o.useEffect((()=>u(JSON.parse(f),{replace:n,state:r,relative:i})),[u,f,i,n,r]),null}function we(e){d(!1)}function be(e){let{basename:t="/",children:n=null,location:r,navigationType:s=i.Pop,navigator:a,static:l=!1,future:c}=e;ee()&&d(!1);let u=t.replace(/^\/*/,"/"),h=o.useMemo((()=>({basename:u,navigator:a,static:l,future:W({v7_relativeSplatPath:!1},c)})),[u,c,a,l]);"string"===typeof r&&(r=y(r));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:v="default"}=r,w=o.useMemo((()=>{let e=O(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:v},navigationType:s}}),[u,f,p,m,g,v,s]);return null==w?null:o.createElement(Q.Provider,{value:h},o.createElement(J.Provider,{children:n,value:w}))}function Ee(e){let{children:t,location:n}=e;return oe(Se(t),n)}new Promise((()=>{}));o.Component;function Se(e,t){void 0===t&&(t=[]);let n=[];return o.Children.forEach(e,((e,r)=>{if(!o.isValidElement(e))return;let i=[...t,r];if(e.type===o.Fragment)return void n.push.apply(n,Se(e.props.children,i));e.type!==we&&d(!1),e.props.index&&e.props.children&&d(!1);let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Se(e.props.children,i)),n.push(s)})),n}function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe.apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Te=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(uD){}new Map;const Ie=s.startTransition;c.flushSync,s.useId;function Ce(e){let{basename:t,children:n,future:r,window:i}=e,s=o.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:i,v5Compat:!0})&&(a={}),v((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return m("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:g(t)}),null,a)));let l=s.current,[c,u]=o.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},d=o.useCallback((e=>{h&&Ie?Ie((()=>u(e))):u(e)}),[u,h]);return o.useLayoutEffect((()=>l.listen(d)),[l,d]),o.useEffect((()=>ye(r)),[r]),o.createElement(be,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const _e="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=o.forwardRef((function(e,t){let n,{onClick:r,relative:i,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,p=ke(e,Te),{basename:m}=o.useContext(Q),y=!1;if("string"===typeof u&&Ae.test(u)&&(n=u,_e))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=O(t.pathname,m);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:y=!0}catch(uD){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;ee()||d(!1);let{basename:r,navigator:i}=o.useContext(Q),{hash:s,pathname:a,search:l}=ie(e,{relative:n}),c=a;return"/"!==r&&(c="/"===a?r:V([r,a])),i.createHref({pathname:c,search:l,hash:s})}(u,{relative:i}),w=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:l}=void 0===t?{}:t,c=re(),u=te(),h=ie(e,{relative:a});return o.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:g(u)===g(h);c(e,{replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l})}}),[u,c,h,r,i,n,e,s,a,l])}(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:f});return o.createElement("a",xe({},p,{href:n||v,onClick:y||s?r:function(e){r&&r(e),e.defaultPrevented||w(e)},ref:t,target:c}))}));var Ne,Re;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ne||(Ne={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Re||(Re={}));function Le(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy((function(){return e(...arguments)}),{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function De(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const Oe=e=>Array.isArray(e);function Me(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function je(e){return"string"===typeof e||Array.isArray(e)}function Fe(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function Ue(e,t,n,r){if("function"===typeof t){const[i,o]=Fe(r);t=t(void 0!==n?n:e.custom,i,o)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[i,o]=Fe(r);t=t(void 0!==n?n:e.custom,i,o)}return t}function Ve(e,t,n){const r=e.getProps();return Ue(r,t,void 0!==n?n:r.custom,e)}const Be=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ze=["initial",...Be];function $e(e){let t;return()=>(void 0===t&&(t=e()),t)}const qe=$e((()=>void 0!==window.ScrollTimeline));class Ge{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map((e=>"finished"in e?e.finished:e)))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map((n=>qe()&&n.attachTimeline?n.attachTimeline(e):"function"===typeof t?t(n):void 0));return()=>{n.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class He extends Ge{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function We(e,t){return e?e[t]||e.default||e:void 0}const Ke=2e4;function Ye(e){let t=0;let n=e.next(t);for(;!n.done&&t<Ke;)t+=50,n=e.next(t);return t>=Ke?1/0:t}function Qe(e){return"function"===typeof e}function Je(e,t){e.timeline=t,e.onfinish=null}const Xe=e=>Array.isArray(e)&&"number"===typeof e[0],Ze={linearEasing:void 0};function et(e,t){const n=$e(e);return()=>{var e;return null!==(e=Ze[t])&&void 0!==e?e:n()}}const tt=et((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(uD){return!1}return!0}),"linearEasing"),nt=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},rt=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)r+=e(nt(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function it(e){return Boolean("function"===typeof e&&tt()||!e||"string"===typeof e&&(e in st||tt())||Xe(e)||Array.isArray(e)&&e.every(it))}const ot=e=>{let[t,n,r,i]=e;return`cubic-bezier(${t}, ${n}, ${r}, ${i})`},st={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ot([0,.65,.55,1]),circOut:ot([.55,0,1,.45]),backIn:ot([.31,.01,.66,-.59]),backOut:ot([.33,1.53,.69,.99])};function at(e,t){return e?"function"===typeof e&&tt()?rt(e,t):Xe(e)?ot(e):Array.isArray(e)?e.map((e=>at(e,t)||st.easeOut)):st[e]:void 0}const lt={x:!1,y:!1};function ct(){return lt.x||lt.y}function ut(e,t){const n=function(e,t,n){var r;if(e instanceof Element)return[e];if("string"===typeof e){let i=document;t&&(i=t.current);const o=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function ht(e){return t=>{"touch"===t.pointerType||ct()||e(t)}}const dt=(e,t)=>!!t&&(e===t||dt(e,t.parentElement)),ft=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary,pt=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const mt=new WeakSet;function gt(e){return t=>{"Enter"===t.key&&e(t)}}function yt(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function vt(e){return ft(e)&&!ct()}function wt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,o]=ut(e,n),s=e=>{const r=e.currentTarget;if(!vt(e)||mt.has(r))return;mt.add(r);const o=t(e),s=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),vt(e)&&mt.has(r)&&(mt.delete(r),"function"===typeof o&&o(e,{success:t}))},a=e=>{s(e,n.useGlobalTarget||dt(r,e.target))},l=e=>{s(e,!1)};window.addEventListener("pointerup",a,i),window.addEventListener("pointercancel",l,i)};return r.forEach((e=>{(function(e){return pt.has(e.tagName)||-1!==e.tabIndex})(e)||null!==e.getAttribute("tabindex")||(e.tabIndex=0);(n.useGlobalTarget?window:e).addEventListener("pointerdown",s,i),e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=gt((()=>{if(mt.has(n))return;yt(n,"down");const e=gt((()=>{yt(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>yt(n,"cancel")),t)}));n.addEventListener("keydown",r,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),t)})(e,i)),i)})),o}const bt=e=>1e3*e,Et=e=>e/1e3,St=e=>e;const xt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],kt=new Set(xt),Tt=new Set(["width","height","top","left","right","bottom",...xt]),It=e=>Oe(e)?e[e.length-1]||0:e,Ct=!1,_t=!1;const At=["read","resolveKeyframes","update","preRender","render","postRender"];function Pt(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=At.reduce(((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function a(t){o.has(t)&&(l.schedule(t),e()),t(s)}const l={schedule:function(e){const i=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&r?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),i.has(e)||i.add(e),e},cancel:e=>{n.delete(e),o.delete(e)},process:e=>{s=e,r?i=!0:(r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,i&&(i=!1,l.process(e)))}};return l}(o),e)),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:d}=s,f=()=>{const o=_t?i.timestamp:performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(o-i.timestamp,40),1),i.timestamp=o,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),h.process(i),d.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(f))},p=At.reduce(((t,o)=>{const a=s[o];return t[o]=function(t){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(f)),a.schedule(t,o,s)},t}),{});return{schedule:p,cancel:e=>{for(let t=0;t<At.length;t++)s[At[t]].cancel(e)},state:i,steps:s}}const{schedule:Nt,cancel:Rt,state:Lt,steps:Dt}=Pt("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:St,!0);let Ot;function Mt(){Ot=void 0}const jt={now:()=>(void 0===Ot&&jt.set(Lt.isProcessing||_t?Lt.timestamp:performance.now()),Ot),set:e=>{Ot=e,queueMicrotask(Mt)}};function Ft(e,t){-1===e.indexOf(t)&&e.push(t)}function Ut(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Vt{constructor(){this.subscriptions=[]}add(e){return Ft(this.subscriptions,e),()=>Ut(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Bt(e,t){return t?e*(1e3/t):0}const zt={current:void 0};class $t{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=jt.now();t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&t.events.change&&t.events.change.notify(t.current),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){var t;this.current=e,this.updatedAt=jt.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Vt);const n=this.events[e].add(t);return"change"===e?()=>{n(),Nt.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return zt.current&&zt.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=jt.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Bt(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qt(e,t){return new $t(e,t)}function Gt(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,qt(n))}const Ht=e=>Boolean(e&&e.getVelocity);function Wt(e,t){const n=e.getValue("willChange");if(r=n,Boolean(Ht(r)&&r.add))return n.add(t);var r}const Kt=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Yt="data-"+Kt("framerAppearId");function Qt(e){return e.props[Yt]}const Jt=!1,Xt=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Zt(e,t,n,r){if(e===t&&n===r)return St;const i=t=>function(e,t,n,r,i){let o,s,a=0;do{s=t+(n-t)/2,o=Xt(s,r,i)-e,o>0?n=s:t=s}while(Math.abs(o)>1e-7&&++a<12);return s}(t,0,1,e,n);return e=>0===e||1===e?e:Xt(i(e),t,r)}const en=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,tn=e=>t=>1-e(1-t),nn=Zt(.33,1.53,.69,.99),rn=tn(nn),on=en(rn),sn=e=>(e*=2)<1?.5*rn(e):.5*(2-Math.pow(2,-10*(e-1))),an=e=>1-Math.sin(Math.acos(e)),ln=tn(an),cn=en(an),un=e=>/^0[^.\s]+$/u.test(e);const hn=(e,t,n)=>n>t?t:n<e?e:n,dn={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},fn={...dn,transform:e=>hn(0,1,e)},pn={...dn,default:1},mn=e=>Math.round(1e5*e)/1e5,gn=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const yn=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vn=(e,t)=>n=>Boolean("string"===typeof n&&yn.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),wn=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[i,o,s,a]=r.match(gn);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},bn={...dn,transform:e=>Math.round((e=>hn(0,255,e))(e))},En={test:vn("rgb","red"),parse:wn("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+bn.transform(t)+", "+bn.transform(n)+", "+bn.transform(r)+", "+mn(fn.transform(i))+")"}};const Sn={test:vn("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:En.transform},xn=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),kn=xn("deg"),Tn=xn("%"),In=xn("px"),Cn=xn("vh"),_n=xn("vw"),An={...Tn,parse:e=>Tn.parse(e)/100,transform:e=>Tn.transform(100*e)},Pn={test:vn("hsl","hue"),parse:wn("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+Tn.transform(mn(n))+", "+Tn.transform(mn(r))+", "+mn(fn.transform(i))+")"}},Nn={test:e=>En.test(e)||Sn.test(e)||Pn.test(e),parse:e=>En.test(e)?En.parse(e):Pn.test(e)?Pn.parse(e):Sn.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?En.transform(e):Pn.transform(e)},Rn=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const Ln="number",Dn="color",On=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mn(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const s=t.replace(On,(e=>(Nn.test(e)?(r.color.push(o),i.push(Dn),n.push(Nn.parse(e))):e.startsWith("var(")?(r.var.push(o),i.push("var"),n.push(e)):(r.number.push(o),i.push(Ln),n.push(parseFloat(e))),++o,"${}"))).split("${}");return{values:n,split:s,indexes:r,types:i}}function jn(e){return Mn(e).values}function Fn(e){const{split:t,types:n}=Mn(e),r=t.length;return e=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],void 0!==e[o]){const t=n[o];i+=t===Ln?mn(e[o]):t===Dn?Nn.transform(e[o]):e[o]}return i}}const Un=e=>"number"===typeof e?0:e;const Vn={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(gn))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Rn))||void 0===n?void 0:n.length)||0)>0},parse:jn,createTransformer:Fn,getAnimatableNone:function(e){const t=jn(e);return Fn(e)(t.map(Un))}},Bn=new Set(["brightness","contrast","saturate","opacity"]);function zn(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(gn)||[];if(!r)return e;const i=n.replace(r,"");let o=Bn.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const $n=/\b([a-z-]*)\(.*?\)/gu,qn={...Vn,getAnimatableNone:e=>{const t=e.match($n);return t?t.map(zn).join(" "):e}},Gn={borderWidth:In,borderTopWidth:In,borderRightWidth:In,borderBottomWidth:In,borderLeftWidth:In,borderRadius:In,radius:In,borderTopLeftRadius:In,borderTopRightRadius:In,borderBottomRightRadius:In,borderBottomLeftRadius:In,width:In,maxWidth:In,height:In,maxHeight:In,top:In,right:In,bottom:In,left:In,padding:In,paddingTop:In,paddingRight:In,paddingBottom:In,paddingLeft:In,margin:In,marginTop:In,marginRight:In,marginBottom:In,marginLeft:In,backgroundPositionX:In,backgroundPositionY:In},Hn={rotate:kn,rotateX:kn,rotateY:kn,rotateZ:kn,scale:pn,scaleX:pn,scaleY:pn,scaleZ:pn,skew:kn,skewX:kn,skewY:kn,distance:In,translateX:In,translateY:In,translateZ:In,x:In,y:In,z:In,perspective:In,transformPerspective:In,opacity:fn,originX:An,originY:An,originZ:In},Wn={...dn,transform:Math.round},Kn={...Gn,...Hn,zIndex:Wn,size:In,fillOpacity:fn,strokeOpacity:fn,numOctaves:Wn},Yn={...Kn,color:Nn,backgroundColor:Nn,outlineColor:Nn,fill:Nn,stroke:Nn,borderColor:Nn,borderTopColor:Nn,borderRightColor:Nn,borderBottomColor:Nn,borderLeftColor:Nn,filter:qn,WebkitFilter:qn},Qn=e=>Yn[e];function Jn(e,t){let n=Qn(e);return n!==qn&&(n=Vn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Xn=new Set(["auto","none","0"]);const Zn=e=>e===dn||e===In,er=(e,t)=>parseFloat(e.split(", ")[t]),tr=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/u);if(o)return er(o[1],t);{const t=i.match(/^matrix\((.+)\)$/u);return t?er(t[1],e):0}},nr=new Set(["x","y","z"]),rr=xt.filter((e=>!nr.has(e)));const ir={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:tr(4,13),y:tr(5,14)};ir.translateX=ir.x,ir.translateY=ir.y;const or=new Set;let sr=!1,ar=!1;function lr(){if(ar){const e=Array.from(or).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return rr.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{let[n,r]=t;var i;null===(i=e.getValue(n))||void 0===i||i.set(r)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}ar=!1,sr=!1,or.forEach((e=>e.complete())),or.clear()}function cr(){or.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(ar=!0)}))}class ur{constructor(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(or.add(this),sr||(sr=!0,Nt.read(cr),Nt.resolveKeyframes(lr))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let i=0;i<e.length;i++)if(null===e[i])if(0===i){const i=null===r||void 0===r?void 0:r.get(),o=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,o);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=o),r&&void 0===i&&r.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),or.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,or.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}let hr=St,dr=St;const fr=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),pr=e=>t=>"string"===typeof t&&t.startsWith(e),mr=pr("--"),gr=pr("var(--"),yr=e=>!!gr(e)&&vr.test(e.split("/*")[0].trim()),vr=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,wr=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function br(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;dr(n<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);const[r,i]=function(e){const t=wr.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${null!==n&&void 0!==n?n:r}`,i]}(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const e=o.trim();return fr(e)?parseFloat(e):e}return yr(i)?br(i,t,n+1):i}const Er=e=>t=>t.test(e),Sr=[dn,In,Tn,kn,_n,Cn,{test:e=>"auto"===e,parse:e=>e}],xr=e=>Sr.find(Er(e));class kr extends ur{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let n=e[a];if("string"===typeof n&&(n=n.trim(),yr(n))){const r=br(n,t.current);void 0!==r&&(e[a]=r),a===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!Tt.has(n)||2!==e.length)return;const[r,i]=e,o=xr(r),s=xr(i);if(o!==s)if(Zn(o)&&Zn(s))for(let a=0;a<e.length;a++){const t=e[a];"string"===typeof t&&(e[a]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)("number"===typeof(r=e[i])?0===r:null===r||"none"===r||"0"===r||un(r))&&n.push(i);var r;n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"===typeof t&&!Xn.has(t)&&Mn(t).values.length&&(r=e[i]),i++}if(r&&n)for(const o of t)e[o]=Jn(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ir[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,s=r[o];r[o]=ir[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach((e=>{let[n,r]=e;t.getValue(n).set(r)})),this.resolveNoneKeyframes()}}const Tr=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!Vn.test(e)&&"0"!==e||e.startsWith("url(")));function Ir(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const o=e[e.length-1],s=Tr(i,t),a=Tr(o,t);return hr(s===a,`You are trying to animate ${t} from "${i}" to "${o}". ${i} is not an animatable value - to enable this animation set ${i} to a value animatable to ${o} via the \`style\` property.`),!(!s||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||Qe(n))&&r)}const Cr=e=>null!==e;function _r(e,t,n){let{repeat:r,repeatType:i="loop"}=t;const o=e.filter(Cr),s=r&&"loop"!==i&&r%2===1?0:o.length-1;return s&&void 0!==n?n:o[s]}class Ar{constructor(e){let{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",...a}=e;this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=jt.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(cr(),lr()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=jt.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:i,delay:o,onComplete:s,onUpdate:a,isGenerator:l}=this.options;if(!l&&!Ir(e,n,r,i)){if(Jt||!o)return a&&a(_r(e,this.options,t)),s&&s(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved={keyframes:e,finalKeyframe:t,...c},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}const Pr=(e,t,n)=>e+(t-e)*n;function Nr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Rr(e,t){return n=>n>0?t:e}const Lr=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},Dr=[Sn,En,Pn];function Or(e){const t=(e=>Dr.find((t=>t.test(e))))(e);if(hr(Boolean(t),`'${e}' is not an animatable color. Use the equivalent color code instead.`),!Boolean(t))return!1;let n=t.parse(e);return t===Pn&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let o=0,s=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;o=Nr(i,e,t+1/3),s=Nr(i,e,t),a=Nr(i,e,t-1/3)}else o=s=a=r;return{red:Math.round(255*o),green:Math.round(255*s),blue:Math.round(255*a),alpha:i}}(n)),n}const Mr=(e,t)=>{const n=Or(e),r=Or(t);if(!n||!r)return Rr(e,t);const i={...n};return e=>(i.red=Lr(n.red,r.red,e),i.green=Lr(n.green,r.green,e),i.blue=Lr(n.blue,r.blue,e),i.alpha=Pr(n.alpha,r.alpha,e),En.transform(i))},jr=(e,t)=>n=>t(e(n)),Fr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(jr)},Ur=new Set(["none","hidden"]);function Vr(e,t){return n=>Pr(e,t,n)}function Br(e){return"number"===typeof e?Vr:"string"===typeof e?yr(e)?Rr:Nn.test(e)?Mr:qr:Array.isArray(e)?zr:"object"===typeof e?Nn.test(e)?Mr:$r:Rr}function zr(e,t){const n=[...e],r=n.length,i=e.map(((e,n)=>Br(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function $r(e,t){const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Br(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const qr=(e,t)=>{const n=Vn.createTransformer(t),r=Mn(e),i=Mn(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Ur.has(e)&&!i.values.length||Ur.has(t)&&!r.values.length?function(e,t){return Ur.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):Fr(zr(function(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const s=t.types[o],a=e.indexes[s][i[s]],l=null!==(n=e.values[a])&&void 0!==n?n:0;r[o]=l,i[s]++}return r}(r,i),i.values),n):(hr(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),Rr(e,t))};function Gr(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Pr(e,t,n);return Br(e)(e,t)}function Hr(e,t,n){const r=Math.max(t-5,0);return Bt(n-e(r),t-r)}const Wr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Kr=.001;function Yr(e){let t,n,{duration:r=Wr.duration,bounce:i=Wr.bounce,velocity:o=Wr.velocity,mass:s=Wr.mass}=e;hr(r<=bt(Wr.maxDuration),"Spring duration must be 10 seconds or less");let a=1-i;a=hn(Wr.minDamping,Wr.maxDamping,a),r=hn(Wr.minDuration,Wr.maxDuration,Et(r)),a<1?(t=e=>{const t=e*a,n=t*r,i=t-o,s=Jr(e,a),l=Math.exp(-n);return Kr-i/s*l},n=e=>{const n=e*a*r,i=n*o+o,s=Math.pow(a,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=Jr(Math.pow(e,2),a);return(-t(e)+Kr>0?-1:1)*((i-s)*l)/c}):(t=e=>Math.exp(-e*r)*((e-o)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(o-e)));const l=function(e,t,n){let r=n;for(let i=1;i<Qr;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=bt(r),isNaN(l))return{stiffness:Wr.stiffness,damping:Wr.damping,duration:r};{const e=Math.pow(l,2)*s;return{stiffness:e,damping:2*a*Math.sqrt(s*e),duration:r}}}const Qr=12;function Jr(e,t){return e*Math.sqrt(1-t*t)}const Xr=["duration","bounce"],Zr=["stiffness","damping","mass"];function ei(e,t){return t.some((t=>void 0!==e[t]))}function ti(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wr.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wr.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:c,mass:u,duration:h,velocity:d,isResolvedFromDuration:f}=function(e){let t={velocity:Wr.velocity,stiffness:Wr.stiffness,damping:Wr.damping,mass:Wr.mass,isResolvedFromDuration:!1,...e};if(!ei(e,Zr)&&ei(e,Xr))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,o=2*hn(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Wr.mass,stiffness:i,damping:o}}else{const n=Yr(e);t={...t,...n,mass:Wr.mass},t.isResolvedFromDuration=!0}return t}({...n,velocity:-Et(n.velocity||0)}),p=d||0,m=c/(2*Math.sqrt(l*u)),g=s-o,y=Et(Math.sqrt(l/u)),v=Math.abs(g)<5;let w;if(r||(r=v?Wr.restSpeed.granular:Wr.restSpeed.default),i||(i=v?Wr.restDelta.granular:Wr.restDelta.default),m<1){const e=Jr(y,m);w=t=>{const n=Math.exp(-m*y*t);return s-n*((p+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)w=e=>s-Math.exp(-y*e)*(g+(p+y*g)*e);else{const e=y*Math.sqrt(m*m-1);w=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return s-n*((p+m*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const b={calculatedDuration:f&&h||null,next:e=>{const t=w(e);if(f)a.done=e>=h;else{let n=0;m<1&&(n=0===e?bt(p):Hr(w,e,t));const o=Math.abs(n)<=r,l=Math.abs(s-t)<=i;a.done=o&&l}return a.value=a.done?s:t,a},toString:()=>{const e=Math.min(Ye(b),Ke),t=rt((t=>b.next(e*t).value),e,30);return e+"ms "+t}};return b}function ni(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:h}=e;const d=t[0],f={done:!1,value:d},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=d+m,y=void 0===a?g:a(g);y!==g&&(m=y-d);const v=e=>-m*Math.exp(-e/i),w=e=>y+v(e),b=e=>{const t=v(e),n=w(e);f.done=Math.abs(t)<=u,f.value=f.done?y:n};let E,S;const x=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(f.value)&&(E=e,S=ti({keyframes:[f.value,p(f.value)],velocity:Hr(w,e,f.value),damping:o,stiffness:s,restDelta:u,restSpeed:h}))};return x(0),{calculatedDuration:null,next:e=>{let t=!1;return S||void 0!==E||(t=!0,b(e),x(e)),void 0!==E&&e>=E?S.next(e-E):(!t&&b(e),f)}}}const ri=Zt(.42,0,1,1),ii=Zt(0,0,.58,1),oi=Zt(.42,0,.58,1),si={linear:St,easeIn:ri,easeInOut:oi,easeOut:ii,circIn:an,circInOut:cn,circOut:ln,backIn:rn,backInOut:on,backOut:nn,anticipate:sn},ai=e=>{if(Xe(e)){dr(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return Zt(t,n,r,i)}return"string"===typeof e?(dr(void 0!==si[e],`Invalid easing type '${e}'`),si[e]):e};function li(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=e.length;if(dr(o===t.length,"Both input and output ranges must be the same length"),1===o)return()=>t[0];if(2===o&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=function(e,t,n){const r=[],i=n||Gr,o=e.length-1;for(let s=0;s<o;s++){let n=i(e[s],e[s+1]);if(t){const e=Array.isArray(t)?t[s]||St:t;n=Fr(e,n)}r.push(n)}return r}(t,r,i),l=a.length,c=n=>{if(s&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=nt(e[r],e[r+1],n);return a[r](i)};return n?t=>c(hn(e[0],e[o-1],t)):c}function ci(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=nt(0,t,r);e.push(Pr(n,1,i))}}(t,e.length-1),t}function ui(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const o=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(ai):ai(i),s={done:!1,value:n[0]},a=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:ci(n),t),l=li(a,n,{ease:Array.isArray(o)?o:(c=n,u=o,c.map((()=>u||oi)).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(s.value=l(e),s.done=e>=t,s)}}const hi=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>Nt.update(t,!0),stop:()=>Rt(t),now:()=>Lt.isProcessing?Lt.timestamp:jt.now()}},di={decay:ni,inertia:ni,tween:ui,keyframes:ui,spring:ti},fi=e=>e/100;class pi extends Ar{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:r,keyframes:i}=this.options,o=(null===r||void 0===r?void 0:r.KeyframeResolver)||ur;this.resolver=new o(i,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=this.options,s=Qe(t)?t:di[t]||ui;let a,l;s!==ui&&"number"!==typeof e[0]&&(a=Fr(fi,Gr(e[0],e[1])),e=[0,100]);const c=s({...this.options,keyframes:e});"mirror"===i&&(l=s({...this.options,keyframes:[...e].reverse(),velocity:-o})),null===c.calculatedDuration&&(c.calculatedDuration=Ye(c));const{calculatedDuration:u}=c,h=u+r;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:a,calculatedDuration:u,resolvedDuration:h,totalDuration:h*(n+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:o,mapPercentToKeyframes:s,keyframes:a,calculatedDuration:l,totalDuration:c,resolvedDuration:u}=n;if(null===this.startTime)return i.next(0);const{delay:h,repeat:d,repeatType:f,repeatDelay:p,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-h*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let v=this.currentTime,w=i;if(d){const e=Math.min(this.currentTime,c)/u;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,d+1);Boolean(t%2)&&("reverse"===f?(n=1-n,p&&(n-=p/u)):"mirror"===f&&(w=o)),v=hn(0,1,n)*u}const b=y?{done:!1,value:a[0]}:w.next(v);s&&(b.value=s(b.value));let{done:E}=b;y||null===l||(E=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const S=null===this.holdTime&&("finished"===this.state||"running"===this.state&&E);return S&&void 0!==r&&(b.value=_r(a,this.options,r)),m&&m(b.value),S&&this.finish(),b}get duration(){const{resolved:e}=this;return e?Et(e.calculatedDuration):0}get time(){return Et(this.currentTime)}set time(e){e=bt(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Et(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=hi,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!==n&&void 0!==n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const mi=new Set(["opacity","clipPath","filter","transform"]);const gi=$e((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));const yi={anticipate:sn,backInOut:on,circInOut:cn};class vi extends Ar{constructor(e){super(e);const{name:t,motionValue:n,element:r,keyframes:i}=this.options;this.resolver=new kr(i,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:r,ease:i,type:o,motionValue:s,name:a,startTime:l}=this.options;if(!s.owner||!s.owner.current)return!1;var c;if("string"===typeof i&&tt()&&i in yi&&(i=yi[i]),Qe((c=this.options).type)||"spring"===c.type||!it(c.ease)){const{onComplete:t,onUpdate:s,motionValue:a,element:l,...c}=this.options,u=function(e,t){const n=new pi({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let o=0;for(;!r.done&&o<2e4;)r=n.sample(o),i.push(r.value),o+=10;return{times:void 0,keyframes:i,duration:o-10,ease:"linear"}}(e,c);1===(e=u.keyframes).length&&(e[1]=e[0]),n=u.duration,r=u.times,i=u.ease,o="keyframes"}const u=function(e,t,n){let{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a="easeInOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=at(a,i);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:"reverse"===s?"alternate":"normal"})}(s.owner.current,a,e,{...this.options,duration:n,times:r,ease:i});return u.startTime=null!==l&&void 0!==l?l:this.calcStartTime(),this.pendingTimeline?(Je(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:n}=this.options;s.set(_r(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:n,times:r,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Et(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Et(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=bt(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return St;const{animation:n}=t;Je(n,e)}else this.pendingTimeline=e;return St}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:i,ease:o,times:s}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const{motionValue:e,onUpdate:t,onComplete:a,element:l,...c}=this.options,u=new pi({...c,keyframes:n,duration:r,type:i,ease:o,times:s,isGenerator:!0}),h=bt(this.time);e.setWithVelocity(u.sample(h-10).value,u.sample(h).value,10)}const{onStop:a}=this.options;a&&a(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:o,type:s}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:a,transformTemplate:l}=t.owner.getProps();return gi()&&n&&mi.has(n)&&!a&&!l&&!r&&"mirror"!==i&&0!==o&&"inertia"!==s}}const wi={type:"spring",stiffness:500,damping:25,restSpeed:10},bi={type:"keyframes",duration:.8},Ei={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Si=(e,t)=>{let{keyframes:n}=t;return n.length>2?bi:kt.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:wi:Ei};const xi=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return s=>{const a=We(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c-=bt(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:i};(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:u,...h}=e;return!!Object.keys(h).length})(a)||(u={...u,...Si(e,u)}),u.duration&&(u.duration=bt(u.duration)),u.repeatDelay&&(u.repeatDelay=bt(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let h=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(u.duration=0,0===u.delay&&(h=!0)),(Jt||Ct)&&(h=!0,u.duration=0,u.delay=0),h&&!o&&void 0!==t.get()){const e=_r(u.keyframes,a);if(void 0!==e)return Nt.update((()=>{u.onUpdate(e),u.onComplete()})),new He([])}return!o&&vi.supports(u)?new vi(u):new pi(u)}};function ki(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function Ti(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var o;let{transition:s=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(s=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const h in l){const t=e.getValue(h,null!==(o=e.latestValues[h])&&void 0!==o?o:null),r=l[h];if(void 0===r||u&&ki(u,h))continue;const i={delay:n,...We(s||{},h)};let a=!1;if(window.MotionHandoffAnimation){const t=Qt(e);if(t){const e=window.MotionHandoffAnimation(t,h,Nt);null!==e&&(i.startTime=e,a=!0)}}Wt(e,h),t.start(xi(h,t,r,e.shouldReduceMotion&&Tt.has(h)?{type:!1}:i,e,a));const d=t.animation;d&&c.push(d)}return a&&Promise.all(c).then((()=>{Nt.update((()=>{a&&function(e,t){const n=Ve(e,t);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o)Gt(e,s,It(o[s]))}(e,a)}))})),c}function Ii(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;const i=Ve(e,t,"exit"===n.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const s=i?()=>Promise.all(Ti(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:s,staggerDirection:a}=o;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5?arguments[5]:void 0;const s=[],a=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return a-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(Ci).forEach(((e,r)=>{e.notify("AnimationStart",t),s.push(Ii(e,t,{...o,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(s)}(e,t,i+r,s,a,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[e,t]="beforeChildren"===l?[s,a]:[a,s];return e().then((()=>t()))}return Promise.all([s(),a(n.delay)])}function Ci(e,t){return e.sortNodePosition(t)}const _i=ze.length;function Ai(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Ai(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<_i;n++){const r=ze[n],i=e.props[r];(je(i)||!1===i)&&(t[r]=i)}return t}const Pi=[...Be].reverse(),Ni=Be.length;function Ri(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>Ii(e,t,r)));n=Promise.all(i)}else if("string"===typeof t)n=Ii(e,t,r);else{const i="function"===typeof t?Ve(e,t,r.custom):t;n=Promise.all(Ti(e,i,r))}return n.then((()=>{e.notify("AnimationComplete",t)}))}(e,n,r)})))}function Li(e){let t=Ri(e),n=Mi(),r=!0;const i=t=>(n,r)=>{var i;const o=Ve(e,r,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(o){const{transition:e,transitionEnd:t,...r}=o;n={...n,...r,...t}}return n};function o(o){const{props:s}=e,a=Ai(e.parent)||{},l=[],c=new Set;let u={},h=1/0;for(let t=0;t<Ni;t++){const d=Pi[t],f=n[d],p=void 0!==s[d]?s[d]:a[d],m=je(p),g=d===o?f.isActive:null;!1===g&&(h=t);let y=p===a[d]&&p!==s[d]&&m;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),f.protectedKeys={...u},!f.isActive&&null===g||!p&&!f.prevProp||De(p)||"boolean"===typeof p)continue;const v=Di(f.prevProp,p);let w=v||d===o&&f.isActive&&!y&&m||t>h&&m,b=!1;const E=Array.isArray(p)?p:[p];let S=E.reduce(i(d),{});!1===g&&(S={});const{prevResolvedValues:x={}}=f,k={...x,...S},T=t=>{w=!0,c.has(t)&&(b=!0,c.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in k){const t=S[e],n=x[e];if(u.hasOwnProperty(e))continue;let r=!1;r=Oe(t)&&Oe(n)?!Me(t,n):t!==n,r?void 0!==t&&null!==t?T(e):c.add(e):void 0!==t&&c.has(e)?T(e):f.protectedKeys[e]=!0}f.prevProp=p,f.prevResolvedValues=S,f.isActive&&(u={...u,...S}),r&&e.blockInitialAnimation&&(w=!1);w&&(!(y&&v)||b)&&l.push(...E.map((e=>({animation:e,options:{type:d}}))))}if(c.size){const t={};c.forEach((n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null})),l.push({animation:t})}let d=Boolean(l.length);return!r||!1!==s.initial&&s.initial!==s.animate||e.manuallyAnimateOnMount||(d=!1),r=!1,d?t(l):Promise.resolve()}return{animateChanges:o,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const s=o(t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=Mi(),r=!0}}}function Di(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Me(t,e)}function Oi(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Mi(){return{animate:Oi(!0),whileInView:Oi(),whileHover:Oi(),whileTap:Oi(),whileDrag:Oi(),whileFocus:Oi(),exit:Oi()}}class ji{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Fi=0;const Ui={animation:{Feature:class extends ji{constructor(e){super(e),e.animationState||(e.animationState=Li(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();De(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends ji{constructor(){super(...arguments),this.id=Fi++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}};function Vi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Bi(e){return{point:{x:e.pageX,y:e.pageY}}}function zi(e,t,n,r){return Vi(e,t,(e=>t=>ft(t)&&e(t,Bi(t)))(n),r)}const $i=(e,t)=>Math.abs(e-t);class qi{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Wi(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=$i(e.x,t.x),r=$i(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=Lt;this.history.push({...r,timestamp:i});const{onStart:o,onMove:s}=this.handlers;t||(o&&o(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Gi(t,this.transformPagePoint),Nt.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const o=Wi("pointercancel"===e.type?this.lastMoveEventInfo:Gi(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,o),r&&r(e,o)},!ft(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const o=Gi(Bi(e),this.transformPagePoint),{point:s}=o,{timestamp:a}=Lt;this.history=[{...s,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,Wi(o,this.history)),this.removeListeners=Fr(zi(this.contextWindow,"pointermove",this.handlePointerMove),zi(this.contextWindow,"pointerup",this.handlePointerUp),zi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Rt(this.updatePoint)}}function Gi(e,t){return t?{point:t(e.point)}:e}function Hi(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Wi(e,t){let{point:n}=e;return{point:n,delta:Hi(n,Yi(t)),offset:Hi(n,Ki(t)),velocity:Qi(t,.1)}}function Ki(e){return e[0]}function Yi(e){return e[e.length-1]}function Qi(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Yi(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>bt(t)));)n--;if(!r)return{x:0,y:0};const o=Et(i.timestamp-r.timestamp);if(0===o)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Ji(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Xi(e){return e.max-e.min}function Zi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Pr(t.min,t.max,e.origin),e.scale=Xi(n)/Xi(t),e.translate=Pr(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function eo(e,t,n,r){Zi(e.x,t.x,n.x,r?r.originX:void 0),Zi(e.y,t.y,n.y,r?r.originY:void 0)}function to(e,t,n){e.min=n.min+t.min,e.max=e.min+Xi(t)}function no(e,t,n){e.min=t.min-n.min,e.max=e.min+Xi(t)}function ro(e,t,n){no(e.x,t.x,n.x),no(e.y,t.y,n.y)}function io(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function oo(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const so=.35;function ao(e,t,n){return{min:lo(e,t),max:lo(e,n)}}function lo(e,t){return"number"===typeof e?e:e[t]||0}const co=()=>({x:{min:0,max:0},y:{min:0,max:0}});function uo(e){return[e("x"),e("y")]}function ho(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function fo(e){return void 0===e||1===e}function po(e){let{scale:t,scaleX:n,scaleY:r}=e;return!fo(t)||!fo(n)||!fo(r)}function mo(e){return po(e)||go(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function go(e){return yo(e.x)||yo(e.y)}function yo(e){return e&&"0%"!==e}function vo(e,t,n){return n+t*(e-n)}function wo(e,t,n,r,i){return void 0!==i&&(e=vo(e,i,r)),vo(e,n,r)+t}function bo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=wo(e.min,t,n,r,i),e.max=wo(e.max,t,n,r,i)}function Eo(e,t){let{x:n,y:r}=t;bo(e.x,n.translate,n.scale,n.originPoint),bo(e.y,r.translate,r.scale,r.originPoint)}const So=.999999999999,xo=1.0000000000001;function ko(e,t){e.min=e.min+t,e.max=e.max+t}function To(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;bo(e,t,n,Pr(e.min,e.max,i),r)}function Io(e,t){To(e.x,t.x,t.scaleX,t.scale,t.originX),To(e.y,t.y,t.scaleY,t.scale,t.originY)}function Co(e,t){return ho(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const _o=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},Ao=new WeakMap;class Po{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new qi(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Bi(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(o=n)||"y"===o?lt[o]?null:(lt[o]=!0,()=>{lt[o]=!1}):lt.x||lt.y?null:(lt.x=lt.y=!0,()=>{lt.x=lt.y=!1}),!this.openDragLock))return;var o;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),uo((e=>{let t=this.getAxisMotionValue(e).get()||0;if(Tn.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Xi(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&Nt.postRender((()=>i(e,t))),Wt(this.visualElement,"transform");const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:s}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(s),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),o&&o(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>uo((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:_o(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Nt.postRender((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!No(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?Pr(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Pr(i,e,n.max):Math.min(e,i)),e}(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&Ji(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:o}=t;return{x:io(e.x,r,o),y:io(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:so;return!1===e?e=0:!0===e&&(e=so),{x:ao(e,"left","right"),y:ao(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&uo((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ji(e))return!1;const n=e.current;dr(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=Co(e,n),{scroll:i}=t;return i&&(ko(r.x,i.offset.x),ko(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let o=function(e,t){return{x:oo(e.x,t.x),y:oo(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!e,e&&(o=ho(e))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),a=this.constraints||{},l=uo((s=>{if(!No(s,t,this.currentDirection))return;let l=a&&a[s]||{};o&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,h={type:"inertia",velocity:n?e[s]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(s,h)}));return Promise.all(l).then(s)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Wt(this.visualElement,e),n.start(xi(e,n,0,t,this.visualElement,!1))}stopAnimation(){uo((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){uo((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){uo((t=>{const{drag:n}=this.getProps();if(!No(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:o}=r.layout.layoutBox[t];i.set(e[t]-Pr(n,o,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Ji(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};uo((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=Xi(e),i=Xi(t);return i>r?n=nt(t.min,t.max-r,e.min):r>i&&(n=nt(e.min,e.max-i,t.min)),hn(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),uo((t=>{if(!No(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:o}=this.constraints[t];n.set(Pr(i,o,r[t]))}))}addListeners(){if(!this.visualElement.current)return;Ao.set(this.visualElement,this);const e=zi(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Ji(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Nt.read(t);const i=Vi(window,"resize",(()=>this.scalePositionWithinConstraints())),o=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(uo((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=so,dragMomentum:s=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:s}}}function No(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Ro=e=>(t,n)=>{e&&Nt.postRender((()=>e(t,n)))};var Lo=n(579);const Do=(0,o.createContext)(null);function Oo(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,o.useContext)(Do);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=(0,o.useId)();(0,o.useEffect)((()=>{e&&i(s)}),[e]);const a=(0,o.useCallback)((()=>e&&r&&r(s)),[s,r,e]);return!n&&r?[!1,a]:[!0]}const Mo=(0,o.createContext)({}),jo=(0,o.createContext)({}),Fo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Uo(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Vo={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!In.test(e))return e;e=parseFloat(e)}return`${Uo(e,t.target.x)}% ${Uo(e,t.target.y)}%`}},Bo={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,o=Vn.parse(e);if(o.length>5)return i;const s=Vn.createTransformer(e),a="number"!==typeof o[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;o[0+a]/=l,o[1+a]/=c;const u=Pr(l,c,.5);return"number"===typeof o[2+a]&&(o[2+a]/=u),"number"===typeof o[3+a]&&(o[3+a]/=u),s(o)}},zo={};const{schedule:$o,cancel:qo}=Pt(queueMicrotask,!1);class Go extends o.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var o;o=Wo,Object.assign(zo,o),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Fo.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,o=n.projection;return o?(o.isPresent=i,r||e.layoutDependency!==t||void 0===t?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Nt.postRender((()=>{const e=o.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),$o.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ho(e){const[t,n]=Oo(),r=(0,o.useContext)(Mo);return(0,Lo.jsx)(Go,{...e,layoutGroup:r,switchLayoutGroup:(0,o.useContext)(jo),isPresent:t,safeToRemove:n})}const Wo={borderRadius:{...Vo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vo,borderTopRightRadius:Vo,borderBottomLeftRadius:Vo,borderBottomRightRadius:Vo,boxShadow:Bo};const Ko=(e,t)=>e.depth-t.depth;class Yo{constructor(){this.children=[],this.isDirty=!1}add(e){Ft(this.children,e),this.isDirty=!0}remove(e){Ut(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ko),this.isDirty=!1,this.children.forEach(e)}}function Qo(e,t){const n=jt.now(),r=i=>{let{timestamp:o}=i;const s=o-n;s>=t&&(Rt(r),e(s-t))};return Nt.read(r,!0),()=>Rt(r)}function Jo(e){const t=Ht(e)?e.get():e;return(e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}const Xo=["TopLeft","TopRight","BottomLeft","BottomRight"],Zo=Xo.length,es=e=>"string"===typeof e?parseFloat(e):e,ts=e=>"number"===typeof e||In.test(e);function ns(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const rs=os(0,.5,ln),is=os(.5,.95,St);function os(e,t,n){return r=>r<e?0:r>t?1:n(nt(e,t,r))}function ss(e,t){e.min=t.min,e.max=t.max}function as(e,t){ss(e.x,t.x),ss(e.y,t.y)}function ls(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function cs(e,t,n,r,i){return e=vo(e-=t,1/n,r),void 0!==i&&(e=vo(e,1/i,r)),e}function us(e,t,n,r,i){let[o,s,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;Tn.test(t)&&(t=parseFloat(t),t=Pr(s.min,s.max,t/100)-s.min);if("number"!==typeof t)return;let a=Pr(o.min,o.max,r);e===o&&(a-=t),e.min=cs(e.min,t,n,a,i),e.max=cs(e.max,t,n,a,i)}(e,t[o],t[s],t[a],t.scale,r,i)}const hs=["x","scaleX","originX"],ds=["y","scaleY","originY"];function fs(e,t,n,r){us(e.x,t,hs,n?n.x:void 0,r?r.x:void 0),us(e.y,t,ds,n?n.y:void 0,r?r.y:void 0)}function ps(e){return 0===e.translate&&1===e.scale}function ms(e){return ps(e.x)&&ps(e.y)}function gs(e,t){return e.min===t.min&&e.max===t.max}function ys(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function vs(e,t){return ys(e.x,t.x)&&ys(e.y,t.y)}function ws(e){return Xi(e.x)/Xi(e.y)}function bs(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Es{constructor(){this.members=[]}add(e){Ft(this.members,e),e.scheduleRender()}remove(e){if(Ut(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Ss={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},xs="undefined"!==typeof window&&void 0!==window.MotionDebug,ks=["","X","Y","Z"],Ts={visibility:"hidden"};let Is=0;function Cs(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function _s(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Qt(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Nt,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&_s(r)}function As(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Is++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,xs&&(Ss.totalNodes=Ss.resolvedTargetDeltas=Ss.recalculatedProjection=0),this.nodes.forEach(Rs),this.nodes.forEach(Us),this.nodes.forEach(Vs),this.nodes.forEach(Ls),xs&&window.MotionDebug.record(Ss)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Yo)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Vt),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:o,visualElement:s}=this.options;if(s&&!s.current&&s.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(o||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=Qo(r,250),Fo.hasAnimatedSinceResize&&(Fo.hasAnimatedSinceResize=!1,this.nodes.forEach(Fs))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&s&&(i||o)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||s.getDefaultTransition()||Hs,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=s.getProps(),c=!this.targetLayout||!vs(this.targetLayout,i)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e={...We(o,"layout"),onPlay:a,onComplete:l};(s.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||Fs(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Rt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Bs),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_s(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Os);this.isUpdating||this.nodes.forEach(Ms),this.isUpdating=!1,this.nodes.forEach(js),this.nodes.forEach(Ps),this.nodes.forEach(Ns),this.clearAllSnapshots();const e=jt.now();Lt.delta=hn(0,1e3/60,e-Lt.timestamp),Lt.timestamp=e,Lt.isProcessing=!0,Dt.update.process(Lt),Dt.preRender.process(Lt),Dt.render.process(Lt),Lt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$o.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ds),this.sharedNodes.forEach(zs)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Nt.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!o)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!ms(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||mo(this.latestValues)||i)&&(o(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Ys((r=n).x),Ys(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(Js))){const{scroll:e}=this.root;e&&(ko(n.x,e.offset.x),ko(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(as(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:o}=t;t!==this.root&&i&&o.layoutScroll&&(i.wasRoot&&as(n,e),ko(n.x,i.offset.x),ko(n.y,i.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};as(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Io(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),mo(e.latestValues)&&Io(n,e.latestValues)}return mo(this.latestValues)&&Io(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};as(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!mo(e.latestValues))continue;po(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};as(r,e.measurePageBox()),fs(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return mo(this.latestValues)&&fs(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Lt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:o}=this.options;if(this.layout&&(i||o)){if(this.resolvedRelativeTargetAt=Lt.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},ro(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),as(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var s,a,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,a=this.relativeTarget,l=this.relativeParent.target,to(s.x,a.x,l.x),to(s.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):as(this.target,this.layout.layoutBox),Eo(this.target,this.targetDelta)):as(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},ro(this.relativeTargetOrigin,this.target,e.target),as(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}xs&&Ss.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!po(this.parent.latestValues)&&!go(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Lt.timestamp&&(r=!1),r)return;const{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!o)return;as(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let o,s;t.x=t.y=1;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:i}=o.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Io(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Eo(e,s)),r&&mo(o.latestValues)&&Io(e,o.latestValues))}t.x<xo&&t.x>So&&(t.x=1),t.y<xo&&t.y>So&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(ls(this.prevProjectionDelta.x,this.projectionDelta.x),ls(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),eo(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===s&&this.treeScale.y===a&&bs(this.projectionDelta.x,this.prevProjectionDelta.x)&&bs(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),xs&&Ss.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const s={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(Gs));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,d,f,p,m,g;$s(o.x,e.x,n),$s(o.y,e.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ro(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f=this.relativeTarget,p=this.relativeTargetOrigin,m=s,g=n,qs(f.x,p.x,m.x,g),qs(f.y,p.y,m.y,g),h&&(l=this.relativeTarget,d=h,gs(l.x,d.x)&&gs(l.y,d.y))&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),as(h,this.relativeTarget)),a&&(this.animationValues=i,function(e,t,n,r,i,o){i?(e.opacity=Pr(0,void 0!==n.opacity?n.opacity:1,rs(r)),e.opacityExit=Pr(void 0!==t.opacity?t.opacity:1,0,is(r))):o&&(e.opacity=Pr(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let s=0;s<Zo;s++){const i=`border${Xo[s]}Radius`;let o=ns(t,i),a=ns(n,i);void 0===o&&void 0===a||(o||(o=0),a||(a=0),0===o||0===a||ts(o)===ts(a)?(e[i]=Math.max(Pr(es(o),es(a),r),0),(Tn.test(a)||Tn.test(o))&&(e[i]+="%")):e[i]=a)}(t.rotate||n.rotate)&&(e.rotate=Pr(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Rt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Nt.update((()=>{Fo.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=Ht(e)?e:qt(e);return r.start(xi("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Qs(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Xi(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Xi(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}as(t,n),Io(t,i),eo(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Es);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&Cs("z",e,r,this.animationValues);for(let i=0;i<ks.length;i++)Cs(`rotate${ks[i]}`,e,r,this.animationValues),Cs(`skew${ks[i]}`,e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Ts;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Jo(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Jo(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!mo(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const s=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=function(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,s=(null===n||void 0===n?void 0:n.z)||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:o,skewX:s,skewY:a}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),i&&(r+=`rotateX(${i}deg) `),o&&(r+=`rotateY(${o}deg) `),s&&(r+=`skewX(${s}deg) `),a&&(r+=`skewY(${a}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return 1===a&&1===l||(r+=`scale(${a}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,s),i&&(r.transform=i(s,r.transform));const{x:a,y:l}=this.projectionDelta;r.transformOrigin=`${100*a.origin}% ${100*l.origin}% 0`,o.animationValues?r.opacity=o===this?null!==(n=null!==(t=s.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:r.opacity=o===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const c in zo){if(void 0===s[c])continue;const{correct:e,applyTo:t}=zo[c],n="none"===r.transform?s[c]:e(s[c],o);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=o===this?Jo(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(Os),this.root.sharedNodes.clear()}}}function Ps(e){e.updateLayout()}function Ns(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;"size"===i?uo((e=>{const r=o?n.measuredBox[e]:n.layoutBox[e],i=Xi(r);r.min=t[e].min,r.max=r.min+i})):Qs(i,n.layoutBox,t)&&uo((r=>{const i=o?n.measuredBox[r]:n.layoutBox[r],s=Xi(t[r]);i.max=i.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+s)}));const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};eo(s,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};o?eo(a,e.applyTransform(r,!0),n.measuredBox):eo(a,t,n.layoutBox);const l=!ms(s);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:o}=r;if(i&&o){const s={x:{min:0,max:0},y:{min:0,max:0}};ro(s,n.layoutBox,i.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};ro(a,t,o.layoutBox),vs(s,a)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=s,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:s,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Rs(e){xs&&Ss.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Ls(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Ds(e){e.clearSnapshot()}function Os(e){e.clearMeasurements()}function Ms(e){e.isLayoutDirty=!1}function js(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Fs(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Us(e){e.resolveTargetDelta()}function Vs(e){e.calcProjection()}function Bs(e){e.resetSkewAndRotation()}function zs(e){e.removeLeadSnapshot()}function $s(e,t,n){e.translate=Pr(t.translate,0,n),e.scale=Pr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function qs(e,t,n,r){e.min=Pr(t.min,n.min,r),e.max=Pr(t.max,n.max,r)}function Gs(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Hs={duration:.45,ease:[.4,0,.1,1]},Ws=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ks=Ws("applewebkit/")&&!Ws("chrome/")?Math.round:St;function Ys(e){e.min=Ks(e.min),e.max=Ks(e.max)}function Qs(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=ws(t),i=ws(n),o=.2,!(Math.abs(r-i)<=o));var r,i,o}function Js(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const Xs=As({attachResizeListener:(e,t)=>Vi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zs={current:void 0},ea=As({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Zs.current){const e=new Xs({});e.mount(window),e.setOptions({layoutScroll:!0}),Zs.current=e}return Zs.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),ta={pan:{Feature:class extends ji{constructor(){super(...arguments),this.removePointerDownListener=St}onPointerDown(e){this.session=new qi(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_o(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Ro(e),onStart:Ro(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Nt.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=zi(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends ji{constructor(e){super(e),this.removeGroupControls=St,this.removeListeners=St,this.controls=new Po(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||St}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:ea,MeasureLayout:Ho}};function na(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&Nt.postRender((()=>i(t,Bi(t))))}function ra(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&Nt.postRender((()=>i(t,Bi(t))))}const ia=new WeakMap,oa=new WeakMap,sa=e=>{const t=ia.get(e.target);t&&t(e)},aa=e=>{e.forEach(sa)};function la(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;oa.has(r)||oa.set(r,{});const i=oa.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver(aa,{root:t,...n})),i[o]}(t);return ia.set(e,n),r.observe(e),()=>{ia.delete(e),r.unobserve(e)}}const ca={some:0,all:1};const ua={inView:{Feature:class extends ji{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:ca[r]};return la(this.node.current,o,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),o=t?n:r;o&&o(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends ji{mount(){const{current:e}=this.node;e&&(this.unmount=wt(e,(e=>(ra(this.node,e,"Start"),(e,t)=>{let{success:n}=t;return ra(this.node,e,n?"End":"Cancel")})),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends ji{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(uD){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fr(Vi(this.node.current,"focus",(()=>this.onFocus())),Vi(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends ji{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,o]=ut(e,n),s=ht((e=>{const{target:n}=e,r=t(e);if("function"!==typeof r||!n)return;const o=ht((e=>{r(e),n.removeEventListener("pointerleave",o)}));n.addEventListener("pointerleave",o,i)}));return r.forEach((e=>{e.addEventListener("pointerenter",s,i)})),o}(e,(e=>(na(this.node,e,"Start"),e=>na(this.node,e,"End")))))}unmount(){}}}},ha={layout:{ProjectionNode:ea,MeasureLayout:Ho}},da=(0,o.createContext)({strict:!1}),fa=(0,o.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),pa=(0,o.createContext)({});function ma(e){return De(e.animate)||ze.some((t=>je(e[t])))}function ga(e){return Boolean(ma(e)||e.variants)}function ya(e){const{initial:t,animate:n}=function(e,t){if(ma(e)){const{initial:t,animate:n}=e;return{initial:!1===t||je(t)?t:void 0,animate:je(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,o.useContext)(pa));return(0,o.useMemo)((()=>({initial:t,animate:n})),[va(t),va(n)])}function va(e){return Array.isArray(e)?e.join(" "):e}const wa="undefined"!==typeof window,ba={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ea={};for(const n in ba)Ea[n]={isEnabled:e=>ba[n].some((t=>!!e[t]))};const Sa=Symbol.for("motionComponentSymbol");function xa(e,t,n){return(0,o.useCallback)((r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):Ji(n)&&(n.current=r))}),[t])}const ka=wa?o.useLayoutEffect:o.useEffect;function Ta(e,t,n,r,i){var s,a;const{visualElement:l}=(0,o.useContext)(pa),c=(0,o.useContext)(da),u=(0,o.useContext)(Do),h=(0,o.useContext)(fa).reducedMotion,d=(0,o.useRef)(null);r=r||c.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:h}));const f=d.current,p=(0,o.useContext)(jo);!f||f.projection||!i||"html"!==f.type&&"svg"!==f.type||function(e,t,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Ia(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:Boolean(s)||a&&Ji(a),visualElement:e,animationType:"string"===typeof o?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}(d.current,n,i,p);const m=(0,o.useRef)(!1);(0,o.useInsertionEffect)((()=>{f&&m.current&&f.update(n,u)}));const g=n[Yt],y=(0,o.useRef)(Boolean(g)&&!(null===(s=window.MotionHandoffIsComplete)||void 0===s?void 0:s.call(window,g))&&(null===(a=window.MotionHasOptimisedAnimation)||void 0===a?void 0:a.call(window,g)));return ka((()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),$o.render(f.render),y.current&&f.animationState&&f.animationState.animateChanges())})),(0,o.useEffect)((()=>{f&&(!y.current&&f.animationState&&f.animationState.animateChanges(),y.current&&(queueMicrotask((()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,g)})),y.current=!1))})),f}function Ia(e){if(e)return!1!==e.options.allowProjection?e.projection:Ia(e.parent)}function Ca(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:i,Component:s}=e;var a,l;function c(e,t){let a;const l={...(0,o.useContext)(fa),...e,layoutId:_a(e)},{isStatic:c}=l,u=ya(e),h=i(e,c);if(!c&&wa){!function(){(0,o.useContext)(da).strict;0}();const e=function(e){const{drag:t,layout:n}=Ea;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:(null===t||void 0===t?void 0:t.isEnabled(e))||(null===n||void 0===n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);a=e.MeasureLayout,u.visualElement=Ta(s,h,l,n,e.ProjectionNode)}return(0,Lo.jsxs)(pa.Provider,{value:u,children:[a&&u.visualElement?(0,Lo.jsx)(a,{visualElement:u.visualElement,...l}):null,r(s,e,xa(h,u.visualElement,t),h,c,u.visualElement)]})}t&&function(e){for(const t in e)Ea[t]={...Ea[t],...e[t]}}(t),c.displayName=`motion.${"string"===typeof s?s:`create(${null!==(l=null!==(a=s.displayName)&&void 0!==a?a:s.name)&&void 0!==l?l:""})`}`;const u=(0,o.forwardRef)(c);return u[Sa]=s,u}function _a(e){let{layoutId:t}=e;const n=(0,o.useContext)(Mo).id;return n&&void 0!==t?n+"-"+t:t}const Aa=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Pa(e){return"string"===typeof e&&!e.includes("-")&&!!(Aa.indexOf(e)>-1||/[A-Z]/u.test(e))}function Na(e){const t=(0,o.useRef)(null);return null===t.current&&(t.current=e()),t.current}const Ra=e=>(t,n)=>{const r=(0,o.useContext)(pa),i=(0,o.useContext)(Do),s=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:o,onUpdate:s}=e;const a={latestValues:La(t,n,r,i),renderState:o()};return s&&(a.onMount=e=>s({props:t,current:e,...a}),a.onUpdate=e=>s(e)),a}(e,t,r,i);return n?s():Na(s)};function La(e,t,n,r){const i={},o=r(e,{});for(const d in o)i[d]=Jo(o[d]);let{initial:s,animate:a}=e;const l=ma(e),c=ga(e);t&&c&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===a&&(a=t.animate));let u=!!n&&!1===n.initial;u=u||!1===s;const h=u?a:s;if(h&&"boolean"!==typeof h&&!De(h)){const t=Array.isArray(h)?h:[h];for(let n=0;n<t.length;n++){const r=Ue(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}const Da=(e,t)=>t&&"number"===typeof e?t.transform(e):e,Oa={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ma=xt.length;function ja(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let s=!1,a=!1;for(const l in t){const e=t[l];if(kt.has(l))s=!0;else if(mr(l))i[l]=e;else{const t=Da(e,Kn[l]);l.startsWith("origin")?(a=!0,o[l]=t):r[l]=t}}if(t.transform||(s||n?r.transform=function(e,t,n){let r="",i=!0;for(let o=0;o<Ma;o++){const s=xt[o],a=e[s];if(void 0===a)continue;let l=!0;if(l="number"===typeof a?a===(s.startsWith("scale")?1:0):0===parseFloat(a),!l||n){const e=Da(a,Kn[s]);l||(i=!1,r+=`${Oa[s]||s}(${e}) `),n&&(t[s]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:e="50%",originY:t="50%",originZ:n=0}=o;r.transformOrigin=`${e} ${t} ${n}`}}const Fa={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ua={offset:"strokeDashoffset",array:"strokeDasharray"};function Va(e,t,n){return"string"===typeof e?e:In.transform(t+n*e)}function Ba(e,t,n,r){let{attrX:i,attrY:o,attrScale:s,originX:a,originY:l,pathLength:c,pathSpacing:u=1,pathOffset:h=0,...d}=t;if(ja(e,d,r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:m}=e;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(void 0!==a||void 0!==l||p.transform)&&(p.transformOrigin=function(e,t,n){return`${Va(t,e.x,e.width)} ${Va(n,e.y,e.height)}`}(m,void 0!==a?a:.5,void 0!==l?l:.5)),void 0!==i&&(f.x=i),void 0!==o&&(f.y=o),void 0!==s&&(f.scale=s),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const o=i?Fa:Ua;e[o.offset]=In.transform(-r);const s=In.transform(t),a=In.transform(n);e[o.array]=`${s} ${a}`}(f,c,u,h,!1)}const za=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),$a=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),qa=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Ga(e,t,n,r){let{style:i,vars:o}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const s in o)e.style.setProperty(s,o[s])}const Ha=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Wa(e,t,n,r){Ga(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Ha.has(i)?i:Kt(i),t.attrs[i])}function Ka(e,t){let{layout:n,layoutId:r}=t;return kt.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!zo[e]||"opacity"===e)}function Ya(e,t,n){var r;const{style:i}=e,o={};for(const s in i)(Ht(i[s])||t.style&&Ht(t.style[s])||Ka(s,e)||void 0!==(null===(r=null===n||void 0===n?void 0:n.getValue(s))||void 0===r?void 0:r.liveStyle))&&(o[s]=i[s]);return o}function Qa(e,t,n){const r=Ya(e,t,n);for(const i in e)if(Ht(e[i])||Ht(t[i])){r[-1!==xt.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}const Ja=["x","y","width","height","cx","cy","r"],Xa={useVisualState:Ra({scrapeMotionValuesFromProps:Qa,createRenderState:$a,onUpdate:e=>{let{props:t,prevProps:n,current:r,renderState:i,latestValues:o}=e;if(!r)return;let s=!!t.drag;if(!s)for(const l in o)if(kt.has(l)){s=!0;break}if(!s)return;let a=!n;if(n)for(let l=0;l<Ja.length;l++){const e=Ja[l];t[e]!==n[e]&&(a=!0)}a&&Nt.read((()=>{!function(e,t){try{t.dimensions="function"===typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(uD){t.dimensions={x:0,y:0,width:0,height:0}}}(r,i),Nt.render((()=>{Ba(i,o,qa(r.tagName),t.transformTemplate),Wa(r,i)}))}))}})},Za={useVisualState:Ra({scrapeMotionValuesFromProps:Ya,createRenderState:za})};function el(e,t,n){for(const r in t)Ht(t[r])||Ka(r,n)||(e[r]=t[r])}function tl(e,t){const n={};return el(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,o.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return ja(e,t,n),Object.assign({},e.vars,e.style)}),[t])}(e,t)),n}function nl(e,t){const n={},r=tl(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const rl=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function il(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||rl.has(e)}let ol=e=>!il(e);try{(sl=require("@emotion/is-prop-valid").default)&&(ol=e=>e.startsWith("on")?!il(e):sl(e))}catch(hD){}var sl;function al(e,t,n,r){const i=(0,o.useMemo)((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return Ba(n,t,qa(r),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};el(t,e.style,e),i.style={...t,...i.style}}return i}function ll(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,i,s)=>{let{latestValues:a}=i;const l=(Pa(t)?al:nl)(n,a,s,t),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(ol(i)||!0===n&&il(i)||!t&&!il(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),u=t!==o.Fragment?{...c,...l,ref:r}:{},{children:h}=n,d=(0,o.useMemo)((()=>Ht(h)?h.get():h),[h]);return(0,o.createElement)(t,{...u,children:d})}}function cl(e,t){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return Ca({...Pa(n)?Xa:Za,preloadedFeatures:e,useRender:ll(r),createVisualElement:t,Component:n})}}const ul={current:null},hl={current:!1};const dl=[...Sr,Nn,Vn],fl=new WeakMap;const pl=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ml{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ur,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=jt.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Nt.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=s;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=Boolean(o),this.isControllingVariants=ma(n),this.isVariantNode=ga(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const e=d[f];void 0!==l[f]&&Ht(e)&&e.set(l[f],!1)}}mount(e){this.current=e,fl.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),hl.current||function(){if(hl.current=!0,wa)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ul.current=e.matches;e.addListener(t),t()}else ul.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||ul.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){fl.delete(this.current),this.projection&&this.projection.unmount(),Rt(this.notifyUpdate),Rt(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=kt.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Nt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),i(),o&&o(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Ea){const t=Ea[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<pl.length;n++){const t=pl[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],o=n[r];if(Ht(i))e.addValue(r,i);else if(Ht(o))e.addValue(r,qt(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,qt(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=qt(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return void 0!==r&&null!==r&&("string"===typeof r&&(fr(r)||un(r))?r=parseFloat(r):!(e=>dl.find(Er(e)))(r)&&Vn.test(t)&&(r=Jn(e,t)),this.setBaseTarget(e,Ht(r)?r.get():r)),Ht(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"===typeof n||"object"===typeof n){const i=Ue(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);i&&(r=i[e])}if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||Ht(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new Vt),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class gl extends ml{constructor(){super(...arguments),this.KeyframeResolver=kr}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ht(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}}class yl extends gl{constructor(){super(...arguments),this.type="html",this.renderInstance=Ga}readValueFromInstance(e,t){if(kt.has(t)){const e=Qn(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(mr(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Co(e,n)}build(e,t,n){ja(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Ya(e,t,n)}}class vl extends gl{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=co}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(kt.has(t)){const e=Qn(t);return e&&e.default||0}return t=Ha.has(t)?t:Kt(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Qa(e,t,n)}build(e,t,n){Ba(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){Wa(e,t,0,r)}mount(e){this.isSVGTag=qa(e.tagName),super.mount(e)}}const wl=(e,t)=>Pa(e)?new vl(t):new yl(t,{allowProjection:e!==o.Fragment}),bl=Le(cl({...Ui,...ua,...ta,...ha},wl)),El=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Sl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(El(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new xl;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class xl extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kl=function(e){return function(e){const t=El(e);return Sl.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Tl=function(e){try{return Sl.decodeString(e,!0)}catch(uD){console.error("base64Decode failed: ",uD)}return null};function Il(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Cl=()=>{try{return Il().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"https://energiaa-backend-epvyx237va-uc.a.run.app",REACT_APP_FIREBASE_PROJECT_ID:"energia-efaa2",REACT_APP_FIREBASE_API_KEY:"AIzaSyD92YfQLNuid_T2mIau9uMReNeuCvuWkyc",REACT_APP_FIREBASE_AUTH_DOMAIN:"energia-efaa2.firebaseapp.com",REACT_APP_FIREBASE_STORAGE_BUCKET:"energia-efaa2.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"10109012241",REACT_APP_FIREBASE_APP_ID:"1:10109012241:web:c4humhcnv60n9t3a6gfrvb1d8ku6gksp",REACT_APP_GOOGLE_OAUTH_CLIENT_ID:"10109012241-c4humhcnv60n9t3a6gfrvb1d8ku6gksp.apps.googleusercontent.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-27JFGTSXJ0",REACT_APP_GOOGLE_CLIENT_ID:"10109012241-c4humhcnv60n9t3a6gfrvb1d8ku6gksp.apps.googleusercontent.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(uD){return}const t=e&&Tl(e[1]);return t&&JSON.parse(t)})()}catch(uD){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${uD}`)}},_l=e=>{var t,n;return null===(n=null===(t=Cl())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Al=()=>{var e;return null===(e=Cl())||void 0===e?void 0:e.config},Pl=e=>{var t;return null===(t=Cl())||void 0===t?void 0:t[`_${e}`]};class Nl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Rl(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ll(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Dl(){return!function(){var e;const t=null===(e=Cl())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(uD){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ol(){try{return"object"===typeof indexedDB}catch(uD){return!1}}function Ml(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class jl extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,jl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Ul,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new jl(n,o,t)}}const Ul=/\{\$([^}]+)}/g;function Vl(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Bl(n)&&Bl(o)){if(!Vl(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Bl(e){return null!==e&&"object"===typeof e}function zl(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function $l(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function ql(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Gl{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Hl),void 0===r.error&&(r.error=Hl),void 0===r.complete&&(r.complete=Hl);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(uD){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(uD){"undefined"!==typeof console&&console.error&&console.error(uD)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Hl(){}function Wl(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function Kl(e){return e&&e._delegate?e._delegate:e}class Yl{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ql="[DEFAULT]";class Jl{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Nl;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(uD){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(uD){if(r)return null;throw uD}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ql})}catch(uD){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(uD){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ql;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ql;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ql;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(hD){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Ql?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(hD){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ql;return this.component?this.component.multipleInstances?e:Ql:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Xl{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Jl(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Zl=[];var ec;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ec||(ec={}));const tc={debug:ec.DEBUG,verbose:ec.VERBOSE,info:ec.INFO,warn:ec.WARN,error:ec.ERROR,silent:ec.SILENT},nc=ec.INFO,rc={[ec.DEBUG]:"log",[ec.VERBOSE]:"log",[ec.INFO]:"info",[ec.WARN]:"warn",[ec.ERROR]:"error"},ic=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=rc[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r](`[${n}]  ${e.name}:`,...o)};class oc{constructor(e){this.name=e,this._logLevel=nc,this._logHandler=ic,this._userLogHandler=null,Zl.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ec))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?tc[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ec.DEBUG,...t),this._logHandler(this,ec.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ec.VERBOSE,...t),this._logHandler(this,ec.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ec.INFO,...t),this._logHandler(this,ec.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ec.WARN,...t),this._logHandler(this,ec.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ec.ERROR,...t),this._logHandler(this,ec.ERROR,...t)}}let sc,ac;const lc=new WeakMap,cc=new WeakMap,uc=new WeakMap,hc=new WeakMap,dc=new WeakMap;let fc={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return cc.get(e);if("objectStoreNames"===t)return e.objectStoreNames||uc.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gc(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function pc(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ac||(ac=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(yc(this),n),gc(lc.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gc(e.apply(yc(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(yc(this),t,...r);return uc.set(o,t.sort?t.sort():[t]),gc(o)}}function mc(e){return"function"===typeof e?pc(e):(e instanceof IDBTransaction&&function(e){if(cc.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));cc.set(e,t)}(e),t=e,(sc||(sc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,fc):e);var t}function gc(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(gc(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&lc.set(t,e)})).catch((()=>{})),dc.set(t,e),t}(e);if(hc.has(e))return hc.get(e);const t=mc(e);return t!==e&&(hc.set(e,t),dc.set(t,e)),t}const yc=e=>dc.get(e);function vc(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=gc(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(gc(s.result),e.oldVersion,e.newVersion,gc(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}const wc=["get","getKey","getAll","getAllKeys","count"],bc=["put","add","delete","clear"],Ec=new Map;function Sc(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ec.get(t))return Ec.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=bc.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!wc.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return Ec.set(t,o),o}fc=(e=>({...e,get:(t,n,r)=>Sc(t,n)||e.get(t,n,r),has:(t,n)=>!!Sc(t,n)||e.has(t,n)}))(fc);class xc{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const kc="@firebase/app",Tc="0.11.5",Ic=new oc("@firebase/app"),Cc="@firebase/app-compat",_c="@firebase/analytics-compat",Ac="@firebase/analytics",Pc="@firebase/app-check-compat",Nc="@firebase/app-check",Rc="@firebase/auth",Lc="@firebase/auth-compat",Dc="@firebase/database",Oc="@firebase/data-connect",Mc="@firebase/database-compat",jc="@firebase/functions",Fc="@firebase/functions-compat",Uc="@firebase/installations",Vc="@firebase/installations-compat",Bc="@firebase/messaging",zc="@firebase/messaging-compat",$c="@firebase/performance",qc="@firebase/performance-compat",Gc="@firebase/remote-config",Hc="@firebase/remote-config-compat",Wc="@firebase/storage",Kc="@firebase/storage-compat",Yc="@firebase/firestore",Qc="@firebase/vertexai",Jc="@firebase/firestore-compat",Xc="firebase",Zc="[DEFAULT]",eu={[kc]:"fire-core",[Cc]:"fire-core-compat",[Ac]:"fire-analytics",[_c]:"fire-analytics-compat",[Nc]:"fire-app-check",[Pc]:"fire-app-check-compat",[Rc]:"fire-auth",[Lc]:"fire-auth-compat",[Dc]:"fire-rtdb",[Oc]:"fire-data-connect",[Mc]:"fire-rtdb-compat",[jc]:"fire-fn",[Fc]:"fire-fn-compat",[Uc]:"fire-iid",[Vc]:"fire-iid-compat",[Bc]:"fire-fcm",[zc]:"fire-fcm-compat",[$c]:"fire-perf",[qc]:"fire-perf-compat",[Gc]:"fire-rc",[Hc]:"fire-rc-compat",[Wc]:"fire-gcs",[Kc]:"fire-gcs-compat",[Yc]:"fire-fst",[Jc]:"fire-fst-compat",[Qc]:"fire-vertex","fire-js":"fire-js",[Xc]:"fire-js-all"},tu=new Map,nu=new Map,ru=new Map;function iu(e,t){try{e.container.addComponent(t)}catch(uD){Ic.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,uD)}}function ou(e){const t=e.name;if(ru.has(t))return Ic.debug(`There were multiple attempts to register component ${t}.`),!1;ru.set(t,e);for(const n of tu.values())iu(n,e);for(const n of nu.values())iu(n,e);return!0}function su(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function au(e){return null!==e&&void 0!==e&&void 0!==e.settings}const lu=new Fl("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class cu{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Yl("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lu.create("app-deleted",{appName:this._name})}}const uu="11.6.1";function hu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Zc,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw lu.create("bad-app-name",{appName:String(i)});if(n||(n=Al()),!n)throw lu.create("no-options");const o=tu.get(i);if(o){if(Vl(n,o.options)&&Vl(r,o.config))return o;throw lu.create("duplicate-app",{appName:i})}const s=new Xl(i);for(const l of ru.values())s.addComponent(l);const a=new cu(n,r,s);return tu.set(i,a),a}function du(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zc;const t=tu.get(e);if(!t&&e===Zc&&Al())return hu();if(!t)throw lu.create("no-app",{appName:e});return t}function fu(e,t,n){var r;let i=null!==(r=eu[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Ic.warn(e.join(" "))}ou(new Yl(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const pu="firebase-heartbeat-store";let mu=null;function gu(){return mu||(mu=vc("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(pu)}catch(uD){console.warn(uD)}}}).catch((e=>{throw lu.create("idb-open",{originalErrorMessage:e.message})}))),mu}async function yu(e,t){try{const n=(await gu()).transaction(pu,"readwrite"),r=n.objectStore(pu);await r.put(t,vu(e)),await n.done}catch(uD){if(uD instanceof jl)Ic.warn(uD.message);else{const t=lu.create("idb-set",{originalErrorMessage:null===uD||void 0===uD?void 0:uD.message});Ic.warn(t.message)}}}function vu(e){return`${e.name}!${e.options.appId}`}class wu{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Eu(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=bu();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(uD){Ic.warn(uD)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=bu(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Su(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Su(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=kl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(uD){return Ic.warn(uD),""}}}function bu(){return(new Date).toISOString().substring(0,10)}class Eu{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ol()&&Ml().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await gu()).transaction(pu),n=await t.objectStore(pu).get(vu(e));return await t.done,n}catch(uD){if(uD instanceof jl)Ic.warn(uD.message);else{const t=lu.create("idb-get",{originalErrorMessage:null===uD||void 0===uD?void 0:uD.message});Ic.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return yu(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return yu(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Su(e){return kl(JSON.stringify({version:2,heartbeats:e})).length}var xu;xu="",ou(new Yl("platform-logger",(e=>new xc(e)),"PRIVATE")),ou(new Yl("heartbeat",(e=>new wu(e)),"PRIVATE")),fu(kc,Tc,xu),fu(kc,Tc,"esm2017"),fu("fire-js","");fu("firebase","11.6.1","app");var ku,Tu,Iu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Cu={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,s=0;s<t;){if(0==o)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return d(s(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=o.add(r);0>=c.l(e)&&(i=i.add(n),o=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=s(n)).j(t);h(c)||0<c.l(e);)c=(o=s(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],s=0;s<i;s++)o[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var s=i+(65535&this.i(o))+(65535&e.i(o)),a=(s>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=a>>>16,s&=65535,a&=65535,n[o]=a<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(o)>>>16,g=65535&e.i(o);n[2*i+2*o]+=f*g,p(n,2*i+2*o),n[2*i+2*o+1]+=l*g,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*m,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*m,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Tu=Cu.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),i=a,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=s(Math.pow(n,l)),i=i.j(l).add(s(c))):i=(i=i.j(r)).add(s(c))}return i},ku=Cu.Integer=r}).apply("undefined"!==typeof Iu?Iu:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var _u,Au,Pu,Nu,Ru,Lu,Du,Ou,Mu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ju={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Mu&&Mu];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break e;i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function w(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function x(e){i.setTimeout((()=>{throw e}),0)}function k(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var T=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new I),(e=>e.reset()));class I{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,_=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const n=T.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(N)}};var N=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(n){x(n)}var t=T;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_=!1};function R(){this.s=this.s,this.C=this.C}function L(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},L.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function O(e,t){if(L.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&O.aa.h.call(this)}}h(O,L);var M={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}B.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=$(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new U(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),G={};function H(e,t,n,r,i){if(r&&r.once)return K(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)H(e,t[o],n,r,i);return null}return n=te(n),e&&e[j]?e.K(t,n,s(r)?!!r.capture:!!r,i):W(e,t,n,!1,r,i)}function W(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=s(i)?!!i.capture:!!i,l=Z(e);if(l||(e[q]=l=new B(e)),(n=l.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function K(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)K(e,t[o],n,r,i);return null}return n=te(n),e&&e[j]?e.L(t,n,s(r)?!!r.capture:!!r,i):W(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Y(e,t[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=te(n),e&&e[j]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(o=e.g[t],n,r,i))&&(V(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,i)),(n=-1<e?t[e]:null)&&Q(n))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[j])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(z(n,e),0==n.h&&(n.src=null,t[q]=null)):V(e)}}}function J(e){return e in G?G[e]:G[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Q(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof B?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){R.call(this),this.i=new B(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new L(t,e);else if(t instanceof L)t.target=t.target||e;else{var i=t;E(t=new L(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=ie(s,r,!0,t)&&i}if(i=ie(s=t.g=e,r,!0,t)&&i,i=ie(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ie(s=t.g=n[o],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.da&&s.capture==n){var a=s.listener,l=s.ha||s.src;s.fa&&z(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function se(e){e.g=oe((()=>{e.g=null,e.i&&(e.i=!1,se(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,R),ne.prototype[j]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends R{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){R.call(this),this.h=e,this.g={}}h(le,R);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Q(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,de=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){L.call(this,"d")}function we(){L.call(this,"c")}h(ve,L),h(we,L);var be={},Ee=null;function Se(){return Ee=Ee||new ne}function xe(e){L.call(this,be.La,e)}function ke(e){const t=Se();re(t,new xe(t))}function Te(e,t){L.call(this,be.STAT_EVENT,e),this.stat=t}function Ie(e){const t=Se();re(t,new Te(t,e))}function Ce(e,t){L.call(this,be.Ma,e),this.size=t}function _e(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ae(){this.g=!0}function Pe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return he(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}be.La="serverreachability",h(xe,L),be.STAT_EVENT="statevent",h(Te,L),be.Ma="timingevent",h(Ce,L),Ae.prototype.xa=function(){this.g=!1},Ae.prototype.info=function(){};var Ne,Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Le={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Oe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}h(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ne=new De;var je={},Fe={};function Ue(e,t,n){e.L=1,e.v=ht(st(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),$e(e),e.A=st(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Tt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var o=0;o<i.length;o++){var s=H(n,i[o],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?w(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Be(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?je:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_e(c(e.ba,e),t)}function Ge(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function He(e){0==e.j.G||e.J||ln(e.j,e)}function We(e){Ge(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ke(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Qt(n)}rn(n),Ie(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=_e(c(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),s.K){tt(r.h,s);var a=s,l=r.L;l&&(a.I=l),a.B&&(Ge(a),$e(a)),r.g=s}else nn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(u){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Gt(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const d=Gt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Ht(this.g)))){this.J||4!=d||7==t||ke(),Ge(this);var n=this.g.Z();this.X=n;t:if(Be(this)){var r=Ht(this.g);e="";var o=r.length,s=4==Gt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){We(this),He(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ie(12),We(this),He(this);break e}Pe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ke(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=ze(this,a),e==Fe){4==d&&(this.s=4,Ie(14),n=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}if(e==je){this.s=4,Ie(15),Pe(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Pe(this.i,this.l,e,null),Ke(this,e)}if(Be(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,Ie(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),on(h),h.M=!0,Ie(11))}}else Pe(this.i,this.l,a,"[Invalid Chunked Response]"),We(this),He(this)}else Pe(this.i,this.l,a,null),Ke(this,a);4==d&&We(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=Gt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Ie(12)):(this.s=0,Ie(13)),We(this),He(this)}}}catch(d){}},Oe.prototype.cancel=function(){this.J=!0,We(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(ke(),Ie(17)),We(this),this.s=2,He(this)):qe(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Qe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Je(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}Qe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new Et;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new Et(null,this.h))}function st(e){return new ot(e)}function at(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof Et?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(xt(this,t),Tt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,wt)),e.i=new Et(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function ht(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,wt=/[#\?@]/g,bt=/#/g;function Et(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function xt(e,t){St(e),t=It(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return St(e),t=It(e,t),e.g.has(t)}function Tt(e,t,n){xt(e,t),0<n.length&&(e.i=null,e.g.set(It(e,t),d(n)),e.h+=n.length)}function It(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ct(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function _t(){this.g=new fe}function At(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;s(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(uD){throw t.push(r+"type="+encodeURIComponent("_badmap")),uD}}function Pt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Nt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Rt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Lt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ot(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function jt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Et.prototype).add=function(e,t){St(this),this.i=null,e=It(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){St(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){St(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(It(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return St(this),this.i=null,kt(this,e=It(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},h(Pt,pe),Pt.prototype.g=function(){return new Nt(this.l,this.j)},Pt.prototype.i=(mt={},function(){return mt}),h(Nt,ne),(e=Nt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Lt(this):Dt(this),3==this.readyState&&Rt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Lt(this))},e.Qa=function(e){this.g&&(this.response=e,Lt(this))},e.ga=function(){this.g&&Lt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Nt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(jt,ne);var Ft=/^https?$/i,Ut=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Bt(e),$t(e)}function Bt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function zt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Gt(e)||2!=e.Z()))if(e.u&&4==Gt(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==Gt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var s=String(e.D).match(it)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),o=!Ft.test(s?s.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Gt(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",Bt(e)}}finally{$t(e)}}}function $t(e,t){if(e.g){qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(uD){}}}function qt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Gt(e){return e.g?e.g.readyState:0}function Ht(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Wt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wt("baseRetryDelayMs",5e3,e),this.cb=Wt("retryDelaySeedMs",1e4,e),this.Wa=Wt("forwardChannelMaxRetries",2,e),this.wa=Wt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Qe(e&&e.concurrentRequestLimit),this.Da=new _t,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Jt(e),3==e.G){var t=e.U++,n=st(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Oe(e,e.j,t)).L=2,t.v=ht(st(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}hn(e)}function Qt(e){e.g&&(on(e),e.g.cancel(),e.g=null)}function Jt(e){Qt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Je(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||P(),_||(C(),_=!0),A.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=st(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Oe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{At(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||P(),_||(C(),_=!0),A.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=_e(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function on(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(st(t)),n.m=null,n.P=!0,Ve(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),on(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new Ce(r,n)),Xt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=_e(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),ht(r),t?function(e,t){const n=new Ae;if(i.Image){const r=new Image;r.onload=u(Ct,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ct,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ct,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ct,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ae;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ct(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Ct(0,0,!0,t):Ct(0,0,!1,t)})).catch((()=>{clearTimeout(r),Ct(0,0,!1,t)}))}(r.toString(),n)}else Ie(2);e.G=0,e.l&&e.l.sa(t),hn(e),Jt(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof ot?st(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var s=new ot(null);r&&at(s,r),t&&(s.g=t),o&&lt(s,o),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new jt(new Pt({eb:n})):new jt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new wn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){we.call(this),this.status=1}function wn(e){this.g=e}(e=jt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ne.g(),this.v=this.o?me(this.o):me(Ne),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Vt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(s){Vt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),$t(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$t(this,!0)),jt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zt(this):this.bb())},e.bb=function(){zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Gt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ie(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Oe(this,this.j,e);let o=this.o;if(this.S&&(o?(o=w(o),E(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=st(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Ot(o)))+"&"+t:this.m&&Mt(n,this.m,o)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Je(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=_e(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ie(10),Qt(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),rn(this),Ie(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ie(2)):(this.j.info("Failed to ping google.com"),Ie(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},h(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Yt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Xt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,gn.aa.N.call(this)},h(yn,ve),h(vn,we),h(wn,pn),wn.prototype.ua=function(){re(this.g,"a")},wn.prototype.ta=function(e){re(this.g,new yn(e))},wn.prototype.sa=function(e){re(this.g,new vn)},wn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Ou=ju.createWebChannelTransport=function(){return new mn},Du=ju.getStatEventTarget=function(){return Se()},Lu=ju.Event=be,Ru=ju.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,Nu=ju.ErrorCode=Re,Le.COMPLETE="complete",Pu=ju.EventType=Le,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Au=ju.WebChannel=ge,ju.FetchXmlHttpFactory=Pt,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,_u=ju.XhrIo=jt}).apply("undefined"!==typeof Mu?Mu:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Fu="@firebase/firestore",Uu="4.7.11";class Vu{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vu.UNAUTHENTICATED=new Vu(null),Vu.GOOGLE_CREDENTIALS=new Vu("google-credentials-uid"),Vu.FIRST_PARTY=new Vu("first-party-uid"),Vu.MOCK_USER=new Vu("mock-user");let Bu="11.6.1";const zu=new oc("@firebase/firestore");function $u(){return zu.logLevel}function qu(e){if(zu.logLevel<=ec.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Wu);zu.debug(`Firestore (${Bu}): ${e}`,...i)}}function Gu(e){if(zu.logLevel<=ec.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Wu);zu.error(`Firestore (${Bu}): ${e}`,...i)}}function Hu(e){if(zu.logLevel<=ec.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Wu);zu.warn(`Firestore (${Bu}): ${e}`,...i)}}function Wu(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Ku(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Yu(e,r,n)}function Yu(e,t,n){let r=`FIRESTORE (${Bu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Gu(r),new Error(r)}function Qu(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||Yu(t,i,r)}function Ju(e,t){return e}const Xu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Zu extends jl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class eh{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class th{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Vu.UNAUTHENTICATED)))}shutdown(){}}class rh{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ih{constructor(e){this.t=e,this.currentUser=Vu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qu(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new eh;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new eh,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{qu("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(qu("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new eh)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(qu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Qu("string"==typeof t.accessToken,31837,{l:t}),new th(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qu(null===e||"string"==typeof e,2055,{h:e}),new Vu(e)}}class oh{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Vu.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sh{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new oh(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Vu.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ah{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lh{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,au(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Qu(void 0===this.o,3512);const n=e=>{null!=e.error&&qu("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,qu("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{qu("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):qu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ah(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Qu("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new ah(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ch(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function uh(){return new TextEncoder}class hh{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=ch(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function dh(e,t){return e<t?-1:e>t?1:0}function fh(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return dh(r,i);{const o=uh(),s=mh(o.encode(ph(e,n)),o.encode(ph(t,n)));return 0!==s?s:dh(r,i)}}n+=r>65535?2:1}return dh(e.length,t.length)}function ph(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function mh(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return dh(e[n],t[n]);return dh(e.length,t.length)}function gh(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const yh=-62135596800,vh=1e6;class wh{static now(){return wh.fromMillis(Date.now())}static fromDate(e){return wh.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*vh);return new wh(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Zu(Xu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Zu(Xu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<yh)throw new Zu(Xu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Zu(Xu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vh}_compareTo(e){return this.seconds===e.seconds?dh(this.nanoseconds,e.nanoseconds):dh(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-yh;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bh{static fromTimestamp(e){return new bh(e)}static min(){return new bh(new wh(0,0))}static max(){return new bh(new wh(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Eh="__name__";class Sh{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ku(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Ku(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Sh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sh?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Sh.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return dh(e.length,t.length)}static compareSegments(e,t){const n=Sh.isNumericId(e),r=Sh.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Sh.extractNumericId(e).compare(Sh.extractNumericId(t)):fh(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ku.fromString(e.substring(4,e.length-2))}}class xh extends Sh{construct(e,t,n){return new xh(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Zu(Xu.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new xh(e)}static emptyPath(){return new xh([])}}const kh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Th extends Sh{construct(e,t,n){return new Th(e,t,n)}static isValidIdentifier(e){return kh.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Th.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Eh}static keyField(){return new Th([Eh])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Zu(Xu.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Zu(Xu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Zu(Xu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Zu(Xu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Th(t)}static emptyPath(){return new Th([])}}class Ih{constructor(e){this.path=e}static fromPath(e){return new Ih(xh.fromString(e))}static fromName(e){return new Ih(xh.fromString(e).popFirst(5))}static empty(){return new Ih(xh.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===xh.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return xh.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ih(new xh(e.slice()))}}const Ch=-1;class _h{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}_h.UNKNOWN_ID=-1;function Ah(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=bh.fromTimestamp(1e9===r?new wh(n+1,0):new wh(n,r));return new Nh(i,Ih.empty(),t)}function Ph(e){return new Nh(e.readTime,e.key,Ch)}class Nh{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Nh(bh.min(),Ih.empty(),Ch)}static max(){return new Nh(bh.max(),Ih.empty(),Ch)}}function Rh(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ih.comparator(e.documentKey,t.documentKey),0!==n?n:dh(e.largestBatchId,t.largestBatchId))}const Lh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Oh(e){if(e.code!==Xu.FAILED_PRECONDITION||e.message!==Lh)throw e;qu("LocalStore","Unexpectedly lost primary lease")}class Mh{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ku(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Mh(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Mh?t:Mh.resolve(t)}catch(e){return Mh.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Mh.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Mh.reject(t)}static resolve(e){return new Mh(((t,n)=>{t(e)}))}static reject(e){return new Mh(((t,n)=>{n(e)}))}static waitFor(e){return new Mh(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Mh.resolve(!1);for(const n of e)t=t.next((e=>e?Mh.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Mh(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Mh(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function jh(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fh(e){return"IndexedDbTransactionError"===e.name}class Uh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Uh.le=-1;const Vh=-1;function Bh(e){return null==e}function zh(e){return 0===e&&1/e==-1/0}function $h(e){return"number"==typeof e&&Number.isInteger(e)&&!zh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const qh="\x01";function Gh(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Wh(t)),t=Hh(e.get(n),t);return Wh(t)}function Hh(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case qh:n+="\x01\x11";break;default:n+=t}}return n}function Wh(e){return e+qh+"\x01"}const Kh="remoteDocuments",Yh="owner",Qh="mutationQueues",Jh="mutations";const Xh="documentMutations",Zh="remoteDocumentsV14",ed="remoteDocumentGlobal",td="targets",nd="targetDocuments",rd="targetGlobal",id="collectionParents",od="clientMetadata",sd="bundles",ad="namedQueries",ld="indexConfiguration",cd="indexState",ud="indexEntries",hd="documentOverlays",dd="globals",fd=[Qh,Jh,Xh,Kh,td,Yh,rd,nd,od,ed,id,sd,ad],pd=[Qh,Jh,Xh,Zh,td,Yh,rd,nd,od,ed,id,sd,ad,hd],md=pd,gd=[...md,ld,cd,ud];function yd(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function vd(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function wd(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class bd{constructor(e,t){this.comparator=e,this.root=t||Sd.EMPTY}insert(e,t){return new bd(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Sd.BLACK,null,null))}remove(e){return new bd(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sd.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ed(this.root,e,this.comparator,!0)}}class Ed{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sd{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Sd.RED,this.left=null!=r?r:Sd.EMPTY,this.right=null!=i?i:Sd.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Sd(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Sd.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Sd.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sd.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ku(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ku(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ku(27949);return e+(this.isRed()?0:1)}}Sd.EMPTY=null,Sd.RED=!0,Sd.BLACK=!1,Sd.EMPTY=new class{constructor(){this.size=0}get key(){throw Ku(57766)}get value(){throw Ku(16141)}get color(){throw Ku(16727)}get left(){throw Ku(29726)}get right(){throw Ku(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Sd(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xd{constructor(e){this.comparator=e,this.data=new bd(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new kd(this.data.getIterator())}getIteratorFrom(e){return new kd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof xd))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new xd(this.comparator);return t.data=e,t}}class kd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Td{constructor(e){this.fields=e,e.sort(Th.comparator)}static empty(){return new Td([])}unionWith(e){let t=new xd(Th.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Td(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gh(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Id extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Cd{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Id("Invalid base64 string: "+e):e}}(e);return new Cd(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Cd(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dh(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cd.EMPTY_BYTE_STRING=new Cd("");const _d=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ad(e){if(Qu(!!e,39018),"string"==typeof e){let t=0;const n=_d.exec(e);if(Qu(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Pd(e.seconds),nanos:Pd(e.nanos)}}function Pd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Nd(e){return"string"==typeof e?Cd.fromBase64String(e):Cd.fromUint8Array(e)}const Rd="server_timestamp",Ld="__type__",Dd="__previous_value__",Od="__local_write_time__";function Md(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Ld])||void 0===n?void 0:n.stringValue)===Rd}function jd(e){const t=e.mapValue.fields[Dd];return Md(t)?jd(t):t}function Fd(e){const t=Ad(e.mapValue.fields[Od].timestampValue);return new wh(t.seconds,t.nanos)}class Ud{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}const Vd="(default)";class Bd{constructor(e,t){this.projectId=e,this.database=t||Vd}static empty(){return new Bd("","")}get isDefaultDatabase(){return this.database===Vd}isEqual(e){return e instanceof Bd&&e.projectId===this.projectId&&e.database===this.database}}const zd="__type__",$d="__max__",qd={mapValue:{fields:{__type__:{stringValue:$d}}}},Gd="__vector__",Hd="value";function Wd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Md(e)?4:hf(e)?9007199254740991:cf(e)?10:11:Ku(28295,{value:e})}function Kd(e,t){if(e===t)return!0;const n=Wd(e);if(n!==Wd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Fd(e).isEqual(Fd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ad(e.timestampValue),r=Ad(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Nd(e.bytesValue).isEqual(Nd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Pd(e.geoPointValue.latitude)===Pd(t.geoPointValue.latitude)&&Pd(e.geoPointValue.longitude)===Pd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Pd(e.integerValue)===Pd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Pd(e.doubleValue),r=Pd(t.doubleValue);return n===r?zh(n)===zh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return gh(e.arrayValue.values||[],t.arrayValue.values||[],Kd);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(yd(n)!==yd(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Kd(n[i],r[i])))return!1;return!0}(e,t);default:return Ku(52216,{left:e})}}function Yd(e,t){return void 0!==(e.values||[]).find((e=>Kd(e,t)))}function Qd(e,t){if(e===t)return 0;const n=Wd(e),r=Wd(t);if(n!==r)return dh(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return dh(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Pd(e.integerValue||e.doubleValue),r=Pd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Jd(e.timestampValue,t.timestampValue);case 4:return Jd(Fd(e),Fd(t));case 5:return fh(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Nd(e),r=Nd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=dh(n[i],r[i]);if(0!==e)return e}return dh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=dh(Pd(e.latitude),Pd(t.latitude));return 0!==n?n:dh(Pd(e.longitude),Pd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Xd(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const s=e.fields||{},a=t.fields||{},l=null===(n=s[Hd])||void 0===n?void 0:n.arrayValue,c=null===(r=a[Hd])||void 0===r?void 0:r.arrayValue,u=dh((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:Xd(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===qd.mapValue&&t===qd.mapValue)return 0;if(e===qd.mapValue)return 1;if(t===qd.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=fh(r[s],o[s]);if(0!==e)return e;const t=Qd(n[r[s]],i[o[s]]);if(0!==t)return t}return dh(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Ku(23264,{Pe:n})}}function Jd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return dh(e,t);const n=Ad(e),r=Ad(t),i=dh(n.seconds,r.seconds);return 0!==i?i:dh(n.nanos,r.nanos)}function Xd(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Qd(n[i],r[i]);if(e)return e}return dh(n.length,r.length)}function Zd(e){return ef(e)}function ef(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ad(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Nd(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ih.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ef(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${ef(e.fields[i])}`;return n+"}"}(e.mapValue):Ku(61005,{value:e})}function tf(e){switch(Wd(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=jd(e);return t?16+tf(t):16;case 5:return 2*e.stringValue.length;case 6:return Nd(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+tf(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return vd(e.fields,((e,n)=>{t+=e.length+tf(n)})),t}(e.mapValue);default:throw Ku(13486,{value:e})}}function nf(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function rf(e){return!!e&&"integerValue"in e}function of(e){return!!e&&"arrayValue"in e}function sf(e){return!!e&&"nullValue"in e}function af(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function lf(e){return!!e&&"mapValue"in e}function cf(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[zd])||void 0===n?void 0:n.stringValue)===Gd}function uf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return vd(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=uf(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=uf(e.arrayValue.values[n]);return t}return Object.assign({},e)}function hf(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===$d}class df{constructor(e){this.value=e}static empty(){return new df({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!lf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uf(t)}setAll(e){let t=Th.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=uf(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());lf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Kd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];lf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){vd(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new df(uf(this.value))}}function ff(e){const t=[];return vd(e.fields,((e,n)=>{const r=new Th([e]);if(lf(n)){const e=ff(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Td(t)}class pf{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new pf(e,0,bh.min(),bh.min(),bh.min(),df.empty(),0)}static newFoundDocument(e,t,n,r){return new pf(e,1,t,bh.min(),n,r,0)}static newNoDocument(e,t){return new pf(e,2,t,bh.min(),bh.min(),df.empty(),0)}static newUnknownDocument(e,t){return new pf(e,3,t,bh.min(),bh.min(),df.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(bh.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=df.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=df.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bh.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof pf&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pf(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mf{constructor(e,t){this.position=e,this.inclusive=t}}function gf(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Ih.comparator(Ih.fromName(s.referenceValue),n.key):Qd(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function yf(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Kd(e.position[n],t.position[n]))return!1;return!0}class vf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function wf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class bf{}class Ef extends bf{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Af(e,t,n):"array-contains"===t?new Lf(e,n):"in"===t?new Df(e,n):"not-in"===t?new Of(e,n):"array-contains-any"===t?new Mf(e,n):new Ef(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Pf(e,n):new Nf(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Qd(t,this.value)):null!==t&&Wd(this.value)===Wd(t)&&this.matchesComparison(Qd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ku(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sf extends bf{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Sf(e,t)}matches(e){return xf(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function xf(e){return"and"===e.op}function kf(e){return Tf(e)&&xf(e)}function Tf(e){for(const t of e.filters)if(t instanceof Sf)return!1;return!0}function If(e){if(e instanceof Ef)return e.field.canonicalString()+e.op.toString()+Zd(e.value);if(kf(e))return e.filters.map((e=>If(e))).join(",");{const t=e.filters.map((e=>If(e))).join(",");return`${e.op}(${t})`}}function Cf(e,t){return e instanceof Ef?function(e,t){return t instanceof Ef&&e.op===t.op&&e.field.isEqual(t.field)&&Kd(e.value,t.value)}(e,t):e instanceof Sf?function(e,t){return t instanceof Sf&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Cf(n,t.filters[r])),!0)}(e,t):void Ku(19439)}function _f(e){return e instanceof Ef?function(e){return`${e.field.canonicalString()} ${e.op} ${Zd(e.value)}`}(e):e instanceof Sf?function(e){return e.op.toString()+" {"+e.getFilters().map(_f).join(" ,")+"}"}(e):"Filter"}class Af extends Ef{constructor(e,t,n){super(e,t,n),this.key=Ih.fromName(n.referenceValue)}matches(e){const t=Ih.comparator(e.key,this.key);return this.matchesComparison(t)}}class Pf extends Ef{constructor(e,t){super(e,"in",t),this.keys=Rf("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Nf extends Ef{constructor(e,t){super(e,"not-in",t),this.keys=Rf("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Rf(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Ih.fromName(e.referenceValue)))}class Lf extends Ef{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return of(t)&&Yd(t.arrayValue,this.value)}}class Df extends Ef{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Yd(this.value.arrayValue,t)}}class Of extends Ef{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Yd(this.value.arrayValue,t)}}class Mf extends Ef{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!of(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Yd(this.value.arrayValue,e)))}}class jf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.Ie=null}}function Ff(e){return new jf(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Uf(e){const t=Ju(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>If(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Bh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Zd(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Zd(e))).join(",")),t.Ie=e}return t.Ie}function Vf(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!wf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Cf(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!yf(e.startAt,t.startAt)&&yf(e.endAt,t.endAt)}function Bf(e){return Ih.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class zf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function $f(e,t,n,r,i,o,s,a){return new zf(e,t,n,r,i,o,s,a)}function qf(e){return new zf(e)}function Gf(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Hf(e){return null!==e.collectionGroup}function Wf(e){const t=Ju(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new xd(Th.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new vf(r,n))})),e.has(Th.keyField().canonicalString())||t.Ee.push(new vf(Th.keyField(),n))}return t.Ee}function Kf(e){const t=Ju(e);return t.de||(t.de=Yf(t,Wf(e))),t.de}function Yf(e,t){if("F"===e.limitType)return Ff(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new vf(e.field,t)}));const n=e.endAt?new mf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new mf(e.startAt.position,e.startAt.inclusive):null;return Ff(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Qf(e,t){const n=e.filters.concat([t]);return new zf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Jf(e,t,n){return new zf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Xf(e,t){return Vf(Kf(e),Kf(t))&&e.limitType===t.limitType}function Zf(e){return`${Uf(Kf(e))}|lt:${e.limitType}`}function ep(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>_f(e))).join(", ")}]`),Bh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Zd(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Zd(e))).join(",")),`Target(${t})`}(Kf(e))}; limitType=${e.limitType})`}function tp(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ih.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Wf(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=gf(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Wf(e),t))&&!(e.endAt&&!function(e,t,n){const r=gf(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Wf(e),t))}(e,t)}function np(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function rp(e){return(t,n)=>{let r=!1;for(const i of Wf(e)){const e=ip(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ip(e,t,n){const r=e.field.isKeyField()?Ih.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Qd(r,i):Ku(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ku(19790,{direction:e.dir})}}class op{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){vd(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return wd(this.inner)}size(){return this.innerSize}}const sp=new bd(Ih.comparator);function ap(){return sp}const lp=new bd(Ih.comparator);function cp(){let e=lp;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function up(e){let t=lp;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function hp(){return fp()}function dp(){return fp()}function fp(){return new op((e=>e.toString()),((e,t)=>e.isEqual(t)))}const pp=new bd(Ih.comparator),mp=new xd(Ih.comparator);function gp(){let e=mp;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const yp=new xd(dh);function vp(){return yp}function wp(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(t)?"-0":t}}function bp(e){return{integerValue:""+e}}function Ep(e,t){return $h(t)?bp(t):wp(e,t)}class Sp{constructor(){this._=void 0}}function xp(e,t,n){return e instanceof Ip?function(e,t){const n={fields:{[Ld]:{stringValue:Rd},[Od]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Md(t)&&(t=jd(t)),t&&(n.fields[Dd]=t),{mapValue:n}}(n,t):e instanceof Cp?_p(e,t):e instanceof Ap?Pp(e,t):function(e,t){const n=Tp(e,t),r=Rp(n)+Rp(e.Re);return rf(n)&&rf(e.Re)?bp(r):wp(e.serializer,r)}(e,t)}function kp(e,t,n){return e instanceof Cp?_p(e,t):e instanceof Ap?Pp(e,t):n}function Tp(e,t){return e instanceof Np?function(e){return rf(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Ip extends Sp{}class Cp extends Sp{constructor(e){super(),this.elements=e}}function _p(e,t){const n=Lp(t);for(const r of e.elements)n.some((e=>Kd(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Ap extends Sp{constructor(e){super(),this.elements=e}}function Pp(e,t){let n=Lp(t);for(const r of e.elements)n=n.filter((e=>!Kd(e,r)));return{arrayValue:{values:n}}}class Np extends Sp{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Rp(e){return Pd(e.integerValue||e.doubleValue)}function Lp(e){return of(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Dp{constructor(e,t){this.field=e,this.transform=t}}class Op{constructor(e,t){this.version=e,this.transformResults=t}}class Mp{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mp}static exists(e){return new Mp(void 0,e)}static updateTime(e){return new Mp(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jp(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Fp{}function Up(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Yp(e.key,Mp.none()):new qp(e.key,e.data,Mp.none());{const n=e.data,r=df.empty();let i=new xd(Th.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Gp(e.key,r,new Td(i.toArray()),Mp.none())}}function Vp(e,t,n){e instanceof qp?function(e,t,n){const r=e.value.clone(),i=Wp(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Gp?function(e,t,n){if(!jp(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Wp(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Hp(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Bp(e,t,n,r){return e instanceof qp?function(e,t,n,r){if(!jp(e.precondition,t))return n;const i=e.value.clone(),o=Kp(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Gp?function(e,t,n,r){if(!jp(e.precondition,t))return n;const i=Kp(e.fieldTransforms,r,t),o=t.data;return o.setAll(Hp(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return jp(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function zp(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Tp(r.transform,e||null);null!=i&&(null===n&&(n=df.empty()),n.set(r.field,i))}return n||null}function $p(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&gh(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Cp&&t instanceof Cp||e instanceof Ap&&t instanceof Ap?gh(e.elements,t.elements,Kd):e instanceof Np&&t instanceof Np?Kd(e.Re,t.Re):e instanceof Ip&&t instanceof Ip}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class qp extends Fp{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Gp extends Fp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Hp(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Wp(e,t,n){const r=new Map;Qu(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,kp(s,a,n[i]))}return r}function Kp(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,xp(e,o,t))}return r}class Yp extends Fp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qp extends Fp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Jp{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Vp(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Bp(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Bp(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=dp();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=Up(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(bh.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),gp())}isEqual(e){return this.batchId===e.batchId&&gh(this.mutations,e.mutations,((e,t)=>$p(e,t)))&&gh(this.baseMutations,e.baseMutations,((e,t)=>$p(e,t)))}}class Xp{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Qu(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=pp;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Xp(e,t,n,r)}}class Zp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class em{constructor(e,t){this.count=e,this.unchangedNames=t}}var tm,nm;function rm(e){switch(e){case Xu.OK:return Ku(64938);case Xu.CANCELLED:case Xu.UNKNOWN:case Xu.DEADLINE_EXCEEDED:case Xu.RESOURCE_EXHAUSTED:case Xu.INTERNAL:case Xu.UNAVAILABLE:case Xu.UNAUTHENTICATED:return!1;case Xu.INVALID_ARGUMENT:case Xu.NOT_FOUND:case Xu.ALREADY_EXISTS:case Xu.PERMISSION_DENIED:case Xu.FAILED_PRECONDITION:case Xu.ABORTED:case Xu.OUT_OF_RANGE:case Xu.UNIMPLEMENTED:case Xu.DATA_LOSS:return!0;default:return Ku(15467,{code:e})}}function im(e){if(void 0===e)return Gu("GRPC error has no .code"),Xu.UNKNOWN;switch(e){case tm.OK:return Xu.OK;case tm.CANCELLED:return Xu.CANCELLED;case tm.UNKNOWN:return Xu.UNKNOWN;case tm.DEADLINE_EXCEEDED:return Xu.DEADLINE_EXCEEDED;case tm.RESOURCE_EXHAUSTED:return Xu.RESOURCE_EXHAUSTED;case tm.INTERNAL:return Xu.INTERNAL;case tm.UNAVAILABLE:return Xu.UNAVAILABLE;case tm.UNAUTHENTICATED:return Xu.UNAUTHENTICATED;case tm.INVALID_ARGUMENT:return Xu.INVALID_ARGUMENT;case tm.NOT_FOUND:return Xu.NOT_FOUND;case tm.ALREADY_EXISTS:return Xu.ALREADY_EXISTS;case tm.PERMISSION_DENIED:return Xu.PERMISSION_DENIED;case tm.FAILED_PRECONDITION:return Xu.FAILED_PRECONDITION;case tm.ABORTED:return Xu.ABORTED;case tm.OUT_OF_RANGE:return Xu.OUT_OF_RANGE;case tm.UNIMPLEMENTED:return Xu.UNIMPLEMENTED;case tm.DATA_LOSS:return Xu.DATA_LOSS;default:return Ku(39323,{code:e})}}(nm=tm||(tm={}))[nm.OK=0]="OK",nm[nm.CANCELLED=1]="CANCELLED",nm[nm.UNKNOWN=2]="UNKNOWN",nm[nm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nm[nm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nm[nm.NOT_FOUND=5]="NOT_FOUND",nm[nm.ALREADY_EXISTS=6]="ALREADY_EXISTS",nm[nm.PERMISSION_DENIED=7]="PERMISSION_DENIED",nm[nm.UNAUTHENTICATED=16]="UNAUTHENTICATED",nm[nm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nm[nm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nm[nm.ABORTED=10]="ABORTED",nm[nm.OUT_OF_RANGE=11]="OUT_OF_RANGE",nm[nm.UNIMPLEMENTED=12]="UNIMPLEMENTED",nm[nm.INTERNAL=13]="INTERNAL",nm[nm.UNAVAILABLE=14]="UNAVAILABLE",nm[nm.DATA_LOSS=15]="DATA_LOSS";let om=null;const sm=new ku([4294967295,4294967295],0);function am(e){const t=uh().encode(e),n=new Tu;return n.update(t),new Uint8Array(n.digest())}function lm(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new ku([n,r],0),new ku([i,o],0)]}class cm{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new um(`Invalid padding: ${t}`);if(n<0)throw new um(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new um(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new um(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ku.fromNumber(this.pe)}we(e,t,n){let r=e.add(t.multiply(ku.fromNumber(n)));return 1===r.compare(sm)&&(r=new ku([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=am(e),[n,r]=lm(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);if(!this.be(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new cm(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.pe)return;const t=am(e),[n,r]=lm(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class um extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hm{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,dm.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new hm(bh.min(),r,new bd(dh),ap(),gp())}}class dm{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new dm(n,t,gp(),gp(),gp())}}class fm{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class pm{constructor(e,t){this.targetId=e,this.Ce=t}}class mm{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cd.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class gm{constructor(){this.Fe=0,this.Me=wm(),this.xe=Cd.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=gp(),t=gp(),n=gp();return this.Me.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ku(38017,{changeType:i})}})),new dm(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=wm()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Qu(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class ym{constructor(e){this.ze=e,this.je=new Map,this.He=ap(),this.Je=vm(),this.Ye=vm(),this.Ze=new bd(dh)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,(t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:Ku(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach(((e,n)=>{this.it(n)&&t(n)}))}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const i=r.target;if(Bf(i))if(0===n){const e=new Ih(i.path);this.tt(t,e,pf.newNoDocument(e,bh.min()))}else Qu(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),i=n?this.lt(n,e,r):1;if(0!==i){this.st(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==om||om.ht(function(e,t,n,r,i){var o,s,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(o=null==d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==d?void 0:d.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.Ce,this.ze.Pt(),n,i))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=Nd(n).toUint8Array()}catch(e){if(e instanceof Id)return Hu("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new cm(o,r,i)}catch(e){return Hu(e instanceof um?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.pe?null:s}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ze.Pt(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.tt(t,n,null),r++)})),r}It(e){const t=new Map;this.je.forEach(((n,r)=>{const i=this._t(r);if(i){if(n.current&&Bf(i.target)){const t=new Ih(i.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,pf.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}}));let n=gp();this.Ye.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.He.forEach(((t,n)=>n.setReadTime(e)));const r=new hm(e,t,this.Ze,this.He,n);return this.He=ap(),this.Je=vm(),this.Ye=vm(),this.Ze=new bd(dh),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new gm,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new xd(dh),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new xd(dh),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||qu("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new gm),this.ze.getRemoteKeysForTarget(e).forEach((t=>{this.tt(e,t,null)}))}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function vm(){return new bd(Ih.comparator)}function wm(){return new bd(Ih.comparator)}const bm={asc:"ASCENDING",desc:"DESCENDING"},Em={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sm={and:"AND",or:"OR"};class xm{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function km(e,t){return e.useProto3Json||Bh(t)?t:{value:t}}function Tm(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Im(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Cm(e,t){return Tm(e,t.toTimestamp())}function _m(e){return Qu(!!e,49232),bh.fromTimestamp(function(e){const t=Ad(e);return new wh(t.seconds,t.nanos)}(e))}function Am(e,t){return Pm(e,t).canonicalString()}function Pm(e,t){const n=function(e){return new xh(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Nm(e){const t=xh.fromString(e);return Qu(Jm(t),10190,{key:t.toString()}),t}function Rm(e,t){return Am(e.databaseId,t.path)}function Lm(e,t){const n=Nm(t);if(n.get(1)!==e.databaseId.projectId)throw new Zu(Xu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Zu(Xu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ih(jm(n))}function Dm(e,t){return Am(e.databaseId,t)}function Om(e){const t=Nm(e);return 4===t.length?xh.emptyPath():jm(t)}function Mm(e){return new xh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function jm(e){return Qu(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Fm(e,t,n){return{name:Rm(e,t),fields:n.value.mapValue.fields}}function Um(e,t){let n;if(t instanceof qp)n={update:Fm(e,t.key,t.value)};else if(t instanceof Yp)n={delete:Rm(e,t.key)};else if(t instanceof Gp)n={update:Fm(e,t.key,t.data),updateMask:Qm(t.fieldMask)};else{if(!(t instanceof Qp))return Ku(16599,{ft:t.type});n={verify:Rm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Ip)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Cp)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ap)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Np)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw Ku(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Cm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ku(27497)}(e,t.precondition)),n}function Vm(e,t){return{documents:[Dm(e,t.path)]}}function Bm(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Dm(e,i);const o=function(e){if(0!==e.length)return Ym(Sf.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Wm(e.field),direction:qm(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=km(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:i}}function zm(e){let t=Om(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Qu(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=$m(e);return t instanceof Sf&&kf(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new vf(Km(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Bh(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new mf(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new mf(n,t)}(n.endAt)),$f(t,i,s,o,a,"F",l,c)}function $m(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Km(e.unaryFilter.field);return Ef.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Km(e.unaryFilter.field);return Ef.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Km(e.unaryFilter.field);return Ef.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Km(e.unaryFilter.field);return Ef.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ku(61313);default:return Ku(60726)}}(e):void 0!==e.fieldFilter?function(e){return Ef.create(Km(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ku(58110);default:return Ku(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Sf.create(e.compositeFilter.filters.map((e=>$m(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ku(1026)}}(e.compositeFilter.op))}(e):Ku(30097,{filter:e})}function qm(e){return bm[e]}function Gm(e){return Em[e]}function Hm(e){return Sm[e]}function Wm(e){return{fieldPath:e.canonicalString()}}function Km(e){return Th.fromServerFormat(e.fieldPath)}function Ym(e){return e instanceof Ef?function(e){if("=="===e.op){if(af(e.value))return{unaryFilter:{field:Wm(e.field),op:"IS_NAN"}};if(sf(e.value))return{unaryFilter:{field:Wm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(af(e.value))return{unaryFilter:{field:Wm(e.field),op:"IS_NOT_NAN"}};if(sf(e.value))return{unaryFilter:{field:Wm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wm(e.field),op:Gm(e.op),value:e.value}}}(e):e instanceof Sf?function(e){const t=e.getFilters().map((e=>Ym(e)));return 1===t.length?t[0]:{compositeFilter:{op:Hm(e.op),filters:t}}}(e):Ku(54877,{filter:e})}function Qm(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Jm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Xm{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:bh.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:bh.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Cd.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Xm(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xm(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Zm{constructor(e){this.wt=e}}function eg(e){const t=zm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Jf(t,t.limit,"L"):t}class tg{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Pd(e.integerValue));else if("doubleValue"in e){const n=Pd(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),zh(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=Ad(n)),t.Ot(`${n.seconds||""}`),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Nd(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?hf(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):cf(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):Ku(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const i=e.fields||{};this.Mt(t,53);const o=Hd,s=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(Pd(s)),this.Nt(o,t),this.Ct(i[o],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),Ih.fromName(e).path.forEach((e=>{this.Mt(t,60),this.Kt(e,t)}))}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}tg.Wt=new tg;class ng{constructor(){this.yn=new rg}addToCollectionParentIndex(e,t){return this.yn.add(t),Mh.resolve()}getCollectionParents(e,t){return Mh.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return Mh.resolve()}deleteFieldIndex(e,t){return Mh.resolve()}deleteAllFieldIndexes(e){return Mh.resolve()}createTargetIndexes(e,t){return Mh.resolve()}getDocumentsMatchingTarget(e,t){return Mh.resolve(null)}getIndexType(e,t){return Mh.resolve(0)}getFieldIndexes(e,t){return Mh.resolve([])}getNextCollectionGroupToUpdate(e){return Mh.resolve(null)}getMinOffset(e,t){return Mh.resolve(Nh.min())}getMinOffsetFromCollectionGroup(e,t){return Mh.resolve(Nh.min())}updateCollectionGroup(e,t,n){return Mh.resolve()}updateIndexEntries(e,t){return Mh.resolve()}}class rg{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new xd(xh.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new xd(xh.comparator)).toArray()}}new Uint8Array(0);const ig={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},og=41943040;class sg{static withCacheSize(e){return new sg(e,sg.DEFAULT_COLLECTION_PERCENTILE,sg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}sg.DEFAULT_COLLECTION_PERCENTILE=10,sg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sg.DEFAULT=new sg(og,sg.DEFAULT_COLLECTION_PERCENTILE,sg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sg.DISABLED=new sg(-1,0,0);class ag{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new ag(0)}static ir(){return new ag(-1)}}const lg="LruGarbageCollector",cg=1048576;function ug(e,t){let[n,r]=e,[i,o]=t;const s=dh(n,i);return 0===s?dh(r,o):s}class hg{constructor(e){this.cr=e,this.buffer=new xd(ug),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ug(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dg{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Tr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return null!==this.Tr}Ir(e){qu(lg,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Fh(e)?qu(lg,"Ignoring IndexedDB error during garbage collection: ",e):await Oh(e)}await this.Ir(3e5)}))}}class fg{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Mh.resolve(Uh.le);const n=new hg(t);return this.Er.forEachTarget(e,(e=>n.Pr(e.sequenceNumber))).next((()=>this.Er.Ar(e,(e=>n.Pr(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Er.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(qu("LruGarbageCollector","Garbage collection skipped; disabled"),Mh.resolve(ig)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(qu("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ig):this.Rr(e,t)))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let n,r,i,o,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(qu("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),$u()<=ec.DEBUG&&qu("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-c}ms\n\tDetermined least recently used ${r} in `+(s-o)+"ms\n"+`\tRemoved ${i} targets in `+(a-s)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-c}ms`),Mh.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function pg(e,t){return new fg(e,t)}class mg{constructor(){this.changes=new op((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pf.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Mh.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gg{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class yg{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Bp(n.mutation,e,Td.empty(),wh.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,gp()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gp();const r=hp();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=cp();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=hp();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,gp())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=ap();const o=fp(),s=fp();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Gp)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),Bp(s.mutation,t,s.mutation.getFieldMask(),wh.now())):o.set(t.key,Td.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new gg(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=fp();let r=new bd(((e,t)=>e-t)),i=gp();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Td.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||gp()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=dp();l.forEach((e=>{if(!i.has(e)){const r=Up(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Mh.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Ih.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Hf(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Mh.resolve(hp());let s=Ch,a=i;return o.next((t=>Mh.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Mh.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,gp()))).next((e=>({batchId:s,changes:up(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ih(t)).next((e=>{let t=cp();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=cp();return this.indexManager.getCollectionParents(e,i).next((s=>Mh.forEach(s,(s=>{const a=function(e,t){return new zf(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,pf.newInvalidDocument(r)))}));let n=cp();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&Bp(o.mutation,r,Td.empty(),wh.now()),tp(t,r)&&(n=n.insert(e,r))})),n}))}}class vg{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return Mh.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:_m(e.createTime)}}(t)),Mh.resolve()}getNamedQuery(e,t){return Mh.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(e){return{name:e.name,query:eg(e.bundledQuery),readTime:_m(e.readTime)}}(t)),Mh.resolve()}}class wg{constructor(){this.overlays=new bd(Ih.comparator),this.Or=new Map}getOverlay(e,t){return Mh.resolve(this.overlays.get(t))}getOverlays(e,t){const n=hp();return Mh.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),Mh.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Or.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Or.delete(n)),Mh.resolve()}getOverlaysForCollection(e,t,n){const r=hp(),i=t.length+1,o=new Ih(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Mh.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new bd(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=hp(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=hp(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Mh.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Or.get(r.largestBatchId).delete(n.key);this.Or.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Zp(t,n));let i=this.Or.get(t);void 0===i&&(i=gp(),this.Or.set(t,i)),this.Or.set(t,i.add(n.key))}}class bg{constructor(){this.sessionToken=Cd.EMPTY_BYTE_STRING}getSessionToken(e){return Mh.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Mh.resolve()}}class Eg{constructor(){this.Nr=new xd(Sg.Br),this.Lr=new xd(Sg.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const n=new Sg(e,t);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Qr(new Sg(e,t))}$r(e,t){e.forEach((e=>this.removeReference(e,t)))}Ur(e){const t=new Ih(new xh([])),n=new Sg(t,e),r=new Sg(t,e+1),i=[];return this.Lr.forEachInRange([n,r],(e=>{this.Qr(e),i.push(e.key)})),i}Kr(){this.Nr.forEach((e=>this.Qr(e)))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Ih(new xh([])),n=new Sg(t,e),r=new Sg(t,e+1);let i=gp();return this.Lr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Sg(e,0),n=this.Nr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Sg{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Ih.comparator(e.key,t.key)||dh(e.Gr,t.Gr)}static kr(e,t){return dh(e.Gr,t.Gr)||Ih.comparator(e.key,t.key)}}class xg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new xd(Sg.Br)}checkEmpty(e){return Mh.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Jp(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.zr=this.zr.add(new Sg(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Mh.resolve(o)}lookupMutationBatch(e,t){return Mh.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Hr(n),i=r<0?0:r;return Mh.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Mh.resolve(0===this.mutationQueue.length?Vh:this.Jn-1)}getAllMutationBatches(e){return Mh.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Sg(t,0),r=new Sg(t,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([n,r],(e=>{const t=this.jr(e.Gr);i.push(t)})),Mh.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new xd(dh);return t.forEach((e=>{const t=new Sg(e,0),r=new Sg(e,Number.POSITIVE_INFINITY);this.zr.forEachInRange([t,r],(e=>{n=n.add(e.Gr)}))})),Mh.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ih.isDocumentKey(i)||(i=i.child(""));const o=new Sg(new Ih(i),0);let s=new xd(dh);return this.zr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Gr)),!0)}),o),Mh.resolve(this.Jr(s))}Jr(e){const t=[];return e.forEach((e=>{const n=this.jr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Qu(0===this.Yr(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.zr;return Mh.forEach(t.mutations,(r=>{const i=new Sg(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.zr=n}))}Xn(e){}containsKey(e,t){const n=new Sg(t,0),r=this.zr.firstAfterOrEqual(n);return Mh.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Mh.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class kg{constructor(e){this.Zr=e,this.docs=new bd(Ih.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Zr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Mh.resolve(n?n.document.mutableCopy():pf.newInvalidDocument(t))}getEntries(e,t){let n=ap();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():pf.newInvalidDocument(e))})),Mh.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=ap();const o=t.path,s=new Ih(o.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Rh(Ph(s),n)<=0||(r.has(s.key)||tp(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Mh.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Ku(9500)}Xr(e,t){return Mh.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Tg(this)}getSize(e){return Mh.resolve(this.size)}}class Tg extends mg{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.vr.addEntry(e,r)):this.vr.removeEntry(n)})),Mh.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}class Ig{constructor(e){this.persistence=e,this.ei=new op((e=>Uf(e)),Vf),this.lastRemoteSnapshotVersion=bh.min(),this.highestTargetId=0,this.ti=0,this.ni=new Eg,this.targetCount=0,this.ri=ag.rr()}forEachTarget(e,t){return this.ei.forEach(((e,n)=>t(n))),Mh.resolve()}getLastRemoteSnapshotVersion(e){return Mh.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Mh.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),Mh.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ti&&(this.ti=t),Mh.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new ag(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,Mh.resolve()}updateTargetData(e,t){return this.ar(t),Mh.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,Mh.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.ei.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.ei.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Mh.waitFor(i).next((()=>r))}getTargetCount(e){return Mh.resolve(this.targetCount)}getTargetData(e,t){const n=this.ei.get(t)||null;return Mh.resolve(n)}addMatchingKeys(e,t,n){return this.ni.qr(t,n),Mh.resolve()}removeMatchingKeys(e,t,n){this.ni.$r(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Mh.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),Mh.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ni.Wr(t);return Mh.resolve(n)}containsKey(e,t){return Mh.resolve(this.ni.containsKey(t))}}class Cg{constructor(e,t){this.ii={},this.overlays={},this.si=new Uh(0),this.oi=!1,this.oi=!0,this._i=new bg,this.referenceDelegate=e(this),this.ai=new Ig(this),this.indexManager=new ng,this.remoteDocumentCache=function(e){return new kg(e)}((e=>this.referenceDelegate.ui(e))),this.serializer=new Zm(t),this.ci=new vg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ii[e.toKey()];return n||(n=new xg(t,this.referenceDelegate),this.ii[e.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,n){qu("MemoryPersistence","Starting transaction:",e);const r=new _g(this.si.next());return this.referenceDelegate.li(),n(r).next((e=>this.referenceDelegate.hi(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Pi(e,t){return Mh.or(Object.values(this.ii).map((n=>()=>n.containsKey(e,t))))}}class _g extends Dh{constructor(e){super(),this.currentSequenceNumber=e}}class Ag{constructor(e){this.persistence=e,this.Ti=new Eg,this.Ii=null}static Ei(e){return new Ag(e)}get di(){if(this.Ii)return this.Ii;throw Ku(60996)}addReference(e,t,n){return this.Ti.addReference(n,t),this.di.delete(n.toString()),Mh.resolve()}removeReference(e,t,n){return this.Ti.removeReference(n,t),this.di.add(n.toString()),Mh.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Mh.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach((e=>this.di.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.di.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Mh.forEach(this.di,(n=>{const r=Ih.fromPath(n);return this.Ai(e,r).next((e=>{e||t.removeEntry(r,bh.min())}))})).next((()=>(this.Ii=null,t.apply(e))))}updateLimboDocument(e,t){return this.Ai(e,t).next((e=>{e?this.di.delete(t.toString()):this.di.add(t.toString())}))}ui(e){return 0}Ai(e,t){return Mh.or([()=>Mh.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Pg{constructor(e,t){this.persistence=e,this.Ri=new op((e=>Gh(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=pg(this,t)}static Ei(e,t){return new Pg(e,t)}li(){}hi(e){return Mh.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Vr(e){let t=0;return this.Ar(e,(e=>{t++})).next((()=>t))}Ar(e,t){return Mh.forEach(this.Ri,((n,r)=>this.gr(e,n,r).next((e=>e?Mh.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Xr(e,(r=>this.gr(e,r,t).next((e=>{e||(n++,i.removeEntry(r,bh.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),Mh.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),Mh.resolve()}removeReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),Mh.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),Mh.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=tf(e.data.value)),t}gr(e,t,n){return Mh.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.Ri.get(t);return Mh.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ng{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ls=n,this.hs=r}static Ps(e,t){let n=gp(),r=gp();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Ng(e,t.fromCache,n,r)}}class Rg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Lg{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=Dl()?8:jh(Rl())>0?6:4}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Vs(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Rg;return this.fs(e,t,n).next((r=>{if(i.result=r,this.Is)return this.gs(e,t,n,r.size)}))})).next((()=>i.result))}gs(e,t,n,r){return n.documentReadCount<this.Es?($u()<=ec.DEBUG&&qu("QueryEngine","SDK will not create cache indexes for query:",ep(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Mh.resolve()):($u()<=ec.DEBUG&&qu("QueryEngine","Query:",ep(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ds*r?($u()<=ec.DEBUG&&qu("QueryEngine","The SDK decides to create cache indexes for query:",ep(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kf(t))):Mh.resolve())}Rs(e,t){if(Gf(t))return Mh.resolve(null);let n=Kf(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Jf(t,null,"F"),n=Kf(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=gp(...r);return this.As.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ps(t,r);return this.ys(t,o,i,n.readTime)?this.Rs(e,Jf(t,null,"F")):this.ws(e,o,t,n)}))))})))))}Vs(e,t,n,r){return Gf(t)||r.isEqual(bh.min())?Mh.resolve(null):this.As.getDocuments(e,n).next((i=>{const o=this.ps(t,i);return this.ys(t,o,n,r)?Mh.resolve(null):($u()<=ec.DEBUG&&qu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ep(t)),this.ws(e,o,t,Ah(r,Ch)).next((e=>e)))}))}ps(e,t){let n=new xd(rp(e));return t.forEach(((t,r)=>{tp(e,r)&&(n=n.add(r))})),n}ys(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}fs(e,t,n){return $u()<=ec.DEBUG&&qu("QueryEngine","Using full collection scan to execute query:",ep(t)),this.As.getDocumentsMatchingQuery(e,t,Nh.min(),n)}ws(e,t,n,r){return this.As.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const Dg="LocalStore";class Og{constructor(e,t,n,r){this.persistence=e,this.bs=t,this.serializer=r,this.Ss=new bd(dh),this.Ds=new op((e=>Uf(e)),Vf),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(n)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yg(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ss)))}}function Mg(e,t,n,r){return new Og(e,t,n,r)}async function jg(e,t){const n=Ju(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Fs(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=gp();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({Ms:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function Fg(e){const t=Ju(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.ai.getLastRemoteSnapshotVersion(e)))}function Ug(e,t,n){let r=gp(),i=gp();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=ap();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(bh.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):qu(Dg,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{xs:r,Os:i}}))}function Vg(e,t){const n=Ju(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=Vh),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Bg(e,t){const n=Ju(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.ai.getTargetData(e,t).next((i=>i?(r=i,Mh.resolve(r)):n.ai.allocateTargetId(e).next((i=>(r=new Xm(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.ai.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ss.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(e.targetId,e),n.Ds.set(t,e.targetId)),e}))}async function zg(e,t,n){const r=Ju(e),i=r.Ss.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Fh(e))throw e;qu(Dg,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ss=r.Ss.remove(t),r.Ds.delete(i.target)}function $g(e,t,n){const r=Ju(e);let i=bh.min(),o=gp();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Ju(e),i=r.Ds.get(n);return void 0!==i?Mh.resolve(r.Ss.get(i)):r.ai.getTargetData(t,n)}(r,e,Kf(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.bs.getDocumentsMatchingQuery(e,t,n?i:bh.min(),n?o:gp()))).next((e=>(qg(r,np(t),e),{documents:e,Ns:o})))))}function qg(e,t,n){let r=e.vs.get(t)||bh.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.vs.set(t,r)}class Gg{constructor(){this.activeTargetIds=vp()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hg{constructor(){this.So=new Gg,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,n){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Gg,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Wg{vo(e){}shutdown(){}}const Kg="ConnectivityMonitor";class Yg{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){qu(Kg,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){qu(Kg,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qg=null;function Jg(){return null===Qg?Qg=268435456+Math.round(2147483648*Math.random()):Qg++,"0x"+Qg.toString(16)}const Xg="RestConnection",Zg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ey{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${n}/databases/${r}`,this.qo=this.databaseId.database===Vd?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Qo(e,t,n,r,i){const o=Jg(),s=this.$o(e,t.toUriEncodedString());qu(Xg,`Sending RPC '${e}' ${o}:`,s,n);const a={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(a,r,i),this.Ko(e,s,a,n).then((t=>(qu(Xg,`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw Hu(Xg,`RPC '${e}' ${o} failed with error: `,t,"url: ",s,"request:",n),t}))}Wo(e,t,n,r,i,o){return this.Qo(e,t,n,r,i)}Uo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}$o(e,t){const n=Zg[e];return`${this.Lo}/v1/${t}:${n}`}terminate(){}}class ty{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}const ny="WebChannelConnection";class ry extends ey{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,n,r){const i=Jg();return new Promise(((o,s)=>{const a=new _u;a.setWithCredentials(!0),a.listenOnce(Pu.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Nu.NO_ERROR:const t=a.getResponseJson();qu(ny,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case Nu.TIMEOUT:qu(ny,`RPC '${e}' ${i} timed out`),s(new Zu(Xu.DEADLINE_EXCEEDED,"Request time out"));break;case Nu.HTTP_ERROR:const n=a.getStatus();if(qu(ny,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Xu).indexOf(t)>=0?t:Xu.UNKNOWN}(t.status);s(new Zu(e,t.message))}else s(new Zu(Xu.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Zu(Xu.UNAVAILABLE,"Connection failed."));break;default:Ku(9055,{s_:e,streamId:i,o_:a.getLastErrorCode(),__:a.getLastError()})}}finally{qu(ny,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);qu(ny,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}a_(e,t,n){const r=Jg(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ou(),s=Du(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Uo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");qu(ny,`Creating RPC '${e}' stream ${r}: ${c}`,a);const u=o.createWebChannel(c,a);let h=!1,d=!1;const f=new ty({Go:t=>{d?qu(ny,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(qu(ny,`Opening RPC '${e}' stream ${r} transport.`),u.open(),h=!0),qu(ny,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Au.EventType.OPEN,(()=>{d||(qu(ny,`RPC '${e}' stream ${r} transport opened.`),f.t_())})),p(u,Au.EventType.CLOSE,(()=>{d||(d=!0,qu(ny,`RPC '${e}' stream ${r} transport closed`),f.r_())})),p(u,Au.EventType.ERROR,(t=>{d||(d=!0,Hu(ny,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.r_(new Zu(Xu.UNAVAILABLE,"The operation could not be completed")))})),p(u,Au.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Qu(!!i,16349);const o=i,s=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){qu(ny,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=tm[e];if(void 0!==t)return im(t)}(t),i=s.message;void 0===n&&(n=Xu.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.r_(new Zu(n,i)),u.close()}else qu(ny,`RPC '${e}' stream ${r} received:`,i),f.i_(i)}})),p(s,Lu.STAT_EVENT,(t=>{t.stat===Ru.PROXY?qu(ny,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Ru.NOPROXY&&qu(ny,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.n_()}),0),f}}function iy(){return"undefined"!=typeof document?document:null}function oy(e){return new xm(e,!0)}class sy{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.bi=e,this.timerId=t,this.u_=n,this.c_=r,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),r=Math.max(0,t-n);r>0&&qu("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,r,(()=>(this.T_=Date.now(),e()))),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){null!==this.P_&&(this.P_.skipDelay(),this.P_=null)}cancel(){null!==this.P_&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}const ay="PersistentStream";class ly{constructor(e,t,n,r,i,o,s,a){this.bi=e,this.R_=n,this.V_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new sy(e,t)}w_(){return 1===this.state||5===this.state||this.b_()}b_(){return 2===this.state||3===this.state}start(){this.p_=0,4!==this.state?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&null===this.f_&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,(()=>this.C_())))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,4!==e?this.y_.reset():t&&t.code===Xu.RESOURCE_EXHAUSTED?(Gu(t.toString()),Gu("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===Xu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.m_===t&&this.B_(n,r)}),(t=>{e((()=>{const e=new Zu(Xu.UNKNOWN,"Fetching auth token failed: "+t.message);return this.L_(e)}))}))}B_(e,t){const n=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo((()=>{n((()=>this.listener.jo()))})),this.stream.Jo((()=>{n((()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,(()=>(this.b_()&&(this.state=3),Promise.resolve()))),this.listener.Jo())))})),this.stream.Zo((e=>{n((()=>this.L_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.p_?this.q_(e):this.onNext(e)))}))}S_(){this.state=5,this.y_.E_((async()=>{this.state=0,this.start()}))}L_(e){return qu(ay,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget((()=>this.m_===e?t():(qu(ay,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cy extends ly{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ku(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Qu(void 0===t||"string"==typeof t,58123),Cd.fromBase64String(t||"")):(Qu(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Cd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Xu.UNKNOWN:im(e.code);return new Zu(t,e.message||"")}(s);n=new mm(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Lm(e,r.document.name),o=_m(r.document.updateTime),s=r.document.createTime?_m(r.document.createTime):bh.min(),a=new df({mapValue:{fields:r.document.fields}}),l=pf.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new fm(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Lm(e,r.document),o=r.readTime?_m(r.readTime):bh.min(),s=pf.newNoDocument(i,o),a=r.removedTargetIds||[];n=new fm([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Lm(e,r.document),o=r.removedTargetIds||[];n=new fm([],o,i,null)}else{if(!("filter"in t))return Ku(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new em(r,i),s=e.targetId;n=new pm(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return bh.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?bh.min():t.readTime?_m(t.readTime):bh.min()}(e);return this.listener.Q_(t,n)}U_(e){const t={};t.database=Mm(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Bf(r)?{documents:Vm(e,r)}:{query:Bm(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Im(e,t.resumeToken);const r=km(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(bh.min())>0){n.readTime=Tm(e,t.snapshotVersion.toTimestamp());const r=km(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ku(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.F_(t)}K_(e){const t={};t.database=Mm(this.serializer),t.removeTarget=e,this.F_(t)}}class uy extends ly{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Qu(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qu(!e.writeResults||0===e.writeResults.length,55816),this.listener.z_()}onNext(e){Qu(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=function(e,t){return e&&e.length>0?(Qu(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?_m(e.updateTime):_m(t);return n.isEqual(bh.min())&&(n=_m(t)),new Op(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=_m(e.commitTime);return this.listener.j_(n,t)}H_(){const e={};e.database=Mm(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Um(this.serializer,e)))};this.F_(t)}}class hy{}class dy extends hy{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.J_=!1}Y_(){if(this.J_)throw new Zu(Xu.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,n,r){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.Qo(e,Pm(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Xu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Zu(Xu.UNKNOWN,e.toString())}))}Wo(e,t,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.Wo(e,Pm(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Xu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Zu(Xu.UNKNOWN,e.toString())}))}terminate(){this.J_=!0,this.connection.terminate()}}class fy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){0===this.Z_&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve()))))}ia(e){"Online"===this.state?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,"Online"===e&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Gu(t),this.ea=!1):qu("OnlineStateTracker",t)}sa(){null!==this.X_&&(this.X_.cancel(),this.X_=null)}}const py="RemoteStore";class my{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo((e=>{n.enqueueAndForget((async()=>{ky(this)&&(qu(py,"Restarting streams for network reachability change."),await async function(e){const t=Ju(e);t.aa.add(4),await yy(t),t.la.set("Unknown"),t.aa.delete(4),await gy(t)}(this))}))})),this.la=new fy(n,r)}}async function gy(e){if(ky(e))for(const t of e.ua)await t(!0)}async function yy(e){for(const t of e.ua)await t(!1)}function vy(e,t){const n=Ju(e);n._a.has(t.targetId)||(n._a.set(t.targetId,t),xy(n)?Sy(n):$y(n).b_()&&by(n,t))}function wy(e,t){const n=Ju(e),r=$y(n);n._a.delete(t),r.b_()&&Ey(n,t),0===n._a.size&&(r.b_()?r.v_():ky(n)&&n.la.set("Unknown"))}function by(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bh.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}$y(e).U_(t)}function Ey(e,t){e.ha.Ke(t),$y(e).K_(t)}function Sy(e){e.ha=new ym({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),$y(e).start(),e.la.ta()}function xy(e){return ky(e)&&!$y(e).w_()&&e._a.size>0}function ky(e){return 0===Ju(e).aa.size}function Ty(e){e.ha=void 0}async function Iy(e){e.la.set("Online")}async function Cy(e){e._a.forEach(((t,n)=>{by(e,t)}))}async function _y(e,t){Ty(e),xy(e)?(e.la.ia(t),Sy(e)):e.la.set("Unknown")}async function Ay(e,t,n){if(e.la.set("Online"),t instanceof mm&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e._a.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e._a.delete(r),e.ha.removeTarget(r))}(e,t)}catch(n){qu(py,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Py(e,n)}else if(t instanceof fm?e.ha.Xe(t):t instanceof pm?e.ha.ot(t):e.ha.nt(t),!n.isEqual(bh.min()))try{const t=await Fg(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ha.It(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e._a.get(r);i&&e._a.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e._a.get(t);if(!r)return;e._a.set(t,r.withResumeToken(Cd.EMPTY_BYTE_STRING,r.snapshotVersion)),Ey(e,t);const i=new Xm(r.target,t,n,r.sequenceNumber);by(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){qu(py,"Failed to raise snapshot:",t),await Py(e,t)}}async function Py(e,t,n){if(!Fh(t))throw t;e.aa.add(1),await yy(e),e.la.set("Offline"),n||(n=()=>Fg(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{qu(py,"Retrying IndexedDB access"),await n(),e.aa.delete(1),await gy(e)}))}function Ny(e,t){return t().catch((n=>Py(e,n,t)))}async function Ry(e){const t=Ju(e),n=qy(t);let r=t.oa.length>0?t.oa[t.oa.length-1].batchId:Vh;for(;Ly(t);)try{const e=await Vg(t.localStore,r);if(null===e){0===t.oa.length&&n.v_();break}r=e.batchId,Dy(t,e)}catch(e){await Py(t,e)}Oy(t)&&My(t)}function Ly(e){return ky(e)&&e.oa.length<10}function Dy(e,t){e.oa.push(t);const n=qy(e);n.b_()&&n.W_&&n.G_(t.mutations)}function Oy(e){return ky(e)&&!qy(e).w_()&&e.oa.length>0}function My(e){qy(e).start()}async function jy(e){qy(e).H_()}async function Fy(e){const t=qy(e);for(const n of e.oa)t.G_(n.mutations)}async function Uy(e,t,n){const r=e.oa.shift(),i=Xp.from(r,t,n);await Ny(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Ry(e)}async function Vy(e,t){t&&qy(e).W_&&await async function(e,t){if(function(e){return rm(e)&&e!==Xu.ABORTED}(t.code)){const n=e.oa.shift();qy(e).D_(),await Ny(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Ry(e)}}(e,t),Oy(e)&&My(e)}async function By(e,t){const n=Ju(e);n.asyncQueue.verifyOperationInProgress(),qu(py,"RemoteStore received new credentials");const r=ky(n);n.aa.add(3),await yy(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.aa.delete(3),await gy(n)}async function zy(e,t){const n=Ju(e);t?(n.aa.delete(2),await gy(n)):t||(n.aa.add(2),await yy(n),n.la.set("Unknown"))}function $y(e){return e.Pa||(e.Pa=function(e,t,n){const r=Ju(e);return r.Y_(),new cy(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{jo:Iy.bind(null,e),Jo:Cy.bind(null,e),Zo:_y.bind(null,e),Q_:Ay.bind(null,e)}),e.ua.push((async t=>{t?(e.Pa.D_(),xy(e)?Sy(e):e.la.set("Unknown")):(await e.Pa.stop(),Ty(e))}))),e.Pa}function qy(e){return e.Ta||(e.Ta=function(e,t,n){const r=Ju(e);return r.Y_(),new uy(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:jy.bind(null,e),Zo:Vy.bind(null,e),z_:Fy.bind(null,e),j_:Uy.bind(null,e)}),e.ua.push((async t=>{t?(e.Ta.D_(),await Ry(e)):(await e.Ta.stop(),e.oa.length>0&&(qu(py,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))}))),e.Ta}class Gy{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new eh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new Gy(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Zu(Xu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hy(e,t){if(Gu("AsyncQueue",`${t}: ${e}`),Fh(e))return new Zu(Xu.UNAVAILABLE,`${t}: ${e}`);throw e}class Wy{static emptySet(e){return new Wy(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ih.comparator(t.key,n.key):(e,t)=>Ih.comparator(e.key,t.key),this.keyedMap=cp(),this.sortedSet=new bd(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wy))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Wy;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Ky{constructor(){this.Ia=new bd(Ih.comparator)}track(e){const t=e.doc.key,n=this.Ia.get(t);n?0!==e.type&&3===n.type?this.Ia=this.Ia.insert(t,e):3===e.type&&1!==n.type?this.Ia=this.Ia.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Ia=this.Ia.remove(t):1===e.type&&2===n.type?this.Ia=this.Ia.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Ku(63341,{Vt:e,Ea:n}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Yy{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new Yy(e,t,Wy.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Qy{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some((e=>e.ma()))}}class Jy{constructor(){this.queries=Xy(),this.onlineState="Unknown",this.fa=new Set}terminate(){!function(e,t){const n=Ju(e),r=n.queries;n.queries=Xy(),r.forEach(((e,n)=>{for(const r of n.Ra)r.onError(t)}))}(this,new Zu(Xu.ABORTED,"Firestore shutting down"))}}function Xy(){return new op((e=>Zf(e)),Xf)}async function Zy(e,t){const n=Ju(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.Va()&&t.ma()&&(r=2):(o=new Qy,r=t.ma()?0:1);try{switch(r){case 0:o.Aa=await n.onListen(i,!0);break;case 1:o.Aa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Hy(e,`Initialization of query '${ep(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,o),o.Ra.push(t),t.ga(n.onlineState),o.Aa&&t.pa(o.Aa)&&rv(n)}async function ev(e,t){const n=Ju(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.Ra.indexOf(t);e>=0&&(o.Ra.splice(e,1),0===o.Ra.length?i=t.ma()?0:1:!o.Va()&&t.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function tv(e,t){const n=Ju(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Ra)e.pa(i)&&(r=!0);t.Aa=i}}r&&rv(n)}function nv(e,t,n){const r=Ju(e),i=r.queries.get(t);if(i)for(const o of i.Ra)o.onError(n);r.queries.delete(t)}function rv(e){e.fa.forEach((e=>{e.next()}))}var iv,ov;(ov=iv||(iv={})).ya="default",ov.Cache="cache";class sv{constructor(e,t,n){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Yy(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache)return!0;if(!this.ma())return!0;const n="Offline"!==t;return(!this.options.Fa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Ca(e){e=Yy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==iv.Cache}}class av{constructor(e){this.key=e}}class lv{constructor(e){this.key=e}}class cv{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=gp(),this.mutatedKeys=gp(),this.Ua=rp(e),this.Ka=new Wy(this.Ua)}get Wa(){return this.qa}Ga(e,t){const n=t?t.za:new Ky,r=t?t.Ka:this.Ka;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=tp(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ja(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Ua(u,a)>0||l&&this.Ua(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ka:o,za:n,ys:s,mutatedKeys:i}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ku(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Ua(e.doc,t.doc))),this.Ha(n),r=null!=r&&r;const s=t&&!r?this.Ja():[],a=0===this.$a.size&&this.current&&!r?1:0,l=a!==this.Qa;return this.Qa=a,0!==o.length||l?{snapshot:new Yy(this.query,e.Ka,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:s}:{Ya:s}}ga(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Ky,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach((e=>this.qa=this.qa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.qa=this.qa.delete(e))),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=gp(),this.Ka.forEach((e=>{this.Za(e.key)&&(this.$a=this.$a.add(e.key))}));const t=[];return e.forEach((e=>{this.$a.has(e)||t.push(new lv(e))})),this.$a.forEach((n=>{e.has(n)||t.push(new av(n))})),t}Xa(e){this.qa=e.Ns,this.$a=gp();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Yy.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,0===this.Qa,this.hasCachedResults)}}const uv="SyncEngine";class hv{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class dv{constructor(e){this.key=e,this.tu=!1}}class fv{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new op((e=>Zf(e)),Xf),this.iu=new Map,this.su=new Set,this.ou=new bd(Ih.comparator),this._u=new Map,this.au=new Eg,this.uu={},this.cu=new Map,this.lu=ag.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return!0===this.hu}}async function pv(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Ov(e);let i;const o=r.ru.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.eu()):i=await gv(r,t,n,!0),i}async function mv(e,t){const n=Ov(e);await gv(n,t,!0,!1)}async function gv(e,t,n,r){const i=await Bg(e.localStore,Kf(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await yv(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&vy(e.remoteStore,i),a}async function yv(e,t,n,r,i){e.Pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.Ga(n);i.ys&&(i=await $g(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Ga(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return Av(e,t.targetId,a.Ya),a.snapshot}(e,t,n,r);const o=await $g(e.localStore,t,!0),s=new cv(t,o.Ns),a=s.Ga(o.documents),l=dm.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);Av(e,n,c.Ya);const u=new hv(t,n,s);return e.ru.set(t,u),e.iu.has(n)?e.iu.get(n).push(t):e.iu.set(n,[t]),c.snapshot}async function vv(e,t,n){const r=Ju(e),i=r.ru.get(t),o=r.iu.get(i.targetId);if(o.length>1)return r.iu.set(i.targetId,o.filter((e=>!Xf(e,t)))),void r.ru.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await zg(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&wy(r.remoteStore,i.targetId),Cv(r,i.targetId)})).catch(Oh)):(Cv(r,i.targetId),await zg(r.localStore,i.targetId,!0))}async function wv(e,t){const n=Ju(e),r=n.ru.get(t),i=n.iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wy(n.remoteStore,r.targetId))}async function bv(e,t){const n=Ju(e);try{const e=await function(e,t){const n=Ju(e),r=t.snapshotVersion;let i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.ai.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.ai.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Cd.EMPTY_BYTE_STRING,bh.min()).withLastLimboFreeSnapshotVersion(bh.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,o)&&s.push(n.ai.updateTargetData(e,c))}));let a=ap(),l=gp();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Ug(e,o,t.documentUpdates).next((e=>{a=e.xs,l=e.Os}))),!r.isEqual(bh.min())){const t=n.ai.getLastRemoteSnapshotVersion(e).next((t=>n.ai.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Mh.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ss=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n._u.get(t);r&&(Qu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.tu=!0:e.modifiedDocuments.size>0?Qu(r.tu,14607):e.removedDocuments.size>0&&(Qu(r.tu,42227),r.tu=!1))})),await Rv(n,e,t)}catch(e){await Oh(e)}}function Ev(e,t,n){const r=Ju(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ru.forEach(((n,r)=>{const i=r.view.ga(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Ju(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Ra)i.ga(t)&&(r=!0)})),r&&rv(n)}(r.eventManager,t),e.length&&r.nu.Q_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Sv(e,t,n){const r=Ju(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r._u.get(t),o=i&&i.key;if(o){let e=new bd(Ih.comparator);e=e.insert(o,pf.newNoDocument(o,bh.min()));const n=gp().add(o),i=new hm(bh.min(),new Map,new bd(dh),e,n);await bv(r,i),r.ou=r.ou.remove(o),r._u.delete(t),Nv(r)}else await zg(r.localStore,t,!1).then((()=>Cv(r,t,n))).catch(Oh)}async function xv(e,t){const n=Ju(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ju(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Mh.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Qu(null!==o,48541),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=gp();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Iv(n,r,null),Tv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rv(n,e)}catch(e){await Oh(e)}}async function kv(e,t,n){const r=Ju(e);try{const e=await function(e,t){const n=Ju(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Qu(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Iv(r,t,n),Tv(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Rv(r,e)}catch(n){await Oh(n)}}function Tv(e,t){(e.cu.get(t)||[]).forEach((e=>{e.resolve()})),e.cu.delete(t)}function Iv(e,t,n){const r=Ju(e);let i=r.uu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.uu[r.currentUser.toKey()]=i}}function Cv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.iu.get(t))e.ru.delete(r),n&&e.nu.Tu(r,n);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach((t=>{e.au.containsKey(t)||_v(e,t)}))}function _v(e,t){e.su.delete(t.path.canonicalString());const n=e.ou.get(t);null!==n&&(wy(e.remoteStore,n),e.ou=e.ou.remove(t),e._u.delete(n),Nv(e))}function Av(e,t,n){for(const r of n)r instanceof av?(e.au.addReference(r.key,t),Pv(e,r)):r instanceof lv?(qu(uv,"Document no longer in limbo: "+r.key),e.au.removeReference(r.key,t),e.au.containsKey(r.key)||_v(e,r.key)):Ku(19791,{Iu:r})}function Pv(e,t){const n=t.key,r=n.path.canonicalString();e.ou.get(n)||e.su.has(r)||(qu(uv,"New document in limbo: "+n),e.su.add(r),Nv(e))}function Nv(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const n=new Ih(xh.fromString(t)),r=e.lu.next();e._u.set(r,new dv(n)),e.ou=e.ou.insert(n,r),vy(e.remoteStore,new Xm(Kf(qf(n.path)),r,"TargetPurposeLimboResolution",Uh.le))}}async function Rv(e,t,n){const r=Ju(e),i=[],o=[],s=[];r.ru.isEmpty()||(r.ru.forEach(((e,a)=>{s.push(r.Pu(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Ng.Ps(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.nu.Q_(i),await async function(e,t){const n=Ju(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Mh.forEach(t,(t=>Mh.forEach(t.ls,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Mh.forEach(t.hs,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Fh(e))throw e;qu(Dg,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ss.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ss=n.Ss.insert(e,i)}}}(r.localStore,o))}async function Lv(e,t){const n=Ju(e);if(!n.currentUser.isEqual(t)){qu(uv,"User change. New user:",t.toKey());const e=await jg(n.localStore,t);n.currentUser=t,function(e,t){e.cu.forEach((e=>{e.forEach((e=>{e.reject(new Zu(Xu.CANCELLED,t))}))})),e.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Rv(n,e.Ms)}}function Dv(e,t){const n=Ju(e),r=n._u.get(t);if(r&&r.tu)return gp().add(r.key);{let e=gp();const r=n.iu.get(t);if(!r)return e;for(const t of r){const r=n.ru.get(t);e=e.unionWith(r.view.Wa)}return e}}function Ov(e){const t=Ju(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=bv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Sv.bind(null,t),t.nu.Q_=tv.bind(null,t.eventManager),t.nu.Tu=nv.bind(null,t.eventManager),t}function Mv(e){const t=Ju(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kv.bind(null,t),t}class jv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=oy(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return Mg(this.persistence,new Lg,e.initialUser,this.serializer)}Ru(e){return new Cg(Ag.Ei,this.serializer)}Au(e){return new Hg}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jv.provider={build:()=>new jv};class Fv extends jv{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Qu(this.persistence.referenceDelegate instanceof Pg,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new dg(n,e.asyncQueue,t)}Ru(e){const t=void 0!==this.cacheSizeBytes?sg.withCacheSize(this.cacheSizeBytes):sg.DEFAULT;return new Cg((e=>Pg.Ei(e,t)),this.serializer)}}class Uv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ev(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Lv.bind(null,this.syncEngine),await zy(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Jy}createDatastore(e){const t=oy(e.databaseInfo.databaseId),n=function(e){return new ry(e)}(e.databaseInfo);return function(e,t,n,r){return new dy(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new my(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Ev(this.syncEngine,e,0)),Yg.C()?new Yg:new Wg)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new fv(e,t,n,r,i,o);return s&&(a.hu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Ju(e);qu(py,"RemoteStore shutting down."),t.aa.add(5),await yy(t),t.ca.shutdown(),t.la.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Uv.provider={build:()=>new Uv};class Vv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Gu("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Bv="FirestoreClient";class zv{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Vu.UNAUTHENTICATED,this.clientId=hh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{qu(Bv,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(qu(Bv,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new eh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Hy(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function $v(e,t){e.asyncQueue.verifyOperationInProgress(),qu(Bv,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await jg(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function qv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Gv(e);qu(Bv,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>By(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>By(t.remoteStore,n))),e._onlineComponents=t}async function Gv(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){qu(Bv,"Using user provided OfflineComponentProvider");try{await $v(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Xu.FAILED_PRECONDITION||e.code===Xu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Hu("Error using user provided cache. Falling back to memory cache: "+n),await $v(e,new jv)}}else qu(Bv,"Using default OfflineComponentProvider"),await $v(e,new Fv(void 0));return e._offlineComponents}async function Hv(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(qu(Bv,"Using user provided OnlineComponentProvider"),await qv(e,e._uninitializedComponentsProvider._online)):(qu(Bv,"Using default OnlineComponentProvider"),await qv(e,new Uv))),e._onlineComponents}function Wv(e){return Hv(e).then((e=>e.syncEngine))}async function Kv(e){const t=await Hv(e),n=t.eventManager;return n.onListen=pv.bind(null,t.syncEngine),n.onUnlisten=vv.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=mv.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=wv.bind(null,t.syncEngine),n}function Yv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new eh;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Vv({next:a=>{o.yu(),t.enqueueAndForget((()=>ev(e,s)));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new Zu(Xu.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new Zu(Xu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),s=new sv(qf(n.path),o,{includeMetadataChanges:!0,Fa:!0});return Zy(e,s)}(await Kv(e),e.asyncQueue,t,n,r))),r.promise}function Qv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new eh;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Vv({next:n=>{o.yu(),t.enqueueAndForget((()=>ev(e,s))),n.fromCache&&"server"===r.source?i.reject(new Zu(Xu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new sv(n,o,{includeMetadataChanges:!0,Fa:!0});return Zy(e,s)}(await Kv(e),e.asyncQueue,t,n,r))),r.promise}function Jv(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Xv=new Map;function Zv(e,t,n){if(!n)throw new Zu(Xu.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ew(e){if(!Ih.isDocumentKey(e))throw new Zu(Xu.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function tw(e){if(Ih.isDocumentKey(e))throw new Zu(Xu.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function nw(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Ku(12329,{type:typeof e})}function rw(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Zu(Xu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nw(e);throw new Zu(Xu.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}const iw="firestore.googleapis.com",ow=!0;class sw{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Zu(Xu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iw,this.ssl=ow}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:ow;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=og;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<cg)throw new Zu(Xu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Zu(Xu.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jv(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Zu(Xu.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Zu(Xu.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Zu(Xu.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class aw{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Zu(Xu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Zu(Xu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sw(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new nh;switch(e.type){case"firstParty":return new sh(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Zu(Xu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Xv.get(e);t&&(qu("ComponentProvider","Removing Datastore"),Xv.delete(e),t.terminate())}(this),Promise.resolve()}}function lw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=rw(e,aw))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),a=`${t}:${n}`;o.host!==iw&&o.host!==a&&Hu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},o),{host:a,ssl:!1,emulatorOptions:r});if(!Vl(l,s)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Vu.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[kl(JSON.stringify({alg:"none",type:"JWT"})),kl(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Zu(Xu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Vu(o)}e._authCredentials=new rh(new th(t,n))}}class cw{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new cw(this.firestore,e,this._query)}}class uw{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hw(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new uw(this.firestore,e,this._key)}}class hw extends cw{constructor(e,t,n){super(e,t,qf(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new uw(this.firestore,null,new Ih(e))}withConverter(e){return new hw(this.firestore,e,this._path)}}function dw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Kl(e),Zv("collection","path",t),e instanceof aw){const n=xh.fromString(t,...r);return tw(n),new hw(e,null,n)}{if(!(e instanceof uw||e instanceof hw))throw new Zu(Xu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(xh.fromString(t,...r));return tw(n),new hw(e.firestore,null,n)}}function fw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Kl(e),1===arguments.length&&(t=hh.newId()),Zv("doc","path",t),e instanceof aw){const n=xh.fromString(t,...r);return ew(n),new uw(e,null,new Ih(n))}{if(!(e instanceof uw||e instanceof hw))throw new Zu(Xu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(xh.fromString(t,...r));return ew(n),new uw(e.firestore,e instanceof hw?e.converter:null,new Ih(n))}}const pw="AsyncQueue";class mw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new sy(this,"async_queue_retry"),this.ju=()=>{const e=iy();e&&qu(pw,"Visibility state changed to "+e.visibilityState),this.y_.A_()},this.Hu=e;const t=iy();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=iy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise((()=>{}));const t=new eh;return this.Yu((()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qu.push(e),this.Zu())))}async Zu(){if(0!==this.Qu.length){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(uD){if(!Fh(uD))throw uD;qu(pw,"Operation failed with retryable error: "+uD)}this.Qu.length>0&&this.y_.E_((()=>this.Zu()))}}Yu(e){const t=this.Hu.then((()=>(this.Wu=!0,e().catch((e=>{throw this.Ku=e,this.Wu=!1,Gu("INTERNAL UNHANDLED ERROR: ",gw(e)),e})).then((e=>(this.Wu=!1,e))))));return this.Hu=t,t}enqueueAfterDelay(e,t,n){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const r=Gy.createAndSchedule(this,e,t,n,(e=>this.Xu(e)));return this.Uu.push(r),r}Ju(){this.Ku&&Ku(47125,{ec:gw(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do{e=this.Hu,await e}while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then((()=>{this.Uu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Uu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.tc()}))}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function gw(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class yw extends aw{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new mw,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mw(e),this._firestoreClient=void 0,await e}}}function vw(e){if(e._terminated)throw new Zu(Xu.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||ww(e),e._firestoreClient}function ww(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Ud(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Jv(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new zv(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class bw{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bw(Cd.fromBase64String(e))}catch(e){throw new Zu(Xu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new bw(Cd.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ew{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Zu(Xu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Th(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Sw{constructor(e){this._methodName=e}}class xw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Zu(Xu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Zu(Xu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return dh(this._lat,e._lat)||dh(this._long,e._long)}}class kw{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Tw=/^__.*__$/;class Iw{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Gp(e,this.data,this.fieldMask,t,this.fieldTransforms):new qp(e,this.data,t,this.fieldTransforms)}}class Cw{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Gp(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _w(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ku(40011,{oc:e})}}class Aw{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this._c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Aw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ac({path:n,cc:!1});return r.lc(e),r}hc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ac({path:n,cc:!1});return r._c(),r}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Gw(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(0===e.length)throw this.Tc("Document fields must not be empty");if(_w(this.oc)&&Tw.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class Pw{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||oy(e)}dc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Aw({oc:e,methodName:t,Ec:n,path:Th.emptyPath(),cc:!1,Ic:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nw(e){const t=e._freezeSettings(),n=oy(e._databaseId);return new Pw(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Rw(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.dc(o.merge||o.mergeFields?2:0,t,n,i);Bw("Data must be an object, but it was:",s,r);const a=Uw(r,s);let l,c;if(o.merge)l=new Td(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=zw(t,r,n);if(!s.contains(i))throw new Zu(Xu.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Hw(e,i)||e.push(i)}l=new Td(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new Iw(new df(a),l,c)}class Lw extends Sw{_toFieldTransform(e){if(2!==e.oc)throw 1===e.oc?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lw}}class Dw extends Sw{_toFieldTransform(e){return new Dp(e.path,new Ip)}isEqual(e){return e instanceof Dw}}function Ow(e,t,n,r){const i=e.dc(1,t,n);Bw("Data must be an object, but it was:",i,r);const o=[],s=df.empty();vd(r,((e,r)=>{const a=qw(t,e,n);r=Kl(r);const l=i.hc(a);if(r instanceof Lw)o.push(a);else{const e=Fw(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new Td(o);return new Cw(s,a,i.fieldTransforms)}function Mw(e,t,n,r,i,o){const s=e.dc(1,t,n),a=[zw(t,r,n)],l=[i];if(o.length%2!=0)throw new Zu(Xu.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(zw(t,o[d])),l.push(o[d+1]);const c=[],u=df.empty();for(let d=a.length-1;d>=0;--d)if(!Hw(c,a[d])){const e=a[d];let t=l[d];t=Kl(t);const n=s.hc(e);if(t instanceof Lw)c.push(e);else{const r=Fw(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new Td(c);return new Cw(u,h,s.fieldTransforms)}function jw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Fw(n,e.dc(r?4:3,t))}function Fw(e,t){if(Vw(e=Kl(e)))return Bw("Unsupported field value:",t,e),Uw(e,t);if(e instanceof Sw)return function(e,t){if(!_w(t.oc))throw t.Tc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Tc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&4!==t.oc)throw t.Tc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Fw(i,t.Pc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Kl(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ep(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=wh.fromDate(e);return{timestampValue:Tm(t.serializer,n)}}if(e instanceof wh){const n=new wh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Tm(t.serializer,n)}}if(e instanceof xw)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof bw)return{bytesValue:Im(t.serializer,e._byteString)};if(e instanceof uw){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Tc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Am(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof kw)return function(e,t){return{mapValue:{fields:{[zd]:{stringValue:Gd},[Hd]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Tc("VectorValues must only contain numeric values.");return wp(t.serializer,e)}))}}}}}}(e,t);throw t.Tc(`Unsupported field value: ${nw(e)}`)}(e,t)}function Uw(e,t){const n={};return wd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vd(e,((e,r)=>{const i=Fw(r,t.uc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Vw(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof wh||e instanceof xw||e instanceof bw||e instanceof uw||e instanceof Sw||e instanceof kw)}function Bw(e,t,n){if(!Vw(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=nw(n);throw"an object"===r?t.Tc(e+" a custom object"):t.Tc(e+" "+r)}}function zw(e,t,n){if((t=Kl(t))instanceof Ew)return t._internalPath;if("string"==typeof t)return qw(e,t);throw Gw("Field path arguments must be of type string or ",e,!1,void 0,n)}const $w=new RegExp("[~\\*/\\[\\]]");function qw(e,t,n){if(t.search($w)>=0)throw Gw(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Ew(...t.split("."))._internalPath}catch(r){throw Gw(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Gw(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Zu(Xu.INVALID_ARGUMENT,a+e+l)}function Hw(e,t){return e.some((e=>e.isEqual(t)))}class Ww{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new uw(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Kw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Yw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Kw extends Ww{data(){return super.data()}}function Yw(e,t){return"string"==typeof t?qw(e,t):t instanceof Ew?t._internalPath:t._delegate._internalPath}function Qw(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Zu(Xu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jw{}class Xw extends Jw{}function Zw(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof Jw&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof nb)).length,n=e.filter((e=>e instanceof eb)).length;if(t>1||t>0&&n>0)throw new Zu(Xu.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class eb extends Xw{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new eb(e,t,n)}_apply(e){const t=this._parse(e);return ab(e._query,t),new cw(e.firestore,e.converter,Qf(e._query,t))}_parse(e){const t=Nw(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Zu(Xu.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){sb(s,o);const t=[];for(const n of s)t.push(ob(r,e,n));a={arrayValue:{values:t}}}else a=ob(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||sb(s,o),a=jw(n,t,s,"in"===o||"not-in"===o);return Ef.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function tb(e,t,n){const r=t,i=Yw("where",e);return eb._create(i,r,n)}class nb extends Jw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new nb(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Sf.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)ab(n,i),n=Qf(n,i)}(e._query,t),new cw(e.firestore,e.converter,Qf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class rb extends Xw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new rb(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Zu(Xu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Zu(Xu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vf(t,n)}(e._query,this._field,this._direction);return new cw(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new zf(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function ib(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Yw("orderBy",e);return rb._create(n,t)}function ob(e,t,n){if("string"==typeof(n=Kl(n))){if(""===n)throw new Zu(Xu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hf(t)&&-1!==n.indexOf("/"))throw new Zu(Xu.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(xh.fromString(n));if(!Ih.isDocumentKey(r))throw new Zu(Xu.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nf(e,new Ih(r))}if(n instanceof uw)return nf(e,n._key);throw new Zu(Xu.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nw(n)}.`)}function sb(e,t){if(!Array.isArray(e)||0===e.length)throw new Zu(Xu.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ab(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Zu(Xu.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Zu(Xu.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class lb{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Wd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ku(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return vd(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Hd].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Pd(e.doubleValue)));return new kw(i)}convertGeoPoint(e){return new xw(Pd(e.latitude),Pd(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=jd(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Fd(e));default:return null}}convertTimestamp(e){const t=Ad(e);return new wh(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=xh.fromString(e);Qu(Jm(n),9688,{name:e});const r=new Bd(n.get(1),n.get(3)),i=new Ih(n.popFirst(5));return r.isEqual(t)||Gu(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function cb(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ub{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hb extends Ww{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new db(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Yw("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class db extends hb{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class fb{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ub(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new db(this._firestore,this._userDataWriter,n.key,n,new ub(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Zu(Xu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new db(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ub(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new db(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ub(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:pb(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function pb(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ku(61501,{type:e})}}function mb(e){e=rw(e,uw);const t=rw(e.firestore,yw);return Yv(vw(t),e._key).then((n=>bb(t,e,n)))}class gb extends lb{constructor(e){super(),this.firestore=e}convertBytes(e){return new bw(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new uw(this.firestore,null,t)}}function yb(e){e=rw(e,cw);const t=rw(e.firestore,yw),n=vw(t),r=new gb(t);return Qw(e._query),Qv(n,e._query).then((n=>new fb(t,r,e,n)))}function vb(e,t,n){e=rw(e,uw);const r=rw(e.firestore,yw),i=cb(e.converter,t,n);return wb(r,[Rw(Nw(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Mp.none())])}function wb(e,t){return function(e,t){const n=new eh;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Mv(e);try{const e=await function(e,t){const n=Ju(e),r=wh.now(),i=t.reduce(((e,t)=>e.add(t.key)),gp());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=ap(),l=gp();return n.Cs.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=zp(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Gp(e.key,t,ff(t.value.mapValue),Mp.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:up(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.uu[e.currentUser.toKey()];r||(r=new bd(dh)),r=r.insert(t,n),e.uu[e.currentUser.toKey()]=r}(r,e.batchId,n),await Rv(r,e.changes),await Ry(r.remoteStore)}catch(e){const t=Hy(e,"Failed to persist write");n.reject(t)}}(await Wv(e),t,n))),n.promise}(vw(e),t)}function bb(e,t,n){const r=n.docs.get(t._key),i=new gb(e);return new hb(e,i,t._key,r,new ub(n.hasPendingWrites,n.fromCache),t.converter)}class Eb{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Nw(e)}set(e,t,n){this._verifyNotCommitted();const r=Sb(e,this._firestore),i=cb(r.converter,t,n),o=Rw(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Mp.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Sb(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=Kl(t))||t instanceof Ew?Mw(this._dataReader,"WriteBatch.update",r._key,t,n,s):Ow(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Mp.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Sb(e,this._firestore);return this._mutations=this._mutations.concat(new Yp(t._key,Mp.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Zu(Xu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sb(e,t){if((e=Kl(e)).firestore!==t)throw new Zu(Xu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function xb(){return new Dw("serverTimestamp")}function kb(e){return vw(e=rw(e,yw)),new Eb(e,(t=>wb(e,t)))}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Bu=e}(uu),ou(new Yl("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new yw(new ih(e.getProvider("auth-internal")),new lh(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Zu(Xu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bd(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),fu(Fu,Uu,e),fu(Fu,Uu,"esm2017")}();function Tb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Ib(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Cb=Ib,_b=new Fl("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ab=new oc("@firebase/auth");function Pb(e){if(Ab.logLevel<=ec.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ab.error(`Auth (${uu}): ${e}`,...n)}}function Nb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Mb(e,...n)}function Rb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Mb(e,...n)}function Lb(e,t,n){const r=Object.assign(Object.assign({},Cb()),{[t]:n});return new Fl("auth","Firebase",r).create(t,{appName:e.name})}function Db(e){return Lb(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ob(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Nb(e,"argument-error"),Lb(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return _b.create(e,...n)}function jb(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Mb(t,...r)}}function Fb(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Pb(t),new Error(t)}function Ub(e,t){e||Fb(t)}function Vb(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Bb(){return"http:"===zb()||"https:"===zb()}function zb(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class $b{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ub(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rl())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Bb()||Ll()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function qb(e,t){Ub(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Gb{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Fb("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Fb("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Fb("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Hb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Wb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Kb=new $b(3e4,6e4);function Yb(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Qb(e,t,n,r){return Jb(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=zl(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Gb.fetch()(await Zb(e,e.config.apiHost,n,s),l)}))}async function Jb(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Hb),t);try{const t=new tE(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw nE(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw nE(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw nE(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw nE(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Lb(e,a,s);Nb(e,a)}}catch(uD){if(uD instanceof jl)throw uD;Nb(e,"network-request-failed",{message:String(uD)})}}async function Xb(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Qb(e,t,n,r,i);return"mfaPendingCredential"in o&&Nb(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function Zb(e,t,n,r){const i=`${t}${n}?${r}`,o=e,s=o.config.emulator?qb(e.config,i):`${e.config.apiScheme}://${i}`;if(Wb.includes(n)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){return o._getPersistence()._getFinalTarget(s).toString()}return s}function eE(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tE{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Rb(this.auth,"network-request-failed"))),Kb.get())}))}}function nE(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Rb(e,t,r);return i.customData._tokenResponse=n,i}function rE(e){return void 0!==e&&void 0!==e.enterprise}class iE{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return eE(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oE(e,t){return Qb(e,"GET","/v2/recaptchaConfig",Yb(e,t))}async function sE(e,t){return Qb(e,"POST","/v1/accounts:lookup",t)}function aE(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(uD){}}function lE(e){return 1e3*Number(e)}function cE(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Pb("JWT malformed, contained fewer than 3 sections"),null;try{const e=Tl(n);return e?JSON.parse(e):(Pb("Failed to decode base64 JWT payload"),null)}catch(uD){return Pb("Caught error parsing JWT payload as JSON",null===uD||void 0===uD?void 0:uD.toString()),null}}function uE(e){const t=cE(e);return jb(t,"internal-error"),jb("undefined"!==typeof t.exp,"internal-error"),jb("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function hE(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(uD){throw uD instanceof jl&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(uD)&&e.auth.currentUser===e&&await e.auth.signOut(),uD}}class dE{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(uD){return void("auth/network-request-failed"===(null===uD||void 0===uD?void 0:uD.code)&&this.schedule(!0))}this.schedule()}}class fE{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=aE(this.lastLoginAt),this.creationTime=aE(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function pE(e){var t;const n=e.auth,r=await e.getIdToken(),i=await hE(e,sE(n,{idToken:r}));jb(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?mE(o.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new fE(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function mE(e){return e.map((e=>{var{providerId:t}=e,n=Tb(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class gE{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){jb(e.idToken,"internal-error"),jb("undefined"!==typeof e.idToken,"internal-error"),jb("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):uE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){jb(0!==e.length,"internal-error");const t=uE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(jb(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Jb(e,{},(async()=>{const n=zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=await Zb(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Gb.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new gE;return n&&(jb("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(jb("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(jb("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gE,this.toJSON())}_performRefresh(){return Fb("not implemented")}}function yE(e,t){jb("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class vE{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Tb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new fE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await hE(this,this.stsTokenManager.getToken(this.auth,e));return jb(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Kl(e),r=await n.getIdToken(t),i=cE(r);jb(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:aE(lE(i.auth_time)),issuedAtTime:aE(lE(i.iat)),expirationTime:aE(lE(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Kl(e);await pE(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(jb(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vE(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){jb(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await pE(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(au(this.auth.app))return Promise.reject(Db(this.auth));const e=await this.getIdToken();return await hE(this,async function(e,t){return Qb(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:E,stsTokenManager:S}=t;jb(v&&S,e,"internal-error");const x=gE.fromJSON(this.name,S);jb("string"===typeof v,e,"internal-error"),yE(u,e.name),yE(h,e.name),jb("boolean"===typeof w,e,"internal-error"),jb("boolean"===typeof b,e,"internal-error"),yE(d,e.name),yE(f,e.name),yE(p,e.name),yE(m,e.name),yE(g,e.name),yE(y,e.name);const k=new vE({uid:v,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:x,createdAt:g,lastLoginAt:y});return E&&Array.isArray(E)&&(k.providerData=E.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new gE;r.updateFromServerResponse(t);const i=new vE({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await pE(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];jb(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?mE(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new gE;s.updateFromIdToken(n);const a=new vE({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new fE(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const wE=new Map;function bE(e){Ub(e instanceof Function,"Expected a class definition");let t=wE.get(e);return t?(Ub(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,wE.set(e,t),t)}class EE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}EE.type="NONE";const SE=EE;function xE(e,t,n){return`firebase:${e}:${t}:${n}`}class kE{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=xE(this.userKey,r.apiKey,i),this.fullPersistenceKey=xE("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await sE(this.auth,{idToken:e}).catch((()=>{}));return t?vE._fromGetAccountInfoResponse(this.auth,t,e):null}return vE._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new kE(bE(SE),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||bE(SE);const o=xE(n,e.config.apiKey,e.name);let s=null;for(const l of t)try{const t=await l._get(o);if(t){let n;if("string"===typeof t){const r=await sE(e,{idToken:t}).catch((()=>{}));if(!r)break;n=await vE._fromGetAccountInfoResponse(e,r,t)}else n=vE._fromJSON(e,t);l!==i&&(s=n),i=l;break}}catch(hD){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(hD){}}))),new kE(i,e,n)):new kE(i,e,n)}}function TE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(AE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(IE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(NE(t))return"Blackberry";if(RE(t))return"Webos";if(CE(t))return"Safari";if((t.includes("chrome/")||_E(t))&&!t.includes("edge/"))return"Chrome";if(PE(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function IE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rl();return/firefox\//i.test(e)}function CE(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rl()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _E(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rl();return/crios\//i.test(e)}function AE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rl();return/iemobile/i.test(e)}function PE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rl();return/android/i.test(e)}function NE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rl();return/blackberry/i.test(e)}function RE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rl();return/webos/i.test(e)}function LE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rl();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function DE(){return function(){const e=Rl();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function OE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rl();return LE(e)||PE(e)||RE(e)||NE(e)||/windows phone/i.test(e)||AE(e)}function ME(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=TE(Rl());break;case"Worker":t=`${TE(Rl())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${uu}/${r}`}class jE{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(uD){r(uD)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(uD){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===uD||void 0===uD?void 0:uD.message})}}}class FE{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class UE{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BE(this),this.idTokenSubscription=new BE(this),this.beforeStateQueue=new jE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_b,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=bE(t)),this._initializationPromise=this.queue((async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await kE.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(uD){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await sE(this,{idToken:e}),n=await vE._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(au(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(uD){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(uD)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return jb(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(uD){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await pE(e)}catch(uD){if("auth/network-request-failed"!==(null===uD||void 0===uD?void 0:uD.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(au(this.app))return Promise.reject(Db(this));const t=e?Kl(e):null;return t&&jb(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&jb(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return au(this.app)?Promise.reject(Db(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return au(this.app)?Promise.reject(Db(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(bE(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Qb(e,"GET","/v2/passwordPolicy",Yb(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new FE(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fl("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Qb(e,"POST","/v2/accounts:revokeToken",Yb(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&bE(e)||this._popupRedirectResolver;jb(t,this,"argument-error"),this.redirectPersistenceManager=await kE.create(this,[bE(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(jb(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return jb(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ME(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(au(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Ab.logLevel<=ec.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ab.warn(`Auth (${uu}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function VE(e){return Kl(e)}class BE{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Gl(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return jb(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $E(e){return zE.loadJS(e)}function qE(e){return`__${e}${Math.floor(1e6*Math.random())}`}class GE{constructor(){this.enterprise=new HE}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class HE{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const WE="NO_RECAPTCHA";class KE{constructor(e){this.type="recaptcha-enterprise",this.auth=VE(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;rE(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(WE)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new GE).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{oE(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new iE(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&rE(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=zE.recaptchaEnterpriseScript;0!==t.length&&(t+=i),$E(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function YE(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new KE(e);let s;if(i)s=WE;else try{s=await o.verify(n)}catch(l){s=await o.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function QE(e,t,n,r,i){var o,s;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await YE(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await YE(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("PHONE_PROVIDER")){const i=await YE(e,t,n);return r(e,i).catch((async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await YE(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await YE(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function JE(e){const t=VE(e),n=await oE(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new iE(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new KE(t).verify()}}function XE(e,t,n){const r=VE(e);jb(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=ZE(t),{host:s,port:a}=function(e){const t=ZE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:eS(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:eS(t)}}}(t),l={url:`${o}//${s}${null===a?"":`:${a}`}/`},c=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return jb(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void jb(Vl(l,r.config.emulator)&&Vl(c,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ZE(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function eS(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class tS{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Fb("not implemented")}_getIdTokenResponse(e){return Fb("not implemented")}_linkToIdToken(e,t){return Fb("not implemented")}_getReauthenticationResolver(e){return Fb("not implemented")}}async function nS(e,t){return Qb(e,"POST","/v1/accounts:signUp",t)}async function rS(e,t){return Xb(e,"POST","/v1/accounts:signInWithPassword",Yb(e,t))}class iS extends tS{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new iS(e,t,"password")}static _fromEmailAndCode(e,t){return new iS(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return QE(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",rS,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Xb(e,"POST","/v1/accounts:signInWithEmailLink",Yb(e,t))}(e,{email:this._email,oobCode:this._password});default:Nb(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return QE(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nS,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Xb(e,"POST","/v1/accounts:signInWithEmailLink",Yb(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Nb(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function oS(e,t){return Xb(e,"POST","/v1/accounts:signInWithIdp",Yb(e,t))}class sS extends tS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new sS(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Nb("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Tb(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new sS(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return oS(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,oS(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,oS(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=zl(t)}return e}}async function aS(e,t){return Qb(e,"POST","/v1/accounts:sendVerificationCode",Yb(e,t))}const lS={USER_NOT_FOUND:"user-not-found"};class cS extends tS{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new cS({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new cS({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Xb(e,"POST","/v1/accounts:signInWithPhoneNumber",Yb(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Xb(e,"POST","/v1/accounts:signInWithPhoneNumber",Yb(e,t));if(n.temporaryProof)throw nE(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Xb(e,"POST","/v1/accounts:signInWithPhoneNumber",Yb(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),lS)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new cS({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class uS{constructor(e){var t,n,r,i,o,s;const a=$l(ql(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);jb(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.lang)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=$l(ql(e)).link,n=t?$l(ql(t)).deep_link_id:null,r=$l(ql(e)).deep_link_id;return(r?$l(ql(r)).link:null)||r||n||t||e}(e);try{return new uS(t)}catch(hD){return null}}}class hS{constructor(){this.providerId=hS.PROVIDER_ID}static credential(e,t){return iS._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=uS.parseLink(t);return jb(n,"argument-error"),iS._fromEmailAndCode(e,n.code,n.tenantId)}}hS.PROVIDER_ID="password",hS.EMAIL_PASSWORD_SIGN_IN_METHOD="password",hS.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class dS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class fS extends dS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class pS extends fS{constructor(){super("facebook.com")}static credential(e){return sS._fromParams({providerId:pS.PROVIDER_ID,signInMethod:pS.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pS.credentialFromTaggedObject(e)}static credentialFromError(e){return pS.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return pS.credential(t.oauthAccessToken)}catch(hD){return null}}}pS.FACEBOOK_SIGN_IN_METHOD="facebook.com",pS.PROVIDER_ID="facebook.com";class mS extends fS{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return sS._fromParams({providerId:mS.PROVIDER_ID,signInMethod:mS.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return mS.credentialFromTaggedObject(e)}static credentialFromError(e){return mS.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return mS.credential(n,r)}catch(hD){return null}}}mS.GOOGLE_SIGN_IN_METHOD="google.com",mS.PROVIDER_ID="google.com";class gS extends fS{constructor(){super("github.com")}static credential(e){return sS._fromParams({providerId:gS.PROVIDER_ID,signInMethod:gS.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gS.credentialFromTaggedObject(e)}static credentialFromError(e){return gS.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return gS.credential(t.oauthAccessToken)}catch(hD){return null}}}gS.GITHUB_SIGN_IN_METHOD="github.com",gS.PROVIDER_ID="github.com";class yS extends fS{constructor(){super("twitter.com")}static credential(e,t){return sS._fromParams({providerId:yS.PROVIDER_ID,signInMethod:yS.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return yS.credentialFromTaggedObject(e)}static credentialFromError(e){return yS.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return yS.credential(n,r)}catch(hD){return null}}}async function vS(e,t){return Xb(e,"POST","/v1/accounts:signUp",Yb(e,t))}yS.TWITTER_SIGN_IN_METHOD="twitter.com",yS.PROVIDER_ID="twitter.com";class wS{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await vE._fromIdTokenResponse(e,n,r),o=bS(n);return new wS({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=bS(n);return new wS({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function bS(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ES extends jl{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ES.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ES(e,t,n,r)}}function SS(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw ES._fromErrorAndOperation(e,n,t,r);throw n}))}async function xS(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await hE(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return wS._forOperation(e,"link",r)}async function kS(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(au(r.app))return Promise.reject(Db(r));const i="reauthenticate";try{const o=await hE(e,SS(r,i,t,e),n);jb(o.idToken,r,"internal-error");const s=cE(o.idToken);jb(s,r,"internal-error");const{sub:a}=s;return jb(e.uid===a,r,"user-mismatch"),wS._forOperation(e,i,o)}catch(uD){throw"auth/user-not-found"===(null===uD||void 0===uD?void 0:uD.code)&&Nb(r,"user-mismatch"),uD}}async function TS(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(au(e.app))return Promise.reject(Db(e));const r="signIn",i=await SS(e,r,t),o=await wS._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}function IS(e,t,n,r){return Kl(e).onAuthStateChanged(t,n,r)}function CS(e,t){return Qb(e,"POST","/v2/accounts/mfaEnrollment:start",Yb(e,t))}new WeakMap;const _S="__sak";class AS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_S,"1"),this.storage.removeItem(_S),Promise.resolve(!0)):Promise.resolve(!1)}catch(hD){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class PS extends AS{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);DE()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}PS.type="LOCAL";const NS=PS;function RS(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp(`${r}=([^;]+)`);return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function LS(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class DS{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=LS(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return RS(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=LS(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(e,t){if(!this._isAvailable())return;const n=LS(e);if(window.cookieStore){const e=e=>{const r=e.changed.find((e=>e.name===n));r&&t(r.value);e.deleted.find((e=>e.name===n))&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=RS(n);const i=setInterval((()=>{const e=RS(n);e!==r&&(t(e),r=e)}),1e3);this.listenerUnsubscribes.set(t,(()=>clearInterval(i)))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}DS.type="COOKIE";class OS extends AS{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}OS.type="SESSION";const MS=OS;class jS{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new jS(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function FS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}jS.receivers=[];class US{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=FS("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function VS(){return window}function BS(){return"undefined"!==typeof VS().WorkerGlobalScope&&"function"===typeof VS().importScripts}const zS="firebaseLocalStorageDb",$S="firebaseLocalStorage",qS="fbase_key";class GS{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function HS(e,t){return e.transaction([$S],t?"readwrite":"readonly").objectStore($S)}function WS(){const e=indexedDB.open(zS,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore($S,{keyPath:qS})}catch(uD){n(uD)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains($S)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(zS);return new GS(e).toPromise()}(),t(await WS()))}))}))}async function KS(e,t,n){const r=HS(e,!0).put({[qS]:t,value:n});return new GS(r).toPromise()}function YS(e,t){const n=HS(e,!0).delete(t);return new GS(n).toPromise()}class QS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await WS()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(uD){if(t++>3)throw uD;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jS._getInstance(BS()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new US(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(hD){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await WS();return await KS(e,_S,"1"),await YS(e,_S),!0}catch(hD){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>KS(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=HS(e,!1).get(t),r=await new GS(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>YS(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=HS(e,!1).getAll();return new GS(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}QS.type="LOCAL";const JS=QS;function XS(e,t){return Qb(e,"POST","/v2/accounts/mfaSignIn:start",Yb(e,t))}qE("rcb"),new $b(3e4,6e4);const ZS="recaptcha";async function ex(e,t,n){var r;if(!e._getRecaptchaConfig())try{await JE(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){jb("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=QE(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===WE){jb((null===n||void 0===n?void 0:n.type)===ZS,e,"argument-error");return CS(e,await tx(e,t,n))}return CS(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{jb("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;jb(o,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=QE(e,s,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===WE){jb((null===n||void 0===n?void 0:n.type)===ZS,e,"argument-error");return XS(e,await tx(e,t,n))}return XS(e,t)}),"PHONE_PROVIDER");return(await a.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=QE(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===WE){jb((null===n||void 0===n?void 0:n.type)===ZS,e,"argument-error");return aS(e,await tx(e,t,n))}return aS(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function tx(e,t,n){jb(n.type===ZS,e,"argument-error");const r=await n.verify();jb("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class nx{constructor(e){this.providerId=nx.PROVIDER_ID,this.auth=VE(e)}verifyPhoneNumber(e,t){return ex(this.auth,e,Kl(t))}static credential(e,t){return cS._fromVerification(e,t)}static credentialFromResult(e){const t=e;return nx.credentialFromTaggedObject(t)}static credentialFromError(e){return nx.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?cS._fromTokenResponse(n,r):null}}function rx(e,t){return t?bE(t):(jb(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}nx.PROVIDER_ID="phone",nx.PHONE_SIGN_IN_METHOD="phone";class ix extends tS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oS(e,this._buildIdpRequest())}_linkToIdToken(e,t){return oS(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return oS(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ox(e){return TS(e.auth,new ix(e),e.bypassAuthState)}function sx(e){const{auth:t,user:n}=e;return jb(n,t,"internal-error"),kS(n,new ix(e),e.bypassAuthState)}async function ax(e){const{auth:t,user:n}=e;return jb(n,t,"internal-error"),xS(n,new ix(e),e.bypassAuthState)}class lx{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(uD){this.reject(uD)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(uD){this.reject(uD)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ox;case"linkViaPopup":case"linkViaRedirect":return ax;case"reauthViaPopup":case"reauthViaRedirect":return sx;default:Nb(this.auth,"internal-error")}}resolve(e){Ub(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ub(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cx=new $b(2e3,1e4);class ux extends lx{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ux.currentPopupAction&&ux.currentPopupAction.cancel(),ux.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return jb(e,this.auth,"internal-error"),e}async onExecution(){Ub(1===this.filter.length,"Popup operations only handle one event");const e=FS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Rb(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Rb(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ux.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Rb(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,cx.get())};e()}}ux.currentPopupAction=null;const hx=new Map;class dx extends lx{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=hx.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=mx(t),r=px(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(uD){e=()=>Promise.reject(uD)}hx.set(this.auth._key(),e)}return this.bypassAuthState||hx.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function fx(e,t){hx.set(e._key(),t)}function px(e){return bE(e._redirectPersistence)}function mx(e){return xE("pendingRedirect",e.config.apiKey,e.name)}async function gx(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(au(e.app))return Promise.reject(Db(e));const r=VE(e),i=rx(r,t),o=new dx(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class yx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wx(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!wx(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Rb(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vx(e))}saveEventToCache(e){this.cachedEventUids.add(vx(e)),this.lastProcessedEventTime=Date.now()}}function vx(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function wx(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const bx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ex=/^https?/;async function Sx(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Qb(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(xx(n))return}catch(hD){}Nb(e,"unauthorized-domain")}function xx(e){const t=Vb(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Ex.test(n))return!1;if(bx.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const kx=new $b(3e4,6e4);function Tx(){const e=VS().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Ix(e){return new Promise(((t,n)=>{var r,i,o;function s(){Tx(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Tx(),n(Rb(e,"network-request-failed"))},timeout:kx.get()})}if(null===(i=null===(r=VS().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=VS().gapi)||void 0===o?void 0:o.load)){const t=qE("iframefcb");return VS()[t]=()=>{gapi.load?s():n(Rb(e,"network-request-failed"))},$E(`${zE.gapiScript}?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw Cx=null,e}))}let Cx=null;const _x=new $b(5e3,15e3),Ax={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Px=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nx(e){const t=e.config;jb(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?qb(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:uu},i=Px.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${zl(r).slice(1)}`}async function Rx(e){const t=await function(e){return Cx=Cx||Ix(e),Cx}(e),n=VS().gapi;return jb(n,e,"internal-error"),t.open({where:document.body,url:Nx(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ax,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Rb(e,"network-request-failed"),o=VS().setTimeout((()=>{r(i)}),_x.get());function s(){VS().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const Lx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Dx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(uD){}}}function Ox(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Lx),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Rl().toLowerCase();n&&(a=_E(c)?"_blank":n),IE(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return LE(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rl())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Dx(null);const h=window.open(t||"",a,u);jb(h,e,"popup-blocked");try{h.focus()}catch(uD){}return new Dx(h)}const Mx="__/auth/handler",jx="emulator/auth/handler",Fx=encodeURIComponent("fac");async function Ux(e,t,n,r,i,o){jb(e.config.authDomain,e,"auth-domain-config-required"),jb(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:uu,eventId:i};if(t instanceof dS){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof fS){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${Fx}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Mx}`;return qb(t,jx)}(e)}?${zl(a).slice(1)}${c}`}const Vx="webStorageSupport";const Bx=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MS,this._completeRedirectFn=gx,this._overrideRedirectResult=fx}async _openPopup(e,t,n,r){var i;Ub(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ox(e,await Ux(e,t,n,Vb(),r),FS())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){VS().location.href=e}(await Ux(e,t,n,Vb(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Ub(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Rx(e),n=new yx(e);return t.register("authEvent",(t=>{jb(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Vx,{type:Vx},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Vx];void 0!==i&&t(!!i),Nb(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Sx(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return OE()||CE()||LE()}};var zx="@firebase/auth",$x="1.10.1";class qx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){jb(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Gx=Pl("authIdTokenMaxAge")||300;let Hx=null;var Wx;zE={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Rb("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Wx="Browser",ou(new Yl("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;jb(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:Wx,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ME(Wx)},c=new UE(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(bE);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),ou(new Yl("auth-internal",(e=>(e=>new qx(e))(VE(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),fu(zx,$x,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Wx)),fu(zx,$x,"esm2017");const Kx="@firebase/installations",Yx="0.6.13",Qx=1e4,Jx=`w:${Yx}`,Xx="FIS_v2",Zx=36e5,ek=new Fl("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function tk(e){return e instanceof jl&&e.code.includes("request-failed")}function nk(e){let{projectId:t}=e;return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function rk(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function ik(e,t){const n=(await t.json()).error;return ek.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function ok(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function sk(e,t){let{refreshToken:n}=t;const r=ok(e);return r.append("Authorization",function(e){return`${Xx} ${e}`}(n)),r}async function ak(e){const t=await e();return t.status>=500&&t.status<600?e():t}function lk(e){return new Promise((t=>{setTimeout(t,e)}))}const ck=/^[cdef][\w-]{21}$/;function uk(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return ck.test(t)?t:""}catch(hD){return""}}function hk(e){return`${e.appName}!${e.appId}`}const dk=new Map;function fk(e,t){const n=hk(e);pk(n,t),function(e,t){const n=gk();n&&n.postMessage({key:e,fid:t});yk()}(n,t)}function pk(e,t){const n=dk.get(e);if(n)for(const r of n)r(t)}let mk=null;function gk(){return!mk&&"BroadcastChannel"in self&&(mk=new BroadcastChannel("[Firebase] FID Change"),mk.onmessage=e=>{pk(e.data.key,e.data.fid)}),mk}function yk(){0===dk.size&&mk&&(mk.close(),mk=null)}const vk="firebase-installations-store";let wk=null;function bk(){return wk||(wk=vc("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(vk)}})),wk}async function Ek(e,t){const n=hk(e),r=(await bk()).transaction(vk,"readwrite"),i=r.objectStore(vk),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||fk(e,t.fid),t}async function Sk(e){const t=hk(e),n=(await bk()).transaction(vk,"readwrite");await n.objectStore(vk).delete(t),await n.done}async function xk(e,t){const n=hk(e),r=(await bk()).transaction(vk,"readwrite"),i=r.objectStore(vk),o=await i.get(n),s=t(o);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,!s||o&&o.fid===s.fid||fk(e,s.fid),s}async function kk(e){let t;const n=await xk(e.appConfig,(n=>{const r=function(e){const t=e||{fid:uk(),registrationStatus:0};return Ck(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(ek.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const o=nk(n),s=ok(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const l={fid:i,authVersion:Xx,appId:n.appId,sdkVersion:Jx},c={method:"POST",headers:s,body:JSON.stringify(l)},u=await ak((()=>fetch(o,c)));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:rk(e.authToken)}}throw await ik("Create Installation",u)}(e,t);return Ek(e.appConfig,n)}catch(uD){throw tk(uD)&&409===uD.customData.serverCode?await Sk(e.appConfig):await Ek(e.appConfig,{fid:t.fid,registrationStatus:0}),uD}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Tk(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Tk(e){let t=await Ik(e.appConfig);for(;1===t.registrationStatus;)await lk(100),t=await Ik(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await kk(e);return n||t}return t}function Ik(e){return xk(e,(e=>{if(!e)throw ek.create("installation-not-found");return Ck(e)}))}function Ck(e){return 1===(t=e).registrationStatus&&t.registrationTime+Qx<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function _k(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return`${nk(e)}/${n}/authTokens:generate`}(n,t),o=sk(n,t),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const a={installation:{sdkVersion:Jx,appId:n.appId}},l={method:"POST",headers:o,body:JSON.stringify(a)},c=await ak((()=>fetch(i,l)));if(c.ok){return rk(await c.json())}throw await ik("Generate Auth Token",c)}async function Ak(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await xk(e.appConfig,(r=>{if(!Nk(r))throw ek.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Zx}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await Pk(e.appConfig);for(;1===n.authToken.requestStatus;)await lk(100),n=await Pk(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Ak(e,t):r}(e,n),r;{if(!navigator.onLine)throw ek.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await _k(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Ek(e.appConfig,r),n}catch(uD){if(!tk(uD)||401!==uD.customData.serverCode&&404!==uD.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Ek(e.appConfig,n)}else await Sk(e.appConfig);throw uD}}(e,n),n}}));return t?await t:r.authToken}function Pk(e){return xk(e,(e=>{if(!Nk(e))throw ek.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Qx<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function Nk(e){return void 0!==e&&2===e.registrationStatus}async function Rk(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await kk(e);t&&await t}(n);return(await Ak(n,t)).token}function Lk(e){return ek.create("missing-app-config-values",{valueName:e})}const Dk="installations",Ok=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Lk("App Configuration");if(!e.name)throw Lk("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Lk(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:su(t,"heartbeat"),_delete:()=>Promise.resolve()}},Mk=e=>{const t=su(e.getProvider("app").getImmediate(),Dk).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await kk(t);return r?r.catch(console.error):Ak(t).catch(console.error),n.fid}(t),getToken:e=>Rk(t,e)}};ou(new Yl(Dk,Ok,"PUBLIC")),ou(new Yl("installations-internal",Mk,"PRIVATE")),fu(Kx,Yx),fu(Kx,Yx,"esm2017");const jk="analytics",Fk="https://www.googletagmanager.com/gtag/js",Uk=new oc("@firebase/analytics"),Vk=new Fl("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Bk(e){if(!e.startsWith(Fk)){const t=Vk.create("invalid-gtag-resource",{gtagURL:e});return Uk.warn(t.message),""}return e}function zk(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function $k(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Bk}),r=document.createElement("script"),i=`${Fk}?l=${e}&id=${t}`;r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function qk(e,t,n,r){return async function(i){try{for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];if("event"===i){const[r,i]=s;await async function(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await zk(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(uD){Uk.error(uD)}}(e,t,n,r,i)}else if("config"===i){const[i,o]=s;await async function(e,t,n,r,i,o){const s=r[i];try{if(s)await t[s];else{const e=(await zk(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(uD){Uk.error(uD)}e("config",i,o)}(e,t,n,r,i,o)}else if("consent"===i){const[t,n]=s;e("consent",t,n)}else if("get"===i){const[t,n,r]=s;e("get",t,n,r)}else if("set"===i){const[t]=s;e("set",t)}else e(i,...s)}catch(uD){Uk.error(uD)}}}const Gk=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Hk(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Wk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gk,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw Vk.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Vk.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Yk;return setTimeout((async()=>{a.abort()}),void 0!==n?n:6e4),Kk({appId:r,apiKey:i,measurementId:o},s,a,t)}async function Kk(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Gk;var s;const{appId:a,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(o),r(Vk.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(uD){if(l)return Uk.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===uD||void 0===uD?void 0:uD.message}]`),{appId:a,measurementId:l};throw uD}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:Hk(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),s=await fetch(o,i);if(200!==s.status&&304!==s.status){let e="";try{const n=await s.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw Vk.create("config-fetch-failed",{httpStatus:s.status,responseMessage:e})}return s.json()}(e);return o.deleteThrottleMetadata(a),t}catch(uD){const r=uD;if(!function(e){if(!(e instanceof jl)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(o.deleteThrottleMetadata(a),l)return Uk.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===r||void 0===r?void 0:r.message}]`),{appId:a,measurementId:l};throw uD}const c=503===Number(null===(s=null===r||void 0===r?void 0:r.customData)||void 0===s?void 0:s.httpStatus)?Wl(i,o.intervalMillis,30):Wl(i,o.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return o.setThrottleMetadata(a,u),Uk.debug(`Calling attemptFetch again in ${c} millis`),Kk(e,u,n,o)}}class Yk{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let Qk,Jk;function Xk(e){Jk=e}function Zk(e){Qk=e}async function eT(e,t,n,r,i,o,s){var a;const l=Wk(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Uk.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>Uk.error(e))),t.push(l);const c=async function(){if(!Ol())return Uk.warn(Vk.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Ml()}catch(uD){return Uk.warn(Vk.create("indexeddb-unavailable",{errorInfo:null===uD||void 0===uD?void 0:uD.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,h]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Fk)&&n.src.includes(e))return n;return null})(o)||$k(o,u.measurementId),Jk&&(i("consent","default",Jk),Xk(void 0)),i("js",new Date);const d=null!==(a=null===s||void 0===s?void 0:s.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),i("config",u.measurementId,d),Qk&&(i("set",Qk),Zk(void 0)),u.measurementId}class tT{constructor(e){this.app=e}_delete(){return delete nT[this.app.options.appId],Promise.resolve()}}let nT={},rT=[];const iT={};let oT,sT,aT="dataLayer",lT="gtag",cT=!1;function uT(){const e=[];if(Ll()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=Vk.create("invalid-analytics-context",{errorInfo:t});Uk.warn(n.message)}}function hT(e,t,n){uT();const r=e.options.appId;if(!r)throw Vk.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Vk.create("no-api-key");Uk.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=nT[r])throw Vk.create("already-exists",{id:r});if(!cT){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(aT);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=qk(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(nT,rT,iT,aT,lT);sT=e,oT=t,cT=!0}nT[r]=eT(e,rT,iT,t,oT,aT,n);return new tT(e)}function dT(e,t,n,r){e=Kl(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(sT,nT[e.app.options.appId],t,n,r).catch((e=>Uk.error(e)))}const fT="@firebase/analytics",pT="0.10.12";ou(new Yl(jk,((e,t)=>{let{options:n}=t;return hT(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),ou(new Yl("analytics-internal",(function(e){try{const t=e.getProvider(jk).getImmediate();return{logEvent:(e,n,r)=>dT(t,e,n,r)}}catch(uD){throw Vk.create("interop-component-reg-failed",{reason:uD})}}),"PRIVATE")),fu(fT,pT),fu(fT,pT,"esm2017");const mT={apiKey:"AIzaSyD92YfQLNuid_T2mIau9uMReNeuCvuWkyc",authDomain:"energia-efaa2.firebaseapp.com",projectId:"energia-efaa2",storageBucket:"energia-efaa2.firebasestorage.app",messagingSenderId:"1043488006178",appId:"1:1043488006178:web:b14ad4ca372d3ba0d4aa7b",measurementId:"G-J6B1M7HR0M"};console.log("Current domain:",window.location.hostname),console.log("Current URL:",window.location.href);const gT=["energiaa-frontend-epvyx237va-uc.a.run.app","energiaa-frontend-1043488006178.us-central1.run.app","energia-efaa2.firebaseapp.com"];"localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname&&"energia-efaa2.firebaseapp.com"!==window.location.hostname?(console.log("Deployed environment detected, ensuring correct authDomain is used"),console.log("Using Firebase authDomain:",mT.authDomain),window.ENERGIAA_DEPLOYED=!0):window.ENERGIAA_DEPLOYED=!1,console.log("Initializing Firebase App...");const yT=hu(mT);console.log("Initializing Firestore...");const vT=function(e,t){const n="object"==typeof e?e:du(),r="string"==typeof e?e:t||Vd,i=su(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=_l(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&lw(i,...e)}return i}(yT);console.log("Initializing Auth...");const wT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:du();const t=su(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=su(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Vl(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Nb(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Bx,persistence:[JS,NS,MS]}),r=Pl("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Gx)return;const r=null===t||void 0===t?void 0:t.token;Hx!==r&&(Hx=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Kl(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Kl(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const o=_l("auth");return o&&XE(n,`http://${o}`),n}(yT);let bT;console.log("Initializing Analytics...");try{bT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:du();e=Kl(e);const t=su(e,jk);return t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=su(e,jk);if(n.isInitialized()){const e=n.getImmediate();if(Vl(t,n.getOptions()))return e;throw Vk.create("already-initialized")}return n.initialize({options:t})}(e)}(yT),console.log("Analytics initialized successfully")}catch(uD){console.warn("Analytics not initialized (might be localhost environment):",uD)}const ET=async e=>{if(e)try{console.log("Attempting to save user to Firestore:",e.uid);const n=fw(vT,"users",e.uid);let r="";r=e.displayName?e.displayName:e.email?e.email.split("@")[0]:e.isAnonymous?`Guest-${e.uid.substring(0,6)}`:`User-${e.uid.substring(0,6)}`;const i=(new Date).toISOString(),o={uid:e.uid,email:e.email||null,displayName:e.displayName||(e.isAnonymous?"Guest User":"User"),username:r,photoURL:e.photoURL||null,lastLogin:xb(),lastUpdated:i,isAnonymous:e.isAnonymous||!1,provider:e.providerData&&e.providerData.length>0?e.providerData[0].providerId:"anonymous",providerData:e.providerData&&e.providerData.length>0?e.providerData.map((e=>({providerId:e.providerId,uid:e.uid,displayName:e.displayName,email:e.email,phoneNumber:e.phoneNumber,photoURL:e.photoURL}))):[]};console.log("User data to save:",o);try{return console.log("Forcing update to Firestore..."),await vb(n,{...o,updatedAt:xb(),createdAt:xb()},{merge:!0}),console.log("User data saved to Firestore successfully"),!0}catch(t){if(console.error("Error during setDoc operation:",t),"permission-denied"===t.code){console.log("Permission denied. Trying to save to public collection instead...");const t=fw(vT,"public",e.uid);return await vb(t,{...o,updatedAt:xb(),createdAt:xb()},{merge:!0}),console.log("User data saved to public collection successfully"),!0}throw t}}catch(n){return console.error("Error saving user to Firestore:",n),n.code&&console.error("Error code:",n.code),n.message&&console.error("Error message:",n.message),n.stack&&console.error("Error stack:",n.stack),!1}else console.error("Cannot save user to Firestore: No user provided")};IS(wT,(async e=>{if(e){console.log("Auth State Changed - User ID:",e.uid),console.log("User details:",{displayName:e.displayName,email:e.email,isAnonymous:e.isAnonymous,providerId:e.providerId,providerData:e.providerData});try{console.log("Waiting briefly before saving user data..."),await new Promise((e=>setTimeout(e,500)));await ET(e)?console.log("User data saved to Firestore from auth state change handler"):console.warn("Failed to save user data to Firestore, but continuing with authentication")}catch(t){console.error("Error in auth state change handler:",t),console.error("Error details:",{code:t.code,message:t.message,stack:t.stack}),console.warn("Continuing with authentication despite Firestore error")}}else console.warn("Auth State Changed - No user")}));const ST=async()=>{try{console.log("Attempting to sign in with Google...");const r=new mS;r.addScope("https://www.googleapis.com/auth/userinfo.email"),r.addScope("https://www.googleapis.com/auth/userinfo.profile"),r.addScope("https://www.googleapis.com/auth/photoslibrary.readonly"),r.setCustomParameters({access_type:"offline",prompt:"consent select_account",hosted_domain:"energia-efaa2.firebaseapp.com"}),console.log("Auth attempt details:",{domain:window.location.hostname,authDomain:mT.authDomain,provider:"Google"}),console.log("Opening Google sign-in popup...");const i=await async function(e,t,n){if(au(e.app))return Promise.reject(Rb(e,"operation-not-supported-in-this-environment"));const r=VE(e);Ob(e,t,dS);const i=rx(r,n);return new ux(r,"signInViaPopup",t,i).executeNotNull()}(wT,r);console.log("Signed in with Google successfully:",i.user.uid),console.log("Google user details:",{displayName:i.user.displayName,email:i.user.email,photoURL:i.user.photoURL,providerData:i.user.providerData}),console.log("Waiting briefly before saving Google user data..."),await new Promise((e=>setTimeout(e,500)));if(await ET(i.user))console.log("Google user data saved to Firestore successfully");else{console.warn("Failed to save Google user data to Firestore, but continuing with authentication"),console.log("Attempting to save Google user data to public collection...");try{const e=fw(vT,"public",i.user.uid);await vb(e,{uid:i.user.uid,email:i.user.email||null,displayName:i.user.displayName||"Google User",username:i.user.displayName||(i.user.email?i.user.email.split("@")[0]:`User-${i.user.uid.substring(0,6)}`),photoURL:i.user.photoURL||null,lastLogin:xb(),isAnonymous:!1,provider:"google.com",createdAt:xb(),updatedAt:xb()}),console.log("Google user data saved to public collection successfully")}catch(e){console.error("Failed to save Google user data to public collection:",e)}}try{const e=mS.credentialFromResult(i);if(console.log("Credential obtained:",e?"Yes":"No"),e&&e.accessToken){localStorage.setItem("googleAccessToken",e.accessToken),console.log("Google access token stored for Photos API access");try{const t=await fetch("https://photoslibrary.googleapis.com/v1/albums",{headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"}});t.ok?console.log("Google Photos API test request successful"):(console.warn("Google Photos API test request failed:",t.status,t.statusText),401!==t.status&&403!==t.status||(localStorage.removeItem("googleAccessToken"),console.warn("Cleared invalid access token")))}catch(t){console.warn("Error testing Google Photos API access:",t)}}else console.warn("No access token in credential")}catch(n){console.warn("Could not store Google access token:",n)}return i.user}catch(r){throw console.error("Error signing in with Google:",r),"auth/popup-closed-by-user"===r.code?console.log("Sign-in popup was closed by the user"):"auth/popup-blocked"===r.code?console.warn("Sign-in popup was blocked. Please allow popups for this site."):"auth/cancelled-popup-request"===r.code?console.log("Previous sign-in popup request was cancelled"):"auth/unauthorized-domain"===r.code?(console.error("This domain is not authorized for OAuth operations:",window.location.hostname),console.error("Please add this domain to the authorized domains list in the Firebase console."),console.error("Go to Firebase Console > Authentication > Settings > Authorized domains"),console.error("Current authorized domains should include:",gT)):"auth/internal-error"===r.code&&console.error("Internal authentication error:",r.message),r}},xT=async()=>wT.currentUser?(console.log("User is already authenticated:",wT.currentUser.uid),wT.currentUser):(console.log("No user is authenticated"),null);var kT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},TT=o.createContext&&o.createContext(kT),IT=["attr","size","title"];function CT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _T(){return _T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_T.apply(this,arguments)}function AT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AT(Object(n),!0).forEach((function(t){NT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function NT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RT(e){return e&&e.map(((e,t)=>o.createElement(e.tag,PT({key:t},e.attr),RT(e.child))))}function LT(e){return t=>o.createElement(DT,_T({attr:PT({},e.attr)},t),RT(e.child))}function DT(e){var t=t=>{var n,{attr:r,size:i,title:s}=e,a=CT(e,IT),l=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),o.createElement("svg",_T({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:n,style:PT(PT({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&o.createElement("title",null,s),e.children)};return void 0!==TT?o.createElement(TT.Consumer,null,(e=>t(e))):t(kT)}function OT(e){return LT({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(e)}function MT(e){return LT({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function jT(e){return LT({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}function FT(e){return LT({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function UT(e){return LT({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(e)}function VT(e){return LT({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function BT(e){return LT({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function zT(e){return LT({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function $T(e){return LT({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function qT(e){return LT({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"},child:[]}]})(e)}function GT(e){return LT({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"},child:[]}]})(e)}function HT(e){return LT({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(e)}function WT(e){return LT({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function KT(e){return LT({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(e)}function YT(e){return LT({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function QT(e){return LT({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"},child:[]},{tag:"path",attr:{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"},child:[]},{tag:"line",attr:{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"},child:[]}]})(e)}function JT(e){return LT({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"3",y1:"9",x2:"21",y2:"9"},child:[]},{tag:"line",attr:{x1:"9",y1:"21",x2:"9",y2:"9"},child:[]}]})(e)}function XT(e){return LT({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(e)}function ZT(e){return LT({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function eI(e){return LT({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function tI(e){return LT({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function nI(e){return LT({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M8 14s1.5 2 4 2 4-2 4-2"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"9.01",y2:"9"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"15.01",y2:"9"},child:[]}]})(e)}function rI(e){return LT({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(e)}function iI(e){return LT({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"},child:[]}]})(e)}function oI(e){return LT({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}const sI=e=>{let{isAuthenticated:t,userId:n}=e;const r=te();return(0,Lo.jsxs)(bl.header,{className:"energiaa-header",initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:120,damping:20},children:[(0,Lo.jsx)(Pe,{to:"/",className:"energiaa-logo-container",children:(0,Lo.jsx)("div",{className:"energiaa-title",children:"Energiaa"})}),(0,Lo.jsxs)("div",{className:"energiaa-nav",children:[(0,Lo.jsxs)(Pe,{to:"/",className:"nav-link "+("/"===r.pathname?"active":""),children:[(0,Lo.jsx)(WT,{className:"nav-icon"}),(0,Lo.jsx)("span",{children:"Home"})]}),(0,Lo.jsxs)(Pe,{to:"/features",className:"nav-link "+("/features"===r.pathname?"active":""),children:[(0,Lo.jsx)(JT,{className:"nav-icon"}),(0,Lo.jsx)("span",{children:"Features"})]}),(0,Lo.jsxs)(Pe,{to:"/about",className:"nav-link "+("/about"===r.pathname?"active":""),children:[(0,Lo.jsx)(YT,{className:"nav-icon"}),(0,Lo.jsx)("span",{children:"About"})]}),t&&"demo-user"!==n?(0,Lo.jsxs)("div",{className:"auth-container",children:[(0,Lo.jsxs)("span",{className:"user-greeting",children:["Hello, ",n.substring(0,6),"..."]}),(0,Lo.jsxs)("button",{onClick:async()=>{try{await function(e){return Kl(e).signOut()}(wT),console.log("Signed out successfully"),window.location.href="/"}catch(e){console.error("Error signing out:",e)}},className:"sign-out-btn",children:[(0,Lo.jsx)(ZT,{className:"nav-icon"}),(0,Lo.jsx)("span",{children:"Sign Out"})]})]}):(0,Lo.jsxs)(Pe,{to:"/signin",className:"nav-link sign-in-btn "+("/signin"===r.pathname?"active":""),children:[(0,Lo.jsx)(XT,{className:"nav-icon"}),(0,Lo.jsx)("span",{children:"Sign In"})]})]})]})},aI=()=>(0,Lo.jsxs)("footer",{className:"energiaa-footer",children:[(0,Lo.jsxs)("div",{className:"footer-container",children:[(0,Lo.jsxs)("div",{className:"footer-section",children:[(0,Lo.jsx)("h3",{className:"footer-title",children:"Energiaa"}),(0,Lo.jsx)("p",{className:"footer-description",children:"AI-powered meditation guidance based on your personal photos. Discover emotional insights and personalized meditation techniques."})]}),(0,Lo.jsxs)("div",{className:"footer-section",children:[(0,Lo.jsx)("h4",{className:"footer-subtitle",children:"Quick Links"}),(0,Lo.jsxs)("ul",{className:"footer-links",children:[(0,Lo.jsx)("li",{children:(0,Lo.jsx)(Pe,{to:"/",children:"Home"})}),(0,Lo.jsx)("li",{children:(0,Lo.jsx)(Pe,{to:"/meditate",children:"Meditate"})}),(0,Lo.jsx)("li",{children:(0,Lo.jsx)(Pe,{to:"/features",children:"Features"})}),(0,Lo.jsx)("li",{children:(0,Lo.jsx)(Pe,{to:"/about",children:"About"})}),(0,Lo.jsx)("li",{children:(0,Lo.jsx)(Pe,{to:"/signin",children:"Sign In"})})]})]}),(0,Lo.jsxs)("div",{className:"footer-section",children:[(0,Lo.jsx)("h4",{className:"footer-subtitle",children:"Connect"}),(0,Lo.jsxs)("div",{className:"social-links",children:[(0,Lo.jsx)("a",{href:"#",className:"social-link",children:(0,Lo.jsx)(GT,{})}),(0,Lo.jsx)("a",{href:"#",className:"social-link",children:(0,Lo.jsx)(iI,{})}),(0,Lo.jsx)("a",{href:"#",className:"social-link",children:(0,Lo.jsx)(QT,{})}),(0,Lo.jsx)("a",{href:"#",className:"social-link",children:(0,Lo.jsx)(eI,{})})]})]})]}),(0,Lo.jsx)("div",{className:"footer-bottom",children:(0,Lo.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," Energiaa. Made with ",(0,Lo.jsx)(HT,{className:"heart-icon"})," using React, Firebase & AI."]})})]}),lI=e=>{let{backgroundImage:t}=e;const n=[{id:"emotion",title:"Emotion Analysis",icon:(0,Lo.jsx)(nI,{}),color:"#4285F4",description:null},{id:"guidance",title:"Personalized Guidance",icon:(0,Lo.jsx)(HT,{}),color:"#4285F4",description:null},{id:"color",title:"Color Energy",icon:(0,Lo.jsx)(rI,{}),color:"#4285F4",description:null}];return(0,Lo.jsxs)("div",{className:"feature-cards-container",children:[t&&(0,Lo.jsx)("div",{className:"feature-cards-background",children:(0,Lo.jsx)("img",{src:t,alt:"Person in yoga pose",className:"feature-bg-image"})}),(0,Lo.jsx)("div",{className:"feature-cards-grid",children:n.map(((e,t)=>(0,Lo.jsxs)(bl.div,{className:"feature-card-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2*t,ease:"easeOut"},whileHover:{y:-10,boxShadow:"0 15px 30px rgba(0, 0, 0, 0.1)"},children:[(0,Lo.jsx)("div",{className:"feature-card-icon",style:{color:e.color},children:e.icon}),(0,Lo.jsx)("h3",{className:"feature-card-title",children:e.title}),e.description&&(0,Lo.jsx)("p",{className:"feature-card-description",children:e.description})]},e.id)))})]})},cI=()=>(0,Lo.jsxs)("div",{className:"home-page",children:[(0,Lo.jsxs)("section",{className:"hero-section",children:[(0,Lo.jsxs)("div",{className:"hero-content",children:[(0,Lo.jsxs)(bl.h1,{className:"hero-title",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:["Discover Your ",(0,Lo.jsx)("span",{className:"highlight",children:"Inner Peace"})," Through AI-Powered Meditation"]}),(0,Lo.jsx)(bl.p,{className:"hero-subtitle",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:"Upload your photos and let our AI analyze emotions, colors, and visual elements to create personalized meditation guidance just for you."}),(0,Lo.jsxs)(bl.div,{className:"hero-buttons",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[(0,Lo.jsxs)(Pe,{to:"/meditate",className:"primary-button",children:["Start Meditating ",(0,Lo.jsx)(jT,{className:"btn-icon"})]}),(0,Lo.jsx)(Pe,{to:"/about",className:"secondary-button",children:"Learn More"})]})]}),(0,Lo.jsx)(bl.div,{className:"hero-image",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.3},children:(0,Lo.jsx)("div",{className:"hero-image-container",children:(0,Lo.jsx)(lI,{backgroundImage:"https://images.unsplash.com/photo-1545389336-cf090694435e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80"})})})]}),(0,Lo.jsxs)("section",{className:"features-section",children:[(0,Lo.jsx)("h2",{className:"section-title",children:"How Energiaa Works"}),(0,Lo.jsxs)("div",{className:"features-grid",children:[(0,Lo.jsxs)(bl.div,{className:"feature-card",whileHover:{y:-10,boxShadow:"0 20px 40px rgba(0, 0, 0, 0.1)"},children:[(0,Lo.jsx)("div",{className:"feature-image",children:(0,Lo.jsx)("img",{src:"https://images.unsplash.com/photo-1593811167562-9cef47bfc4d7?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",alt:"Person in yoga pose"})}),(0,Lo.jsx)("div",{className:"feature-icon",children:(0,Lo.jsx)(UT,{})}),(0,Lo.jsx)("h3",{className:"feature-title",children:"Upload Your Photo"}),(0,Lo.jsx)("p",{className:"feature-description",children:"Share a moment from your life - a landscape, a selfie, or any image that resonates with you."})]}),(0,Lo.jsxs)(bl.div,{className:"feature-card",whileHover:{y:-10,boxShadow:"0 20px 40px rgba(0, 0, 0, 0.1)"},children:[(0,Lo.jsx)("div",{className:"feature-image",children:(0,Lo.jsx)("img",{src:"https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",alt:"Person meditating in lotus position"})}),(0,Lo.jsx)("div",{className:"feature-icon",children:(0,Lo.jsx)(nI,{})}),(0,Lo.jsx)("h3",{className:"feature-title",children:"AI Analysis"}),(0,Lo.jsx)("p",{className:"feature-description",children:"Our AI analyzes emotions, colors, and visual elements in your photo to understand your energy."})]}),(0,Lo.jsxs)(bl.div,{className:"feature-card",whileHover:{y:-10,boxShadow:"0 20px 40px rgba(0, 0, 0, 0.1)"},children:[(0,Lo.jsx)("div",{className:"feature-image",children:(0,Lo.jsx)("img",{src:"https://images.unsplash.com/photo-1575052814086-f385e2e2ad1b?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",alt:"Person in yoga pose"})}),(0,Lo.jsx)("div",{className:"feature-icon",children:(0,Lo.jsx)(HT,{})}),(0,Lo.jsx)("h3",{className:"feature-title",children:"Personalized Meditation"}),(0,Lo.jsx)("p",{className:"feature-description",children:"Receive a custom meditation guidance tailored to your emotional state and the energy of your image."})]})]})]}),(0,Lo.jsx)("section",{className:"cta-section",style:{backgroundImage:'linear-gradient(rgba(59, 130, 246, 0.85), rgba(30, 64, 175, 0.85)), url("https://images.unsplash.com/photo-1506126613408-eca07ce68773?ixlib=rb-1.2.1&auto=format&fit=crop&w=1500&q=80")',backgroundSize:"cover",backgroundPosition:"center"},children:(0,Lo.jsxs)("div",{className:"cta-content",children:[(0,Lo.jsx)("h2",{className:"cta-title",children:"Ready to Begin Your Journey?"}),(0,Lo.jsx)("p",{className:"cta-description",children:"Start your meditation practice today with personalized guidance based on your photos."}),(0,Lo.jsxs)(Pe,{to:"/meditate",className:"cta-button",children:["Start Now ",(0,Lo.jsx)(jT,{className:"btn-icon"})]})]})})]}),uI=n.p+"static/media/yeshvanth.7e691ccec6e5c8f44a65.png",hI=n.p+"static/media/sushrutha.8b10154ef2df47fd44db.png",dI=n.p+"static/media/jashwanth.1a5f7b68cc2a6e181db1.png",fI=n.p+"static/media/Achyuth.d4bad1b98019d68c546e.png",pI=()=>(0,Lo.jsxs)("div",{className:"about-page",children:[(0,Lo.jsxs)("section",{className:"about-hero-section",children:[(0,Lo.jsxs)(bl.h1,{className:"about-title",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:["About ",(0,Lo.jsx)("span",{className:"highlight",children:"Energiaa"})]}),(0,Lo.jsx)(bl.p,{className:"about-subtitle",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:"Discover the story behind our AI-powered meditation platform"})]}),(0,Lo.jsxs)("section",{className:"mission-section",children:[(0,Lo.jsxs)("div",{className:"mission-content",children:[(0,Lo.jsx)("h2",{className:"section-title",children:"Our Mission"}),(0,Lo.jsx)("p",{className:"mission-text",children:"At Energiaa, we believe that everyone deserves access to personalized meditation guidance that resonates with their unique emotional state and life experiences. Our mission is to bridge the gap between technology and mindfulness, using artificial intelligence to create deeply personal meditation experiences."}),(0,Lo.jsx)("p",{className:"mission-text",children:"By analyzing the emotions, colors, and visual elements in your photos, we provide meditation guidance that speaks directly to your current state of being, helping you find balance, peace, and clarity in your daily life."})]}),(0,Lo.jsx)("div",{className:"mission-image",children:(0,Lo.jsx)("div",{className:"about-image-container",children:(0,Lo.jsx)("img",{src:"https://images.unsplash.com/photo-1524863479829-916d8e77f114?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:"Woman in yoga meditation pose on mountain",className:"mission-img"})})})]}),(0,Lo.jsxs)("section",{className:"technology-section",children:[(0,Lo.jsx)("h2",{className:"section-title",children:"Our Technology"}),(0,Lo.jsxs)("div",{className:"tech-grid",children:[(0,Lo.jsxs)(bl.div,{className:"tech-card",whileHover:{y:-10,boxShadow:"0 20px 40px rgba(0, 0, 0, 0.1)"},children:[(0,Lo.jsx)("div",{className:"tech-icon",children:(0,Lo.jsx)(UT,{})}),(0,Lo.jsx)("h3",{className:"tech-title",children:"Computer Vision"}),(0,Lo.jsx)("p",{className:"tech-description",children:"We use advanced computer vision algorithms to analyze the visual elements, colors, and compositions of your photos, extracting meaningful insights about the energy they contain."})]}),(0,Lo.jsxs)(bl.div,{className:"tech-card",whileHover:{y:-10,boxShadow:"0 20px 40px rgba(0, 0, 0, 0.1)"},children:[(0,Lo.jsx)("div",{className:"tech-icon",children:(0,Lo.jsx)(OT,{})}),(0,Lo.jsx)("h3",{className:"tech-title",children:"Emotion AI"}),(0,Lo.jsx)("p",{className:"tech-description",children:"Our emotion recognition technology identifies subtle emotional cues in your images, helping us understand your emotional state and tailor our guidance accordingly."})]}),(0,Lo.jsxs)(bl.div,{className:"tech-card",whileHover:{y:-10,boxShadow:"0 20px 40px rgba(0, 0, 0, 0.1)"},children:[(0,Lo.jsx)("div",{className:"tech-icon",children:(0,Lo.jsx)(qT,{})}),(0,Lo.jsx)("h3",{className:"tech-title",children:"Generative AI"}),(0,Lo.jsx)("p",{className:"tech-description",children:"We leverage state-of-the-art generative AI to create personalized meditation guidance that responds to your unique emotional profile and the energy of your images."})]})]})]}),(0,Lo.jsxs)("section",{className:"team-section",children:[(0,Lo.jsx)("h2",{className:"section-title",children:"Our Team"}),(0,Lo.jsx)("p",{className:"team-intro",children:"Energiaa was created by a passionate team of developers, meditation practitioners, and AI specialists who believe in the power of technology to enhance mindfulness practices."}),(0,Lo.jsxs)("div",{className:"team-members",children:[(0,Lo.jsxs)(bl.div,{className:"team-member",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},whileHover:{y:-10,boxShadow:"0 15px 30px rgba(0, 0, 0, 0.1)"},children:[(0,Lo.jsx)("div",{className:"member-avatar",style:{backgroundImage:`url(${uI})`,backgroundSize:"cover",backgroundPosition:"center"}}),(0,Lo.jsx)("h3",{className:"member-name",children:"Yeshvanth Kumar"}),(0,Lo.jsx)("p",{className:"member-role",children:"Team Lead & Full Stack Developer"}),(0,Lo.jsx)("p",{className:"member-bio",children:"Passionate about creating intuitive user experiences and implementing AI solutions. Leads the team with expertise in React, Node.js, and Google Cloud technologies."})]}),(0,Lo.jsxs)(bl.div,{className:"team-member",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},whileHover:{y:-10,boxShadow:"0 15px 30px rgba(0, 0, 0, 0.1)"},children:[(0,Lo.jsx)("div",{className:"member-avatar",style:{backgroundImage:`url(${hI})`,backgroundSize:"cover",backgroundPosition:"center"}}),(0,Lo.jsx)("h3",{className:"member-name",children:"Sushrutha Vishal"}),(0,Lo.jsx)("p",{className:"member-role",children:"AI Specialist & Backend Developer"}),(0,Lo.jsx)("p",{className:"member-bio",children:"Expert in machine learning and computer vision algorithms. Responsible for implementing the image analysis and emotion detection features of Energiaa."})]}),(0,Lo.jsxs)(bl.div,{className:"team-member",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},whileHover:{y:-10,boxShadow:"0 15px 30px rgba(0, 0, 0, 0.1)"},children:[(0,Lo.jsx)("div",{className:"member-avatar",style:{backgroundImage:`url(${dI})`,backgroundSize:"cover",backgroundPosition:"center"}}),(0,Lo.jsx)("h3",{className:"member-name",children:"Jashwanth Reddy"}),(0,Lo.jsx)("p",{className:"member-role",children:"Frontend Developer & UX Designer"}),(0,Lo.jsx)("p",{className:"member-bio",children:"Skilled in creating beautiful and responsive user interfaces. Focuses on making the meditation experience seamless and visually appealing."})]}),(0,Lo.jsxs)(bl.div,{className:"team-member",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},whileHover:{y:-10,boxShadow:"0 15px 30px rgba(0, 0, 0, 0.1)"},children:[(0,Lo.jsx)("div",{className:"member-avatar",style:{backgroundImage:`url(${fI})`,backgroundSize:"cover",backgroundPosition:"center"}}),(0,Lo.jsx)("h3",{className:"member-name",children:"Achyuth Reddy"}),(0,Lo.jsx)("p",{className:"member-role",children:"Database Architect & Cloud Engineer"}),(0,Lo.jsx)("p",{className:"member-bio",children:"Specializes in database design and cloud infrastructure. Ensures that Energiaa's data is secure, scalable, and efficiently managed."})]})]})]}),(0,Lo.jsx)("section",{className:"about-cta-section",style:{backgroundImage:'linear-gradient(rgba(59, 130, 246, 0.85), rgba(30, 64, 175, 0.85)), url("https://images.unsplash.com/photo-1593811167562-9cef47bfc4d7?ixlib=rb-1.2.1&auto=format&fit=crop&w=1500&q=80")',backgroundSize:"cover",backgroundPosition:"center"},children:(0,Lo.jsxs)("div",{className:"cta-content",children:[(0,Lo.jsx)("h2",{className:"cta-title",children:"Experience Energiaa Today"}),(0,Lo.jsx)("p",{className:"cta-description",children:"Upload a photo and discover the power of personalized, AI-generated meditation guidance."}),(0,Lo.jsxs)(Pe,{to:"/meditate",className:"cta-button",children:["Start Your Journey ",(0,Lo.jsx)(jT,{className:"btn-icon"})]})]})})]}),mI=()=>{const[e,t]=(0,o.useState)(""),[n,r]=(0,o.useState)(!1),i=re();return(0,Lo.jsx)("div",{className:"signin-page",children:(0,Lo.jsxs)("div",{className:"signin-container-new",children:[(0,Lo.jsxs)(bl.div,{className:"signin-left",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},children:[(0,Lo.jsx)("h1",{className:"signin-title-new",children:"Sign in"}),(0,Lo.jsx)("p",{className:"signin-subtitle-new",children:"Please sign in to continue."}),e&&(0,Lo.jsxs)("div",{className:"error-message",children:[(0,Lo.jsx)(MT,{}),(0,Lo.jsx)("span",{children:e}),e.includes("Missing or insufficient permissions")&&(0,Lo.jsx)("p",{style:{fontSize:"0.9em",marginTop:"8px"},children:'Try using the "Continue as Guest" option instead.'})]}),(0,Lo.jsxs)("button",{onClick:async()=>{t(""),r(!0);try{console.log("Attempting to sign in with Google...");const e=await ST();console.log("Google sign-in successful:",e.uid),i("/meditate")}catch(e){var n;console.error("Google sign-in error:",e),"auth/operation-not-allowed"===e.code?t("Google sign-in is not enabled. Please contact support."):"auth/popup-closed-by-user"===e.code?t("Sign-in was cancelled. Please try again."):"auth/unauthorized-domain"===e.code?(t("This website is not authorized for sign-in. Please try using Guest sign-in instead."),console.error("The current domain is not authorized in Firebase console. Add it to the authorized domains list.")):"auth/missing-or-invalid-nonce"===e.code?(t("Authentication error. Please try again or use Guest sign-in."),console.error("Missing or invalid nonce in the request.")):"auth/internal-error"===e.code?(t("Authentication service is temporarily unavailable. Please try using Guest sign-in instead."),console.error("Internal authentication error:",e)):null!==(n=e.message)&&void 0!==n&&n.includes("Missing or insufficient permissions")?t("Authentication permissions issue. Please try using Guest sign-in instead."):t(e.message||"Failed to sign in with Google. Please try again or use Guest sign-in.")}finally{r(!1)}},className:"google-signin-button-new",disabled:n,children:[(0,Lo.jsx)("div",{className:"google-icon-wrapper",children:(0,Lo.jsx)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTcuNiA5LjJsLS4xLTEuOEg5djMuNGg0LjhDMTMuNiAxMiAxMyAxMyAxMiAxMy42djIuMmgzYTguOCA4LjggMCAwIDAgMi42LTYuNnoiIGZpbGw9IiM0Mjg1RjQiIGZpbGwtcnVsZT0ibm9uemVybyIvPjxwYXRoIGQ9Ik05IDE4YzIuNCAwIDQuNS0uOCA2LTIuMmwtMy0yLjJhNS40IDUuNCAwIDAgMS04LTIuOUgxVjEzYTkgOSAwIDAgMCA4IDV6IiBmaWxsPSIjMzRBODUzIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48cGF0aCBkPSJNNCAxMC43YTUuNCA1LjQgMCAwIDEgMC0zLjRWNUgxYTkgOSAwIDAgMCAwIDhsMy0yLjN6IiBmaWxsPSIjRkJCQzA1IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48cGF0aCBkPSJNOSAzLjZjMS4zIDAgMi41LjQgMy40IDEuM0wxNSAyLjNBOSA5IDAgMCAwIDEgNWwzIDIuNGE1LjQgNS40IDAgMCAxIDUtMy43eiIgZmlsbD0iI0VBNDMzNSIgZmlsbC1ydWxlPSJub256ZXJvIi8+PHBhdGggZD0iTTAgMGgxOHYxOEgweiIvPjwvZz48L3N2Zz4=",alt:"Google",className:"google-icon"})}),(0,Lo.jsx)("span",{className:"google-signin-text",children:"Sign in with Google"})]}),(0,Lo.jsx)("button",{onClick:async()=>{t(""),r(!0);try{console.log("Attempting anonymous sign-in..."),console.log("Current domain:",window.location.hostname);const e=await async function(e){var t;if(au(e.app))return Promise.reject(Db(e));const n=VE(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new wS({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await vS(n,{returnSecureToken:!0}),i=await wS._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(wT);console.log("Anonymous sign-in successful:",e.user.uid),console.log("Waiting briefly before saving anonymous user data..."),await new Promise((e=>setTimeout(e,500)));const t=`Guest-${(new Date).getTime().toString().slice(-6)}`,n={...e.user,displayName:t,username:t};console.log("Created custom user object:",{uid:n.uid,displayName:n.displayName,username:n.username,isAnonymous:n.isAnonymous});try{if(await ET(n))console.log("Anonymous user data saved to Firestore");else{console.warn("Failed to save anonymous user data to Firestore, but continuing with authentication");try{const t=fw(vT,"public",e.user.uid);await vb(t,{uid:e.user.uid,displayName:n.displayName,username:n.username,isAnonymous:!0,lastLogin:xb(),createdAt:xb(),updatedAt:xb()}),console.log("Anonymous user data saved to public collection successfully")}catch(o){console.error("Failed to save anonymous user data to public collection:",o)}}}catch(s){console.error("Error saving anonymous user to Firestore:",s),console.log("Continuing with anonymous authentication despite Firestore error")}i("/meditate")}catch(e){var n;console.error("Anonymous sign-in error:",e),"auth/operation-not-allowed"===e.code?t("Anonymous sign-in is not enabled. Please contact support."):"auth/internal-error"===e.code?(t("Authentication service is temporarily unavailable. Please try again later."),console.error("Internal authentication error:",e)):"auth/unauthorized-domain"===e.code?(t("This website is not authorized for sign-in. Please try again later."),console.error("The current domain is not authorized in Firebase console.")):null!==(n=e.message)&&void 0!==n&&n.includes("Missing or insufficient permissions")?t("Authentication permissions issue. Please try again later."):t(e.message||"Failed to sign in as guest. Please try again.")}finally{r(!1)}},className:"anonymous-signin-button-new",disabled:n,children:"Continue as Guest"})]}),(0,Lo.jsx)(bl.div,{className:"signin-right",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.3},children:(0,Lo.jsx)("div",{className:"signin-image-container-new",children:(0,Lo.jsx)("img",{src:"https://images.unsplash.com/photo-1575052814086-f385e2e2ad1b?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:"Woman in yoga pose",className:"signin-yoga-image"})})})]})})};class gI extends o.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function yI(e){let{children:t,isPresent:n}=e;const r=(0,o.useId)(),i=(0,o.useRef)(null),s=(0,o.useRef)({width:0,height:0,top:0,left:0}),{nonce:a}=(0,o.useContext)(fa);return(0,o.useInsertionEffect)((()=>{const{width:e,height:t,top:o,left:l}=s.current;if(n||!i.current||!e||!t)return;i.current.dataset.motionPopId=r;const c=document.createElement("style");return a&&(c.nonce=a),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`\n          [data-motion-pop-id="${r}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            top: ${o}px !important;\n            left: ${l}px !important;\n          }\n        `),()=>{document.head.removeChild(c)}}),[n]),(0,Lo.jsx)(gI,{isPresent:n,childRef:i,sizeRef:s,children:o.cloneElement(t,{ref:i})})}const vI=e=>{let{children:t,initial:n,isPresent:r,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:l}=e;const c=Na(wI),u=(0,o.useId)(),h=(0,o.useCallback)((e=>{c.set(e,!0);for(const t of c.values())if(!t)return;i&&i()}),[c,i]),d=(0,o.useMemo)((()=>({id:u,initial:n,isPresent:r,custom:s,onExitComplete:h,register:e=>(c.set(e,!1),()=>c.delete(e))})),a?[Math.random(),h]:[r,h]);return(0,o.useMemo)((()=>{c.forEach(((e,t)=>c.set(t,!1)))}),[r]),o.useEffect((()=>{!r&&!c.size&&i&&i()}),[r]),"popLayout"===l&&(t=(0,Lo.jsx)(yI,{isPresent:r,children:t})),(0,Lo.jsx)(Do.Provider,{value:d,children:t})};function wI(){return new Map}const bI=e=>e.key||"";function EI(e){const t=[];return o.Children.forEach(e,(e=>{(0,o.isValidElement)(e)&&t.push(e)})),t}const SI=e=>{let{children:t,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1}=e;const[c,u]=Oo(l),h=(0,o.useMemo)((()=>EI(t)),[t]),d=l&&!c?[]:h.map(bI),f=(0,o.useRef)(!0),p=(0,o.useRef)(h),m=Na((()=>new Map)),[g,y]=(0,o.useState)(h),[v,w]=(0,o.useState)(h);ka((()=>{f.current=!1,p.current=h;for(let e=0;e<v.length;e++){const t=bI(v[e]);d.includes(t)?m.delete(t):!0!==m.get(t)&&m.set(t,!1)}}),[v,d.length,d.join("-")]);const b=[];if(h!==g){let e=[...h];for(let t=0;t<v.length;t++){const n=v[t],r=bI(n);d.includes(r)||(e.splice(t,0,n),b.push(n))}return"wait"===a&&b.length&&(e=b),w(EI(e)),void y(h)}const{forceRender:E}=(0,o.useContext)(Mo);return(0,Lo.jsx)(Lo.Fragment,{children:v.map((e=>{const t=bI(e),o=!(l&&!c)&&(h===v||d.includes(t));return(0,Lo.jsx)(vI,{isPresent:o,initial:!(f.current&&!r)&&void 0,custom:o?void 0:n,presenceAffectsLayout:s,mode:a,onExitComplete:o?void 0:()=>{if(!m.has(t))return;m.set(t,!0);let e=!0;m.forEach((t=>{t||(e=!1)})),e&&(null===E||void 0===E||E(),w(p.current),l&&(null===u||void 0===u||u()),i&&i())},children:e},t)}))})},xI=()=>{const[e,t]=(0,o.useState)(null),[n,r]=(0,o.useState)(!0),[i,s]=(0,o.useState)(null);(0,o.useEffect)((()=>{const e=async()=>{r(!0),s(null);try{const e=wT.currentUser;if(!e)return s("No user is signed in"),void r(!1);const n=fw(vT,"users",e.uid),i=await mb(n);i.exists()?t(i.data()):s("User data not found in Firestore")}catch(e){console.error("Error fetching user data:",e),s("Failed to load user data: "+e.message)}finally{r(!1)}};e();const n=wT.onAuthStateChanged((n=>{n?e():(t(null),s("No user is signed in"),r(!1))}));return()=>n()}),[]);const a=e=>{if(!e)return"N/A";try{return(e.toDate?e.toDate():new Date(e)).toLocaleString()}catch(t){return console.error("Error formatting date:",t),"Invalid date"}};return n?(0,Lo.jsx)("div",{className:"user-profile-loading",children:"Loading user data..."}):i?(0,Lo.jsx)("div",{className:"user-profile-error",children:i}):e?(0,Lo.jsxs)("div",{className:"user-profile-container",children:[(0,Lo.jsx)("h2",{className:"user-profile-title",children:"User Profile"}),(0,Lo.jsx)("div",{className:"user-profile-avatar",children:e.photoURL?(0,Lo.jsx)("img",{src:e.photoURL,alt:"User avatar"}):(0,Lo.jsx)("div",{className:"user-profile-avatar-placeholder",children:(0,Lo.jsx)(oI,{size:40})})}),(0,Lo.jsxs)("div",{className:"user-profile-info",children:[(0,Lo.jsxs)("div",{className:"user-profile-item",children:[(0,Lo.jsx)(oI,{className:"user-profile-icon"}),(0,Lo.jsxs)("div",{children:[(0,Lo.jsx)("span",{className:"user-profile-label",children:"Name"}),(0,Lo.jsx)("span",{className:"user-profile-value",children:e.displayName||"Anonymous User"})]})]}),(0,Lo.jsxs)("div",{className:"user-profile-item",children:[(0,Lo.jsx)(eI,{className:"user-profile-icon"}),(0,Lo.jsxs)("div",{children:[(0,Lo.jsx)("span",{className:"user-profile-label",children:"Email"}),(0,Lo.jsx)("span",{className:"user-profile-value",children:e.email||"Not provided"})]})]}),(0,Lo.jsxs)("div",{className:"user-profile-item",children:[(0,Lo.jsx)(YT,{className:"user-profile-icon"}),(0,Lo.jsxs)("div",{children:[(0,Lo.jsx)("span",{className:"user-profile-label",children:"Sign-in Provider"}),(0,Lo.jsx)("span",{className:"user-profile-value",children:(e=>{switch(e){case"google.com":return"Google";case"password":return"Email/Password";case"anonymous":return"Anonymous";default:return e||"Unknown"}})(e.provider)})]})]}),(0,Lo.jsxs)("div",{className:"user-profile-item",children:[(0,Lo.jsx)($T,{className:"user-profile-icon"}),(0,Lo.jsxs)("div",{children:[(0,Lo.jsx)("span",{className:"user-profile-label",children:"Last Login"}),(0,Lo.jsx)("span",{className:"user-profile-value",children:a(e.lastLogin)})]})]}),(0,Lo.jsxs)("div",{className:"user-profile-item",children:[(0,Lo.jsx)($T,{className:"user-profile-icon"}),(0,Lo.jsxs)("div",{children:[(0,Lo.jsx)("span",{className:"user-profile-label",children:"Account Created"}),(0,Lo.jsx)("span",{className:"user-profile-value",children:a(e.createdAt)})]})]})]}),(0,Lo.jsx)("div",{className:"user-profile-footer",children:(0,Lo.jsxs)("span",{className:"user-profile-uid",children:["User ID: ",e.uid]})})]}):(0,Lo.jsx)("div",{className:"user-profile-error",children:"No user data available"})},kI=e=>{if(!e)return"No date";let t;return t="object"===typeof e&&e.seconds?new Date(1e3*e.seconds):new Date(e),isNaN(t.getTime())?"Invalid date":t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},TI=e=>{if(!e)return"Untitled Meditation";const t=e.match(/^#\s+(.+)$/m);if(t&&t[1])return t[1].trim();return e.split("\n")[0].replace(/^#\s*/,"").trim()||"Untitled Meditation"};function II(e){var t;let{meditations:n=[],onSelect:r,selectedId:i}=e;const[s,a]=(0,o.useState)(!1),l=!!wT.currentUser&&!wT.currentUser.isAnonymous,c=(Array.isArray(n)?n:[]).filter((e=>e&&e.id));return(0,Lo.jsxs)("aside",{className:"sidebar",children:[l&&(0,Lo.jsxs)("div",{className:"sidebar-user-section",children:[(0,Lo.jsxs)("div",{className:"sidebar-user-header",onClick:()=>{a(!s)},children:[(0,Lo.jsxs)("div",{className:"sidebar-user-info",children:[(0,Lo.jsx)(oI,{size:16}),(0,Lo.jsx)("span",{children:(null===(t=wT.currentUser)||void 0===t?void 0:t.displayName)||"User Profile"})]}),s?(0,Lo.jsx)(zT,{}):(0,Lo.jsx)(BT,{})]}),(0,Lo.jsx)(SI,{children:s&&(0,Lo.jsx)(bl.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"sidebar-user-profile",children:(0,Lo.jsx)(xI,{})})})]}),(0,Lo.jsx)("h2",{children:"Saved Meditations"}),(0,Lo.jsx)("div",{className:"sidebar-list",children:(0,Lo.jsx)(SI,{children:0===c.length?(0,Lo.jsxs)(bl.div,{initial:{opacity:0},animate:{opacity:1},className:"sidebar-empty",children:[(0,Lo.jsx)(KT,{size:24,style:{marginBottom:"10px",opacity:.5}}),(0,Lo.jsx)("p",{children:"No meditations yet"}),(0,Lo.jsx)("p",{children:"Upload an image to create your first meditation"})]}):c.map((e=>(0,Lo.jsxs)(bl.div,{className:"sidebar-item"+(i===e.id?" selected":""),onClick:()=>r(e.id),whileHover:{scale:1.02},initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{duration:.2},layout:!0,children:[(0,Lo.jsx)("img",{src:e.photoUrl&&!e.photoUrl.includes("...")?e.photoUrl:"https://images.unsplash.com/photo-1518241353330-0f7941c2d9b5?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",alt:"Meditation",className:"sidebar-thumb",onError:t=>{console.log("Image load error for:",e.photoUrl),t.target.src="https://images.unsplash.com/photo-1518241353330-0f7941c2d9b5?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"},onLoad:()=>console.log("Image loaded successfully:",e.id)}),(0,Lo.jsxs)("div",{children:[(0,Lo.jsx)("div",{className:"sidebar-title",children:TI(e.geminiGuidance)}),(0,Lo.jsxs)("div",{className:"sidebar-date",children:[(0,Lo.jsx)(FT,{size:12,style:{marginRight:"4px",opacity:.7}}),kI(e.createdAt||e.timestamp||e.clientTimestamp)]})]})]},e.id)))})})]})}const CI={"#ff0000":"Red","#cd5c5c":"Indian Red","#b22222":"Firebrick","#a52a2a":"Brown","#800000":"Maroon","#dc143c":"Crimson","#ff6347":"Tomato","#ff4500":"Orange Red","#ffa500":"Orange","#ff8c00":"Dark Orange","#ff7f50":"Coral","#ffff00":"Yellow","#ffd700":"Gold","#ffb6c1":"Light Pink","#ffc0cb":"Pink","#f0e68c":"Khaki","#008000":"Green","#006400":"Dark Green","#32cd32":"Lime Green","#00ff00":"Lime","#7cfc00":"Lawn Green","#00ff7f":"Spring Green","#00fa9a":"Medium Spring Green","#90ee90":"Light Green","#98fb98":"Pale Green","#8fbc8f":"Dark Sea Green","#3cb371":"Medium Sea Green","#2e8b57":"Sea Green","#228b22":"Forest Green","#808000":"Olive","#0000ff":"Blue","#000080":"Navy","#00008b":"Dark Blue","#0000cd":"Medium Blue","#4169e1":"Royal Blue","#1e90ff":"Dodger Blue","#00bfff":"Deep Sky Blue","#87ceeb":"Sky Blue","#87cefa":"Light Sky Blue","#4682b4":"Steel Blue","#b0c4de":"Light Steel Blue","#add8e6":"Light Blue","#5f9ea0":"Cadet Blue","#00ffff":"Cyan","#00ffff":"Aqua","#00ced1":"Dark Turquoise","#20b2aa":"Light Sea Green","#48d1cc":"Medium Turquoise","#40e0d0":"Turquoise","#afeeee":"Pale Turquoise","#7fffd4":"Aquamarine","#800080":"Purple","#4b0082":"Indigo","#8b008b":"Dark Magenta","#9400d3":"Dark Violet","#9932cc":"Dark Orchid","#8a2be2":"Blue Violet","#9370db":"Medium Purple","#ba55d3":"Medium Orchid","#ff00ff":"Magenta","#ff00ff":"Fuchsia","#da70d6":"Orchid","#ee82ee":"Violet","#dda0dd":"Plum","#d8bfd8":"Thistle","#a0522d":"Sienna","#8b4513":"Saddle Brown","#d2691e":"Chocolate","#cd853f":"Peru","#deb887":"Burlywood","#f4a460":"Sandy Brown","#d2b48c":"Tan","#ffffff":"White","#f5f5f5":"White Smoke","#fffafa":"Snow","#f0fff0":"Honeydew","#f5fffa":"Mint Cream","#f0ffff":"Azure","#f0f8ff":"Alice Blue","#f8f8ff":"Ghost White","#fffaf0":"Floral White","#fffff0":"Ivory","#faebd7":"Antique White","#faf0e6":"Linen","#fff5ee":"Seashell","#f5f5dc":"Beige","#fdf5e6":"Old Lace","#fffacd":"Lemon Chiffon","#fffacd":"Cornsilk","#ffebcd":"Blanched Almond","#ffe4c4":"Bisque","#ffe4b5":"Moccasin","#ffdead":"Navajo White","#ffdab9":"Peach Puff","#ffe4e1":"Misty Rose","#808080":"Gray","#696969":"Dim Gray","#778899":"Light Slate Gray","#708090":"Slate Gray","#a9a9a9":"Dark Gray","#c0c0c0":"Silver","#d3d3d3":"Light Gray","#dcdcdc":"Gainsboro","#000000":"Black","#2f4f4f":"Dark Slate Gray","#4f4f4f":"Dim Gray"},_I={Red:"Passion, Energy, Strength","Indian Red":"Warmth, Earthiness",Firebrick:"Determination, Power",Brown:"Stability, Reliability, Earthiness",Maroon:"Confidence, Richness, Sophistication",Crimson:"Desire, Excitement, Love",Tomato:"Enthusiasm, Happiness","Orange Red":"Aggression, Confidence, Vigor",Orange:"Creativity, Enthusiasm, Warmth","Dark Orange":"Courage, Confidence, Friendliness",Coral:"Playfulness, Sociability, Stimulation",Yellow:"Happiness, Optimism, Energy",Gold:"Success, Achievement, Prosperity","Light Pink":"Sweetness, Tenderness, Romance",Pink:"Love, Compassion, Nurturing",Khaki:"Reliability, Stability, Earthiness",Green:"Growth, Harmony, Healing","Dark Green":"Abundance, Nature, Wealth","Lime Green":"Vitality, Freshness, Youth",Lime:"Energy, Vibrancy, Renewal","Lawn Green":"Freshness, Growth, Vitality","Spring Green":"Renewal, Growth, Rebirth","Medium Spring Green":"Healing, Freshness, Rejuvenation","Light Green":"Gentleness, Nurturing, Spring","Pale Green":"Calmness, Softness, Tranquility","Dark Sea Green":"Balance, Harmony, Stability","Medium Sea Green":"Prosperity, Health, Fertility","Sea Green":"Balance, Restoration, Endurance","Forest Green":"Abundance, Wealth, Prosperity",Olive:"Peace, Harmony, Earthiness",Blue:"Calm, Trust, Serenity",Navy:"Authority, Stability, Trust","Dark Blue":"Knowledge, Power, Integrity","Medium Blue":"Tranquility, Understanding, Patience","Royal Blue":"Nobility, Richness, Trust","Dodger Blue":"Joy, Youth, Energy","Deep Sky Blue":"Refreshment, Freedom, Inspiration","Sky Blue":"Peace, Tranquility, Openness","Light Sky Blue":"Serenity, Infinity, Possibility","Steel Blue":"Reliability, Stability, Depth","Light Steel Blue":"Harmony, Gentleness, Sophistication","Light Blue":"Health, Healing, Tranquility","Cadet Blue":"Calmness, Stability, Reliability",Cyan:"Refreshment, Coolness, Clarity",Aqua:"Purity, Cleanliness, Clarity","Dark Turquoise":"Clarity, Confidence, Strength","Light Sea Green":"Renewal, Healing, Protection","Medium Turquoise":"Tranquility, Clarity, Compassion",Turquoise:"Calmness, Clarity, Communication","Pale Turquoise":"Refreshment, Femininity, Gentleness",Aquamarine:"Youth, Hope, Health",Purple:"Spirituality, Imagination, Transformation",Indigo:"Intuition, Mysticism, Dignity","Dark Magenta":"Passion, Creativity, Spirituality","Dark Violet":"Intuition, Spiritual Awareness, Authenticity","Dark Orchid":"Creativity, Dignity, Independence","Blue Violet":"Intuition, Spirituality, Enchantment","Medium Purple":"Inspiration, Creativity, Mystery","Medium Orchid":"Enchantment, Whimsy, Tenderness",Magenta:"Harmony, Balance, Universal Love",Fuchsia:"Confidence, Assurance, Maturity",Orchid:"Refinement, Luxury, Charm",Violet:"Spirituality, Luxury, Authenticity",Plum:"Wisdom, Independence, Creativity",Thistle:"Spirituality, Nostalgia, Femininity",Sienna:"Earthiness, Stability, Reliability","Saddle Brown":"Groundedness, Simplicity, Warmth",Chocolate:"Security, Protection, Support",Peru:"Earthiness, Warmth, Comfort",Burlywood:"Stability, Reliability, Warmth","Sandy Brown":"Warmth, Friendliness, Earthiness",Tan:"Reliability, Stability, Earthiness",White:"Purity, Innocence, Clarity","White Smoke":"Clarity, Cleanliness, Simplicity",Snow:"Purity, Freshness, Clarity",Honeydew:"Freshness, Calmness, Soothing","Mint Cream":"Freshness, Clarity, Calmness",Azure:"Calmness, Clarity, Purity","Alice Blue":"Calmness, Serenity, Clarity","Ghost White":"Spirituality, Purity, Clarity","Floral White":"Purity, Innocence, Clarity",Ivory:"Purity, Elegance, Quiet","Antique White":"Softness, Vintage, Warmth",Linen:"Softness, Comfort, Simplicity",Seashell:"Softness, Warmth, Gentleness",Beige:"Calmness, Simplicity, Neutrality","Old Lace":"Softness, Elegance, Vintage","Lemon Chiffon":"Happiness, Cheerfulness, Freshness",Cornsilk:"Softness, Warmth, Comfort","Blanched Almond":"Softness, Warmth, Comfort",Bisque:"Softness, Warmth, Comfort",Moccasin:"Warmth, Comfort, Earthiness","Navajo White":"Earthiness, Warmth, Comfort","Peach Puff":"Warmth, Softness, Femininity","Misty Rose":"Tenderness, Romance, Femininity",Gray:"Balance, Neutrality, Sophistication","Dim Gray":"Seriousness, Conservatism, Formality","Light Slate Gray":"Reliability, Conservatism, Practicality","Slate Gray":"Solidity, Reliability, Practicality","Dark Gray":"Sophistication, Formality, Seriousness",Silver:"Sleekness, Modernity, Practicality","Light Gray":"Neutrality, Balance, Calmness",Gainsboro:"Neutrality, Simplicity, Practicality",Black:"Sophistication, Elegance, Mystery","Dark Slate Gray":"Formality, Sophistication, Seriousness","Dim Gray":"Conservatism, Formality, Reliability"},AI=e=>{if(!e)return"Unknown";if(e=e.toLowerCase(),CI[e])return CI[e];let t="Unknown",n=Number.MAX_VALUE;const r=parseInt(e.slice(1,3),16),i=parseInt(e.slice(3,5),16),o=parseInt(e.slice(5,7),16);Object.keys(CI).forEach((e=>{const s=parseInt(e.slice(1,3),16),a=parseInt(e.slice(3,5),16),l=parseInt(e.slice(5,7),16),c=Math.sqrt(.3*Math.pow(r-s,2)+.59*Math.pow(i-a,2)+.11*Math.pow(o-l,2));c<n&&(n=c,t=CI[e])}));const s=r>200&&i<100&&o<100,a=i>200&&r<100&&o<100,l=o>200&&r<100&&i<100,c=r>200&&i>200&&o<100,u=r>200&&i>100&&i<200&&o<100,h=r>100&&i<100&&o>150,d=Math.abs(r-i)<30&&Math.abs(i-o)<30&&Math.abs(r-o)<30;return!s||t.includes("Red")||t.includes("Crimson")||t.includes("Tomato")?a&&!t.includes("Green")?"Sea Green":l&&!t.includes("Blue")?"Royal Blue":!c||t.includes("Yellow")||t.includes("Gold")?u&&!t.includes("Orange")?"Orange":!h||t.includes("Purple")||t.includes("Violet")?!d||t.includes("Gray")||t.includes("Silver")?t:"Gray":"Purple":"Gold":"Red"},PI=e=>_I[e]||"Unique, Distinctive";function NI(e){let{colors:t}=e;if(!t||0===t.length)return null;const n=[],r=new Set;for(const o of t){const e=AI(o.hex);r.has(e)||(r.add(e),n.push({...o,name:e,emotion:PI(e)}))}const i=n.slice(0,4);return(0,Lo.jsx)("div",{className:"color-palette",children:i.map(((e,t)=>(0,Lo.jsxs)("div",{className:"color-box",style:{background:e.hex,color:RI(e.hex)?"#000":"#fff"},children:[(0,Lo.jsx)("div",{className:"color-name",children:e.name}),(0,Lo.jsx)("div",{className:"color-emotion",children:e.emotion})]},t)))})}function RI(e){return.299*parseInt(e.slice(1,3),16)+.587*parseInt(e.slice(3,5),16)+.114*parseInt(e.slice(5,7),16)>128}const LI=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,DI=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,OI={};function MI(e,t){return((t||OI).jsx?DI:LI).test(e)}const jI=/[ \t\n\f\r]/g;function FI(e){return""===e.replace(jI,"")}class UI{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}}function VI(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new UI(n,r,t)}function BI(e){return e.toLowerCase()}UI.prototype.normal={},UI.prototype.property={},UI.prototype.space=void 0;class zI{constructor(e,t){this.attribute=t,this.property=e}}zI.prototype.attribute="",zI.prototype.booleanish=!1,zI.prototype.boolean=!1,zI.prototype.commaOrSpaceSeparated=!1,zI.prototype.commaSeparated=!1,zI.prototype.defined=!1,zI.prototype.mustUseProperty=!1,zI.prototype.number=!1,zI.prototype.overloadedBoolean=!1,zI.prototype.property="",zI.prototype.spaceSeparated=!1,zI.prototype.space=void 0;let $I=0;const qI=JI(),GI=JI(),HI=JI(),WI=JI(),KI=JI(),YI=JI(),QI=JI();function JI(){return 2**++$I}const XI=Object.keys(e);class ZI extends zI{constructor(t,n,r,i){let o=-1;if(super(t,n),eC(this,"space",i),"number"===typeof r)for(;++o<XI.length;){const t=XI[o];eC(this,XI[o],(r&e[t])===e[t])}}}function eC(e,t,n){n&&(e[t]=n)}function tC(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new ZI(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[BI(r)]=r,n[BI(o.attribute)]=r}return new UI(t,n,e.space)}ZI.prototype.defined=!0;const nC=tC({properties:{ariaActiveDescendant:null,ariaAtomic:GI,ariaAutoComplete:null,ariaBusy:GI,ariaChecked:GI,ariaColCount:WI,ariaColIndex:WI,ariaColSpan:WI,ariaControls:KI,ariaCurrent:null,ariaDescribedBy:KI,ariaDetails:null,ariaDisabled:GI,ariaDropEffect:KI,ariaErrorMessage:null,ariaExpanded:GI,ariaFlowTo:KI,ariaGrabbed:GI,ariaHasPopup:null,ariaHidden:GI,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:KI,ariaLevel:WI,ariaLive:null,ariaModal:GI,ariaMultiLine:GI,ariaMultiSelectable:GI,ariaOrientation:null,ariaOwns:KI,ariaPlaceholder:null,ariaPosInSet:WI,ariaPressed:GI,ariaReadOnly:GI,ariaRelevant:null,ariaRequired:GI,ariaRoleDescription:KI,ariaRowCount:WI,ariaRowIndex:WI,ariaRowSpan:WI,ariaSelected:GI,ariaSetSize:WI,ariaSort:null,ariaValueMax:WI,ariaValueMin:WI,ariaValueNow:WI,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function rC(e,t){return t in e?e[t]:t}function iC(e,t){return rC(e,t.toLowerCase())}const oC=tC({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:YI,acceptCharset:KI,accessKey:KI,action:null,allow:null,allowFullScreen:qI,allowPaymentRequest:qI,allowUserMedia:qI,alt:null,as:null,async:qI,autoCapitalize:null,autoComplete:KI,autoFocus:qI,autoPlay:qI,blocking:KI,capture:null,charSet:null,checked:qI,cite:null,className:KI,cols:WI,colSpan:null,content:null,contentEditable:GI,controls:qI,controlsList:KI,coords:WI|YI,crossOrigin:null,data:null,dateTime:null,decoding:null,default:qI,defer:qI,dir:null,dirName:null,disabled:qI,download:HI,draggable:GI,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:qI,formTarget:null,headers:KI,height:WI,hidden:qI,high:WI,href:null,hrefLang:null,htmlFor:KI,httpEquiv:KI,id:null,imageSizes:null,imageSrcSet:null,inert:qI,inputMode:null,integrity:null,is:null,isMap:qI,itemId:null,itemProp:KI,itemRef:KI,itemScope:qI,itemType:KI,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:qI,low:WI,manifest:null,max:null,maxLength:WI,media:null,method:null,min:null,minLength:WI,multiple:qI,muted:qI,name:null,nonce:null,noModule:qI,noValidate:qI,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:qI,optimum:WI,pattern:null,ping:KI,placeholder:null,playsInline:qI,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:qI,referrerPolicy:null,rel:KI,required:qI,reversed:qI,rows:WI,rowSpan:WI,sandbox:KI,scope:null,scoped:qI,seamless:qI,selected:qI,shadowRootClonable:qI,shadowRootDelegatesFocus:qI,shadowRootMode:null,shape:null,size:WI,sizes:null,slot:null,span:WI,spellCheck:GI,src:null,srcDoc:null,srcLang:null,srcSet:null,start:WI,step:null,style:null,tabIndex:WI,target:null,title:null,translate:null,type:null,typeMustMatch:qI,useMap:null,value:GI,width:WI,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:KI,axis:null,background:null,bgColor:null,border:WI,borderColor:null,bottomMargin:WI,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:qI,declare:qI,event:null,face:null,frame:null,frameBorder:null,hSpace:WI,leftMargin:WI,link:null,longDesc:null,lowSrc:null,marginHeight:WI,marginWidth:WI,noResize:qI,noHref:qI,noShade:qI,noWrap:qI,object:null,profile:null,prompt:null,rev:null,rightMargin:WI,rules:null,scheme:null,scrolling:GI,standby:null,summary:null,text:null,topMargin:WI,valueType:null,version:null,vAlign:null,vLink:null,vSpace:WI,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:qI,disableRemotePlayback:qI,prefix:null,property:null,results:WI,security:null,unselectable:null},space:"html",transform:iC}),sC=tC({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:QI,accentHeight:WI,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:WI,amplitude:WI,arabicForm:null,ascent:WI,attributeName:null,attributeType:null,azimuth:WI,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:WI,by:null,calcMode:null,capHeight:WI,className:KI,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:WI,diffuseConstant:WI,direction:null,display:null,dur:null,divisor:WI,dominantBaseline:null,download:qI,dx:null,dy:null,edgeMode:null,editable:null,elevation:WI,enableBackground:null,end:null,event:null,exponent:WI,externalResourcesRequired:null,fill:null,fillOpacity:WI,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:YI,g2:YI,glyphName:YI,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:WI,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:WI,horizOriginX:WI,horizOriginY:WI,id:null,ideographic:WI,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:WI,k:WI,k1:WI,k2:WI,k3:WI,k4:WI,kernelMatrix:QI,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:WI,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:WI,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:WI,overlineThickness:WI,paintOrder:null,panose1:null,path:null,pathLength:WI,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:KI,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:WI,pointsAtY:WI,pointsAtZ:WI,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:QI,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:QI,rev:QI,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:QI,requiredFeatures:QI,requiredFonts:QI,requiredFormats:QI,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:WI,specularExponent:WI,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:WI,strikethroughThickness:WI,string:null,stroke:null,strokeDashArray:QI,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:WI,strokeOpacity:WI,strokeWidth:null,style:null,surfaceScale:WI,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:QI,tabIndex:WI,tableValues:null,target:null,targetX:WI,targetY:WI,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:QI,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:WI,underlineThickness:WI,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:WI,values:null,vAlphabetic:WI,vMathematical:WI,vectorEffect:null,vHanging:WI,vIdeographic:WI,version:null,vertAdvY:WI,vertOriginX:WI,vertOriginY:WI,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:WI,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:rC}),aC=tC({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),lC=tC({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:iC}),cC=tC({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),uC=VI([nC,oC,aC,lC,cC],"html"),hC=VI([nC,sC,aC,lC,cC],"svg"),dC=/[A-Z]/g,fC=/-[a-z]/g,pC=/^data[-\w.:]+$/i;function mC(e){return"-"+e.toLowerCase()}function gC(e){return e.charAt(1).toUpperCase()}const yC={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var vC=n(294);const wC=EC("end"),bC=EC("start");function EC(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"===typeof n.line&&n.line>0&&"number"===typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"===typeof n.offset&&n.offset>-1?n.offset:void 0}}}function SC(e){return e&&"object"===typeof e?"position"in e||"type"in e?kC(e.position):"start"in e||"end"in e?kC(e):"line"in e||"column"in e?xC(e):"":""}function xC(e){return TC(e&&e.line)+":"+TC(e&&e.column)}function kC(e){return xC(e&&e.start)+"-"+xC(e&&e.end)}function TC(e){return e&&"number"===typeof e?e:1}class IC extends Error{constructor(e,t,n){super(),"string"===typeof t&&(n=t,t=void 0);let r="",i={},o=!1;if(t&&(i="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"===typeof e?r=e:!i.cause&&e&&(o=!0,r=e.message,i.cause=e),!i.ruleId&&!i.source&&"string"===typeof n){const e=n.indexOf(":");-1===e?i.ruleId=n:(i.source=n.slice(0,e),i.ruleId=n.slice(e+1))}if(!i.place&&i.ancestors&&i.ancestors){const e=i.ancestors[i.ancestors.length-1];e&&(i.place=e.position)}const s=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file,this.message=r,this.line=s?s.line:void 0,this.name=SC(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&"string"===typeof i.cause.stack?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}IC.prototype.file="",IC.prototype.name="",IC.prototype.reason="",IC.prototype.message="",IC.prototype.stack="",IC.prototype.column=void 0,IC.prototype.line=void 0,IC.prototype.ancestors=void 0,IC.prototype.cause=void 0,IC.prototype.fatal=void 0,IC.prototype.place=void 0,IC.prototype.ruleId=void 0,IC.prototype.source=void 0;const CC={}.hasOwnProperty,_C=new Map,AC=/[A-Z]/g,PC=new Set(["table","tbody","thead","tfoot","tr"]),NC=new Set(["td","th"]),RC="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function LC(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if("function"!==typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=function(e,t){return n;function n(n,r,i,o){const s=Array.isArray(i.children),a=bC(n);return t(r,i,o,s,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!==typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!==typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");r=function(e,t,n){return r;function r(e,r,i,o){const s=Array.isArray(i.children)?n:t;return o?s(r,i,o):s(r,i)}}(0,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?hC:uC,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},o=DC(i,e,void 0);return o&&"string"!==typeof o?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function DC(e,t,n){return"element"===t.type?function(e,t,n){const r=e.schema;let i=r;"svg"===t.tagName.toLowerCase()&&"html"===r.space&&(i=hC,e.schema=i);e.ancestors.push(t);const o=UC(e,t.tagName,!1),s=function(e,t){const n={};let r,i;for(i in t.properties)if("children"!==i&&CC.call(t.properties,i)){const o=FC(e,i,t.properties[i]);if(o){const[i,s]=o;e.tableCellAlignToStyle&&"align"===i&&"string"===typeof s&&NC.has(t.tagName)?r=s:n[i]=s}}if(r){(n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=r}return n}(e,t);let a=jC(e,t);PC.has(t.tagName)&&(a=a.filter((function(e){return"string"!==typeof e||!("object"===typeof(t=e)?"text"===t.type&&FI(t.value):FI(t));var t})));return OC(e,s,o,t),MC(s,a),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}VC(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const r=e.schema;let i=r;"svg"===t.name&&"html"===r.space&&(i=hC,e.schema=i);e.ancestors.push(t);const o=null===t.name?e.Fragment:UC(e,t.name,!0),s=function(e,t){const n={};for(const r of t.attributes)if("mdxJsxExpressionAttribute"===r.type)if(r.data&&r.data.estree&&e.evaluater){const t=r.data.estree.body[0];t.type;const i=t.expression;i.type;const o=i.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else VC(e,t.position);else{const i=r.name;let o;if(r.value&&"object"===typeof r.value)if(r.value.data&&r.value.data.estree&&e.evaluater){const t=r.value.data.estree.body[0];t.type,o=e.evaluater.evaluateExpression(t.expression)}else VC(e,t.position);else o=null===r.value||r.value;n[i]=o}return n}(e,t),a=jC(e,t);return OC(e,s,o,t),MC(s,a),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);VC(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const r={};return MC(r,jC(e,t)),e.create(t,e.Fragment,r,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function OC(e,t,n,r){"string"!==typeof n&&n!==e.Fragment&&e.passNode&&(t.node=r)}function MC(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function jC(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:_C;for(;++r<t.children.length;){const o=t.children[r];let s;if(e.passKeys){const e="element"===o.type?o.tagName:"mdxJsxFlowElement"===o.type||"mdxJsxTextElement"===o.type?o.name:void 0;if(e){const t=i.get(e)||0;s=e+"-"+t,i.set(e,t+1)}}const a=DC(e,o,s);void 0!==a&&n.push(a)}return n}function FC(e,t,n){const r=function(e,t){const n=BI(t);let r=t,i=zI;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&pC.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(fC,gC);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!fC.test(e)){let n=e.replace(dC,mC);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}i=ZI}return new i(r,t)}(e.schema,t);if(!(null===n||void 0===n||"number"===typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?function(e,t){const n=t||{};return(""===e[e.length-1]?[...e,""]:e).join((n.padRight?" ":"")+","+(!1===n.padLeft?"":" ")).trim()}(n):n.join(" ").trim()),"style"===r.property){let t="object"===typeof n?n:function(e,t){try{return vC(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const t=n,r=new IC("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:t,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=RC+"#cannot-parse-style-attribute",r}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)CC.call(e,n)&&(t[BC(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&r.space?yC[r.property]||r.property:r.attribute,n]}}function UC(e,t,n){let r;if(n)if(t.includes(".")){const e=t.split(".");let n,i=-1;for(;++i<e.length;){const t=MI(e[i])?{type:"Identifier",name:e[i]}:{type:"Literal",value:e[i]};n=n?{type:"MemberExpression",object:n,property:t,computed:Boolean(i&&"Literal"===t.type),optional:!1}:t}r=n}else r=MI(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else r={type:"Literal",value:t};if("Literal"===r.type){const t=r.value;return CC.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(r);VC(e)}function VC(e,t){const n=new IC("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=RC+"#cannot-handle-mdx-estrees-without-createevaluater",n}function BC(e){let t=e.replace(AC,zC);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function zC(e){return"-"+e.toLowerCase()}const $C={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},qC={};function GC(e,t,n){if(function(e){return Boolean(e&&"object"===typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return HC(e.children,t,n)}return Array.isArray(e)?HC(e,t,n):""}function HC(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=GC(e[i],t,n);return r.join("")}function WC(e,t,n,r){const i=e.length;let o,s=0;if(t=t<0?-t>i?0:i+t:t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function KC(e,t){return e.length>0?(WC(e,e.length,0,t),e):t}class YC{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null===t||void 0===t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const r=t||0;this.setCursor(Math.trunc(e));const i=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return n&&QC(this.left,n),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),QC(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),QC(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);QC(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);QC(this.left,t.reverse())}}}function QC(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function JC(e){const t={};let n,r,i,o,s,a,l,c=-1;const u=new YC(e);for(;++c<u.length;){for(;c in t;)c=t[c];if(n=u.get(c),c&&"chunkFlow"===n[1].type&&"listItemPrefix"===u.get(c-1)[1].type&&(a=n[1]._tokenizer.events,i=0,i<a.length&&"lineEndingBlank"===a[i][1].type&&(i+=2),i<a.length&&"content"===a[i][1].type))for(;++i<a.length&&"content"!==a[i][1].type;)"chunkText"===a[i][1].type&&(a[i][1]._isInFirstContentOfListItem=!0,i++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,XC(u,c)),c=t[c],l=!0);else if(n[1]._container){for(i=c,r=void 0;i--;)if(o=u.get(i),"lineEnding"===o[1].type||"lineEndingBlank"===o[1].type)"enter"===o[0]&&(r&&(u.get(r)[1].type="lineEndingBlank"),o[1].type="lineEnding",r=i);else if("linePrefix"!==o[1].type&&"listItemIndent"!==o[1].type)break;r&&(n[1].end={...u.get(r)[1].start},s=u.slice(r,c),s.unshift(n),u.splice(r,c-r+1,s))}}return WC(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!l}function XC(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const a=s.events,l=[],c={};let u,h,d=-1,f=n,p=0,m=0;const g=[m];for(;f;){for(;e.get(++i)[1]!==f;);o.push(i),f._tokenizer||(u=r.sliceStream(f),f.next||u.push(null),h&&s.defineSkip(f.start),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(u),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),h=f,f=f.next}for(f=n;++d<a.length;)"exit"===a[d][0]&&"enter"===a[d-1][0]&&a[d][1].type===a[d-1][1].type&&a[d][1].start.line!==a[d][1].end.line&&(m=d+1,g.push(m),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(s.events=[],f?(f._tokenizer=void 0,f.previous=void 0):g.pop(),d=g.length;d--;){const t=a.slice(g[d],g[d+1]),n=o.pop();l.push([n,n+t.length-1]),e.splice(n,2,t)}for(l.reverse(),d=-1;++d<l.length;)c[p+l[d][0]]=p+l[d][1],p+=l[d][1]-l[d][0]-1;return c}const ZC={}.hasOwnProperty;function e_(e,t){let n;for(n in t){const r=(ZC.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let o;if(i)for(o in i){ZC.call(r,o)||(r[o]=[]);const e=i[o];t_(r[o],Array.isArray(e)?e:e?[e]:[])}}}function t_(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);WC(e,0,0,r)}const n_=p_(/[A-Za-z]/),r_=p_(/[\dA-Za-z]/),i_=p_(/[#-'*+\--9=?A-Z^-~]/);function o_(e){return null!==e&&(e<32||127===e)}const s_=p_(/\d/),a_=p_(/[\dA-Fa-f]/),l_=p_(/[!-/:-@[-`{-~]/);function c_(e){return null!==e&&e<-2}function u_(e){return null!==e&&(e<0||32===e)}function h_(e){return-2===e||-1===e||32===e}const d_=p_(/\p{P}|\p{S}/u),f_=p_(/\s/);function p_(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function m_(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return function(r){if(h_(r))return e.enter(n),s(r);return t(r)};function s(r){return h_(r)&&o++<i?(e.consume(r),s):(e.exit(n),t(r))}}const g_={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,(function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),m_(e,t,"linePrefix")}),(function(t){return e.enter("paragraph"),r(t)}));let n;return t;function r(t){const r=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,i(t)}function i(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):c_(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),i)}}};const y_={tokenize:function(e){const t=this,n=[];let r,i,o,s=0;return a;function a(r){if(s<n.length){const i=n[s];return t.containerState=i[1],e.attempt(i[0].continuation,l,c)(r)}return c(r)}function l(e){if(s++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&v();const n=t.events.length;let i,o=n;for(;o--;)if("exit"===t.events[o][0]&&"chunkFlow"===t.events[o][1].type){i=t.events[o][1].end;break}y(s);let a=n;for(;a<t.events.length;)t.events[a][1].end={...i},a++;return WC(t.events,o+1,0,t.events.slice(n)),t.events.length=a,c(e)}return a(e)}function c(i){if(s===n.length){if(!r)return d(i);if(r.currentConstruct&&r.currentConstruct.concrete)return p(i);t.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(v_,u,h)(i)}function u(e){return r&&v(),y(s),d(e)}function h(e){return t.parser.lazy[t.now().line]=s!==n.length,o=t.now().offset,p(e)}function d(n){return t.containerState={},e.attempt(v_,f,p)(n)}function f(e){return s++,n.push([t.currentConstruct,t.containerState]),d(e)}function p(n){return null===n?(r&&v(),y(0),void e.consume(n)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:i}),m(n))}function m(n){return null===n?(g(e.exit("chunkFlow"),!0),y(0),void e.consume(n)):c_(n)?(e.consume(n),g(e.exit("chunkFlow")),s=0,t.interrupt=void 0,a):(e.consume(n),m)}function g(e,n){const a=t.sliceStream(e);if(n&&a.push(null),e.previous=i,i&&(i.next=e),i=e,r.defineSkip(e.start),r.write(a),t.parser.lazy[e.start.line]){let e=r.events.length;for(;e--;)if(r.events[e][1].start.offset<o&&(!r.events[e][1].end||r.events[e][1].end.offset>o))return;const n=t.events.length;let i,a,l=n;for(;l--;)if("exit"===t.events[l][0]&&"chunkFlow"===t.events[l][1].type){if(i){a=t.events[l][1].end;break}i=!0}for(y(s),e=n;e<t.events.length;)t.events[e][1].end={...a},e++;WC(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function y(r){let i=n.length;for(;i-- >r;){const r=n[i];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function v(){r.write([null]),i=void 0,r=void 0,t.containerState._closeFlow=void 0}}},v_={tokenize:function(e,t,n){return m_(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};const w_={partial:!0,tokenize:function(e,t,n){return function(t){return h_(t)?m_(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||c_(e)?t(e):n(e)}}};const b_={resolve:function(e){return JC(e),e},tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?i(t):c_(t)?e.check(E_,o,i)(t):(e.consume(t),r)}function i(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function o(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}},E_={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),m_(e,i,"linePrefix")};function i(i){if(null===i||c_(i))return n(i);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}}};const S_={tokenize:function(e){const t=this,n=e.attempt(w_,(function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}),e.attempt(this.parser.constructs.flowInitial,r,m_(e,e.attempt(this.parser.constructs.flow,r,e.attempt(b_,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};const x_={resolveAll:C_()},k_=I_("string"),T_=I_("text");function I_(e){return{resolveAll:C_("text"===e?__:void 0),tokenize:function(t){const n=this,r=this.parser.constructs[e],i=t.attempt(r,o,s);return o;function o(e){return l(e)?i(e):s(e)}function s(e){if(null!==e)return t.enter("data"),t.consume(e),a;t.consume(e)}function a(e){return l(e)?(t.exit("data"),i(e)):(t.consume(e),a)}function l(e){if(null===e)return!0;const t=r[e];let i=-1;if(t)for(;++i<t.length;){const e=t[i];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}}function C_(e){return function(t,n){let r,i=-1;for(;++i<=t.length;)void 0===r?t[i]&&"data"===t[i][1].type&&(r=i,i++):t[i]&&"data"===t[i][1].type||(i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),i=r+2),r=void 0);return e?e(t,n):t}}function __(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const r=e[n-1][1],i=t.sliceStream(r);let o,s=i.length,a=-1,l=0;for(;s--;){const e=i[s];if("string"===typeof e){for(a=e.length;32===e.charCodeAt(a-1);)l++,a--;if(a)break;a=-1}else if(-2===e)o=!0,l++;else if(-1!==e){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const i={type:n===e.length||o||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...i.start},r.start.offset===r.end.offset?Object.assign(r,i):(e.splice(n,0,["enter",i,t],["exit",i,t]),n+=2)}n++}return e}const A_={name:"thematicBreak",tokenize:function(e,t,n){let r,i=0;return function(t){return e.enter("thematicBreak"),function(e){return r=e,o(e)}(t)};function o(o){return o===r?(e.enter("thematicBreakSequence"),s(o)):i>=3&&(null===o||c_(o))?(e.exit("thematicBreak"),t(o)):n(o)}function s(t){return t===r?(e.consume(t),i++,s):(e.exit("thematicBreakSequence"),h_(t)?m_(e,o,"whitespace")(t):o(t))}}};const P_={continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(w_,i,o);function i(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,m_(e,t,"listItemIndent",r.containerState.size+1)(n)}function o(n){return r.containerState.furtherBlankLines||!h_(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(R_,t,s)(n))}function s(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,m_(e,e.attempt(P_,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,s=0;return function(t){const i=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===i?!r.containerState.marker||t===r.containerState.marker:s_(t)){if(r.containerState.type||(r.containerState.type=i,e.enter(i,{_container:!0})),"listUnordered"===i)return e.enter("listItemPrefix"),42===t||45===t?e.check(A_,n,l)(t):l(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(t)}return n(t)};function a(t){return s_(t)&&++s<10?(e.consume(t),a):(!r.interrupt||s<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(w_,r.interrupt?n:c,e.attempt(N_,h,u))}function c(e){return r.containerState.initialBlankLine=!0,o++,h(e)}function u(t){return h_(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),h):n(t)}function h(n){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}}},N_={partial:!0,tokenize:function(e,t,n){const r=this;return m_(e,(function(e){const i=r.events[r.events.length-1];return!h_(e)&&i&&"listItemPrefixWhitespace"===i[1].type?t(e):n(e)}),"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},R_={partial:!0,tokenize:function(e,t,n){const r=this;return m_(e,(function(e){const i=r.events[r.events.length-1];return i&&"listItemIndent"===i[1].type&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(e):n(e)}),"listItemIndent",r.containerState.size+1)}};const L_={continuation:{tokenize:function(e,t,n){const r=this;return function(t){if(h_(t))return m_(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return i(t)};function i(r){return e.attempt(L_,t,n)(r)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(t){if(62===t){const n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),i}return n(t)};function i(n){return h_(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}}};function D_(e,t,n,r,i,o,s,a,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return function(t){if(60===t)return e.enter(r),e.enter(i),e.enter(o),e.consume(t),e.exit(o),h;if(null===t||32===t||41===t||o_(t))return n(t);return e.enter(r),e.enter(s),e.enter(a),e.enter("chunkString",{contentType:"string"}),p(t)};function h(n){return 62===n?(e.enter(o),e.consume(n),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),d(n))}function d(t){return 62===t?(e.exit("chunkString"),e.exit(a),h(t)):null===t||60===t||c_(t)?n(t):(e.consume(t),92===t?f:d)}function f(t){return 60===t||62===t||92===t?(e.consume(t),d):d(t)}function p(i){return u||null!==i&&41!==i&&!u_(i)?u<c&&40===i?(e.consume(i),u++,p):41===i?(e.consume(i),u--,p):null===i||32===i||40===i||o_(i)?n(i):(e.consume(i),92===i?m:p):(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(r),t(i))}function m(t){return 40===t||41===t||92===t?(e.consume(t),p):p(t)}}function O_(e,t,n,r,i,o){const s=this;let a,l=0;return function(t){return e.enter(r),e.enter(i),e.consume(t),e.exit(i),e.enter(o),c};function c(h){return l>999||null===h||91===h||93===h&&!a||94===h&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?n(h):93===h?(e.exit(o),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):c_(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),u(h))}function u(t){return null===t||91===t||93===t||c_(t)||l++>999?(e.exit("chunkString"),c(t)):(e.consume(t),a||(a=!h_(t)),92===t?h:u)}function h(t){return 91===t||92===t||93===t?(e.consume(t),l++,u):u(t)}}function M_(e,t,n,r,i,o){let s;return function(t){if(34===t||39===t||40===t)return e.enter(r),e.enter(i),e.consume(t),e.exit(i),s=40===t?41:t,a;return n(t)};function a(n){return n===s?(e.enter(i),e.consume(n),e.exit(i),e.exit(r),t):(e.enter(o),l(n))}function l(t){return t===s?(e.exit(o),a(s)):null===t?n(t):c_(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),m_(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return t===s||null===t||c_(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?u:c)}function u(t){return t===s||92===t?(e.consume(t),c):c(t)}}function j_(e,t){let n;return function r(i){if(c_(i))return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r;if(h_(i))return m_(e,r,n?"linePrefix":"lineSuffix")(i);return t(i)}}function F_(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const U_={name:"definition",tokenize:function(e,t,n){const r=this;let i;return function(t){return e.enter("definition"),function(t){return O_.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function o(t){return i=F_(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),s):n(t)}function s(t){return u_(t)?j_(e,a)(t):a(t)}function a(t){return D_(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(V_,c,c)(t)}function c(t){return h_(t)?m_(e,u,"whitespace")(t):u(t)}function u(o){return null===o||c_(o)?(e.exit("definition"),r.parser.defined.push(i),t(o)):n(o)}}},V_={partial:!0,tokenize:function(e,t,n){return function(t){return u_(t)?j_(e,r)(t):n(t)};function r(t){return M_(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function i(t){return h_(t)?m_(e,o,"whitespace")(t):o(t)}function o(e){return null===e||c_(e)?t(e):n(e)}}};const B_={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("codeIndented"),m_(e,i,"linePrefix",5)(t)};function i(e){const t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?o(e):n(e)}function o(t){return null===t?a(t):c_(t)?e.attempt(z_,o,a)(t):(e.enter("codeFlowValue"),s(t))}function s(t){return null===t||c_(t)?(e.exit("codeFlowValue"),o(t)):(e.consume(t),s)}function a(n){return e.exit("codeIndented"),t(n)}}},z_={partial:!0,tokenize:function(e,t,n){const r=this;return i;function i(t){return r.parser.lazy[r.now().line]?n(t):c_(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i):m_(e,o,"linePrefix",5)(t)}function o(e){const o=r.events[r.events.length-1];return o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?t(e):c_(e)?i(e):n(e)}}};const $_={name:"headingAtx",resolve:function(e,t){let n,r,i=e.length-2,o=3;"whitespace"===e[o][1].type&&(o+=2);i-2>o&&"whitespace"===e[i][1].type&&(i-=2);"atxHeadingSequence"===e[i][1].type&&(o===i-1||i-4>o&&"whitespace"===e[i-2][1].type)&&(i-=o+1===i?2:4);i>o&&(n={type:"atxHeadingText",start:e[o][1].start,end:e[i][1].end},r={type:"chunkText",start:e[o][1].start,end:e[i][1].end,contentType:"text"},WC(e,o,i-o+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e},tokenize:function(e,t,n){let r=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),i(t)}(t)};function i(t){return 35===t&&r++<6?(e.consume(t),i):null===t||u_(t)?(e.exit("atxHeadingSequence"),o(t)):n(t)}function o(n){return 35===n?(e.enter("atxHeadingSequence"),s(n)):null===n||c_(n)?(e.exit("atxHeading"),t(n)):h_(n)?m_(e,o,"whitespace")(n):(e.enter("atxHeadingText"),a(n))}function s(t){return 35===t?(e.consume(t),s):(e.exit("atxHeadingSequence"),o(t))}function a(t){return null===t||35===t||u_(t)?(e.exit("atxHeadingText"),o(t)):(e.consume(t),a)}}};const q_={name:"setextUnderline",resolveTo:function(e,t){let n,r,i,o=e.length;for(;o--;)if("enter"===e[o][0]){if("content"===e[o][1].type){n=o;break}"paragraph"===e[o][1].type&&(r=o)}else"content"===e[o][1].type&&e.splice(o,1),i||"definition"!==e[o][1].type||(i=o);const s={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};e[r][1].type="setextHeadingText",i?(e.splice(r,0,["enter",s,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end={...e[i][1].end}):e[n][1]=s;return e.push(["exit",s,t]),e},tokenize:function(e,t,n){const r=this;let i;return function(t){let s,a=r.events.length;for(;a--;)if("lineEnding"!==r.events[a][1].type&&"linePrefix"!==r.events[a][1].type&&"content"!==r.events[a][1].type){s="paragraph"===r.events[a][1].type;break}if(!r.parser.lazy[r.now().line]&&(r.interrupt||s))return e.enter("setextHeadingLine"),i=t,function(t){return e.enter("setextHeadingLineSequence"),o(t)}(t);return n(t)};function o(t){return t===i?(e.consume(t),o):(e.exit("setextHeadingLineSequence"),h_(t)?m_(e,s,"lineSuffix")(t):s(t))}function s(r){return null===r||c_(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}}};const G_=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],H_=["pre","script","style","textarea"],W_={concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},tokenize:function(e,t,n){const r=this;let i,o,s,a,l;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),c}(t)};function c(a){return 33===a?(e.consume(a),u):47===a?(e.consume(a),o=!0,f):63===a?(e.consume(a),i=3,r.interrupt?t:D):n_(a)?(e.consume(a),s=String.fromCharCode(a),p):n(a)}function u(o){return 45===o?(e.consume(o),i=2,h):91===o?(e.consume(o),i=5,a=0,d):n_(o)?(e.consume(o),i=4,r.interrupt?t:D):n(o)}function h(i){return 45===i?(e.consume(i),r.interrupt?t:D):n(i)}function d(i){const o="CDATA[";return i===o.charCodeAt(a++)?(e.consume(i),6===a?r.interrupt?t:I:d):n(i)}function f(t){return n_(t)?(e.consume(t),s=String.fromCharCode(t),p):n(t)}function p(a){if(null===a||47===a||62===a||u_(a)){const l=47===a,c=s.toLowerCase();return l||o||!H_.includes(c)?G_.includes(s.toLowerCase())?(i=6,l?(e.consume(a),m):r.interrupt?t(a):I(a)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(a):o?g(a):y(a)):(i=1,r.interrupt?t(a):I(a))}return 45===a||r_(a)?(e.consume(a),s+=String.fromCharCode(a),p):n(a)}function m(i){return 62===i?(e.consume(i),r.interrupt?t:I):n(i)}function g(t){return h_(t)?(e.consume(t),g):k(t)}function y(t){return 47===t?(e.consume(t),k):58===t||95===t||n_(t)?(e.consume(t),v):h_(t)?(e.consume(t),y):k(t)}function v(t){return 45===t||46===t||58===t||95===t||r_(t)?(e.consume(t),v):w(t)}function w(t){return 61===t?(e.consume(t),b):h_(t)?(e.consume(t),w):y(t)}function b(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,E):h_(t)?(e.consume(t),b):S(t)}function E(t){return t===l?(e.consume(t),l=null,x):null===t||c_(t)?n(t):(e.consume(t),E)}function S(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||u_(t)?w(t):(e.consume(t),S)}function x(e){return 47===e||62===e||h_(e)?y(e):n(e)}function k(t){return 62===t?(e.consume(t),T):n(t)}function T(t){return null===t||c_(t)?I(t):h_(t)?(e.consume(t),T):n(t)}function I(t){return 45===t&&2===i?(e.consume(t),P):60===t&&1===i?(e.consume(t),N):62===t&&4===i?(e.consume(t),O):63===t&&3===i?(e.consume(t),D):93===t&&5===i?(e.consume(t),L):!c_(t)||6!==i&&7!==i?null===t||c_(t)?(e.exit("htmlFlowData"),C(t)):(e.consume(t),I):(e.exit("htmlFlowData"),e.check(K_,M,C)(t))}function C(t){return e.check(Y_,_,M)(t)}function _(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),A}function A(t){return null===t||c_(t)?C(t):(e.enter("htmlFlowData"),I(t))}function P(t){return 45===t?(e.consume(t),D):I(t)}function N(t){return 47===t?(e.consume(t),s="",R):I(t)}function R(t){if(62===t){const n=s.toLowerCase();return H_.includes(n)?(e.consume(t),O):I(t)}return n_(t)&&s.length<8?(e.consume(t),s+=String.fromCharCode(t),R):I(t)}function L(t){return 93===t?(e.consume(t),D):I(t)}function D(t){return 62===t?(e.consume(t),O):45===t&&2===i?(e.consume(t),D):I(t)}function O(t){return null===t||c_(t)?(e.exit("htmlFlowData"),M(t)):(e.consume(t),O)}function M(n){return e.exit("htmlFlow"),t(n)}}},K_={partial:!0,tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(w_,t,n)}}},Y_={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(c_(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i;return n(t)};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}};const Q_={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}},J_={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){const r=this,i={partial:!0,tokenize:function(e,t,n){let i=0;return s;function s(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l}function l(t){return e.enter("codeFencedFence"),h_(t)?m_(e,c,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):c(t)}function c(t){return t===o?(e.enter("codeFencedFenceSequence"),u(t)):n(t)}function u(t){return t===o?(i++,e.consume(t),u):i>=a?(e.exit("codeFencedFenceSequence"),h_(t)?m_(e,h,"whitespace")(t):h(t)):n(t)}function h(r){return null===r||c_(r)?(e.exit("codeFencedFence"),t(r)):n(r)}}};let o,s=0,a=0;return function(t){return function(t){const n=r.events[r.events.length-1];return s=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,o=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(t)}(t)};function l(t){return t===o?(a++,e.consume(t),l):a<3?n(t):(e.exit("codeFencedFenceSequence"),h_(t)?m_(e,c,"whitespace")(t):c(t))}function c(n){return null===n||c_(n)?(e.exit("codeFencedFence"),r.interrupt?t(n):e.check(Q_,f,v)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),u(n))}function u(t){return null===t||c_(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(t)):h_(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),m_(e,h,"whitespace")(t)):96===t&&t===o?n(t):(e.consume(t),u)}function h(t){return null===t||c_(t)?c(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),d(t))}function d(t){return null===t||c_(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(t)):96===t&&t===o?n(t):(e.consume(t),d)}function f(t){return e.attempt(i,v,p)(t)}function p(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),m}function m(t){return s>0&&h_(t)?m_(e,g,"linePrefix",s+1)(t):g(t)}function g(t){return null===t||c_(t)?e.check(Q_,f,v)(t):(e.enter("codeFlowValue"),y(t))}function y(t){return null===t||c_(t)?(e.exit("codeFlowValue"),g(t)):(e.consume(t),y)}function v(n){return e.exit("codeFenced"),t(n)}}};const X_=document.createElement("i");function Z_(e){const t="&"+e+";";X_.innerHTML=t;const n=X_.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}const eA={name:"characterReference",tokenize:function(e,t,n){const r=this;let i,o,s=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),a};function a(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),i=31,o=r_,c(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=a_,c):(e.enter("characterReferenceValue"),i=7,o=s_,c(t))}function c(a){if(59===a&&s){const i=e.exit("characterReferenceValue");return o!==r_||Z_(r.sliceSerialize(i))?(e.enter("characterReferenceMarker"),e.consume(a),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(a)}return o(a)&&s++<i?(e.consume(a),c):n(a)}}};const tA={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return l_(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};const nA={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),m_(e,t,"linePrefix")}}};function rA(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const iA={name:"labelEnd",resolveAll:function(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),"labelImage"===r.type||"labelLink"===r.type||"labelEnd"===r.type){const e="labelImage"===r.type?4:2;r.type="data",t+=e}}e.length!==n.length&&WC(e,0,e.length,n);return e},resolveTo:function(e,t){let n,r,i,o,s=e.length,a=0;for(;s--;)if(n=e[s][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[s][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(i){if("enter"===e[s][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=s,"labelLink"!==n.type)){a=2;break}}else"labelEnd"===n.type&&(i=s);const l={type:"labelLink"===e[r][1].type?"link":"image",start:{...e[r][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[r][1].start},end:{...e[i][1].end}},u={type:"labelText",start:{...e[r+a+2][1].end},end:{...e[i-2][1].start}};return o=[["enter",l,t],["enter",c,t]],o=KC(o,e.slice(r+1,r+a+3)),o=KC(o,[["enter",u,t]]),o=KC(o,rA(t.parser.constructs.insideSpan.null,e.slice(r+a+4,i-3),t)),o=KC(o,[["exit",u,t],e[i-2],e[i-1],["exit",c,t]]),o=KC(o,e.slice(i+1)),o=KC(o,[["exit",l,t]]),WC(e,r,e.length,o),e},tokenize:function(e,t,n){const r=this;let i,o,s=r.events.length;for(;s--;)if(("labelImage"===r.events[s][1].type||"labelLink"===r.events[s][1].type)&&!r.events[s][1]._balanced){i=r.events[s][1];break}return function(t){if(!i)return n(t);if(i._inactive)return u(t);return o=r.parser.defined.includes(F_(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),a};function a(t){return 40===t?e.attempt(oA,c,o?c:u)(t):91===t?e.attempt(sA,c,o?l:u)(t):o?c(t):u(t)}function l(t){return e.attempt(aA,c,u)(t)}function c(e){return t(e)}function u(e){return i._balanced=!0,n(e)}}},oA={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return u_(t)?j_(e,i)(t):i(t)}function i(t){return 41===t?c(t):D_(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function o(t){return u_(t)?j_(e,a)(t):c(t)}function s(e){return n(e)}function a(t){return 34===t||39===t||40===t?M_(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):c(t)}function l(t){return u_(t)?j_(e,c)(t):c(t)}function c(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},sA={tokenize:function(e,t,n){const r=this;return function(t){return O_.call(r,e,i,o,"reference","referenceMarker","referenceString")(t)};function i(e){return r.parser.defined.includes(F_(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function o(e){return n(e)}}},aA={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};const lA={name:"labelStartImage",resolveAll:iA.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),i};function i(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),o):n(t)}function o(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};function cA(e){return null===e||u_(e)||f_(e)?1:d_(e)?2:void 0}const uA={name:"attention",resolveAll:function(e,t){let n,r,i,o,s,a,l,c,u=-1;for(;++u<e.length;)if("enter"===e[u][0]&&"attentionSequence"===e[u][1].type&&e[u][1]._close)for(n=u;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[u][1]).charCodeAt(0)){if((e[n][1]._close||e[u][1]._open)&&(e[u][1].end.offset-e[u][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[u][1].end.offset-e[u][1].start.offset)%3))continue;a=e[n][1].end.offset-e[n][1].start.offset>1&&e[u][1].end.offset-e[u][1].start.offset>1?2:1;const h={...e[n][1].end},d={...e[u][1].start};hA(h,-a),hA(d,a),o={type:a>1?"strongSequence":"emphasisSequence",start:h,end:{...e[n][1].end}},s={type:a>1?"strongSequence":"emphasisSequence",start:{...e[u][1].start},end:d},i={type:a>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[u][1].start}},r={type:a>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[n][1].end={...o.start},e[u][1].start={...s.end},l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=KC(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=KC(l,[["enter",r,t],["enter",o,t],["exit",o,t],["enter",i,t]]),l=KC(l,rA(t.parser.constructs.insideSpan.null,e.slice(n+1,u),t)),l=KC(l,[["exit",i,t],["enter",s,t],["exit",s,t],["exit",r,t]]),e[u][1].end.offset-e[u][1].start.offset?(c=2,l=KC(l,[["enter",e[u][1],t],["exit",e[u][1],t]])):c=0,WC(e,n-1,u-n+3,l),u=n+l.length-c-2;break}u=-1;for(;++u<e.length;)"attentionSequence"===e[u][1].type&&(e[u][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=cA(r);let o;return function(t){return o=t,e.enter("attentionSequence"),s(t)};function s(a){if(a===o)return e.consume(a),s;const l=e.exit("attentionSequence"),c=cA(a),u=!c||2===c&&i||n.includes(a),h=!i||2===i&&c||n.includes(r);return l._open=Boolean(42===o?u:u&&(i||!h)),l._close=Boolean(42===o?h:h&&(c||!u)),t(a)}}};function hA(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const dA={name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i};function i(t){return n_(t)?(e.consume(t),o):64===t?n(t):l(t)}function o(e){return 43===e||45===e||46===e||r_(e)?(r=1,s(e)):l(e)}function s(t){return 58===t?(e.consume(t),r=0,a):(43===t||45===t||46===t||r_(t))&&r++<32?(e.consume(t),s):(r=0,l(t))}function a(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||o_(r)?n(r):(e.consume(r),a)}function l(t){return 64===t?(e.consume(t),c):i_(t)?(e.consume(t),l):n(t)}function c(e){return r_(e)?u(e):n(e)}function u(n){return 46===n?(e.consume(n),r=0,c):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):h(n)}function h(t){if((45===t||r_(t))&&r++<63){const n=45===t?h:u;return e.consume(t),n}return n(t)}}};const fA={name:"htmlText",tokenize:function(e,t,n){const r=this;let i,o,s;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),a};function a(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),b):63===t?(e.consume(t),v):n_(t)?(e.consume(t),x):n(t)}function l(t){return 45===t?(e.consume(t),c):91===t?(e.consume(t),o=0,f):n_(t)?(e.consume(t),y):n(t)}function c(t){return 45===t?(e.consume(t),d):n(t)}function u(t){return null===t?n(t):45===t?(e.consume(t),h):c_(t)?(s=u,R(t)):(e.consume(t),u)}function h(t){return 45===t?(e.consume(t),d):u(t)}function d(e){return 62===e?N(e):45===e?h(e):u(e)}function f(t){const r="CDATA[";return t===r.charCodeAt(o++)?(e.consume(t),6===o?p:f):n(t)}function p(t){return null===t?n(t):93===t?(e.consume(t),m):c_(t)?(s=p,R(t)):(e.consume(t),p)}function m(t){return 93===t?(e.consume(t),g):p(t)}function g(t){return 62===t?N(t):93===t?(e.consume(t),g):p(t)}function y(t){return null===t||62===t?N(t):c_(t)?(s=y,R(t)):(e.consume(t),y)}function v(t){return null===t?n(t):63===t?(e.consume(t),w):c_(t)?(s=v,R(t)):(e.consume(t),v)}function w(e){return 62===e?N(e):v(e)}function b(t){return n_(t)?(e.consume(t),E):n(t)}function E(t){return 45===t||r_(t)?(e.consume(t),E):S(t)}function S(t){return c_(t)?(s=S,R(t)):h_(t)?(e.consume(t),S):N(t)}function x(t){return 45===t||r_(t)?(e.consume(t),x):47===t||62===t||u_(t)?k(t):n(t)}function k(t){return 47===t?(e.consume(t),N):58===t||95===t||n_(t)?(e.consume(t),T):c_(t)?(s=k,R(t)):h_(t)?(e.consume(t),k):N(t)}function T(t){return 45===t||46===t||58===t||95===t||r_(t)?(e.consume(t),T):I(t)}function I(t){return 61===t?(e.consume(t),C):c_(t)?(s=I,R(t)):h_(t)?(e.consume(t),I):k(t)}function C(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),i=t,_):c_(t)?(s=C,R(t)):h_(t)?(e.consume(t),C):(e.consume(t),A)}function _(t){return t===i?(e.consume(t),i=void 0,P):null===t?n(t):c_(t)?(s=_,R(t)):(e.consume(t),_)}function A(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||u_(t)?k(t):(e.consume(t),A)}function P(e){return 47===e||62===e||u_(e)?k(e):n(e)}function N(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function R(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),L}function L(t){return h_(t)?m_(e,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):D(t)}function D(t){return e.enter("htmlTextData"),s(t)}}};const pA={name:"labelStartLink",resolveAll:iA.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),i};function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};const mA={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return c_(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}};const gA={name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,n,r=e.length-4,i=3;if(("lineEnding"===e[i][1].type||"space"===e[i][1].type)&&("lineEnding"===e[r][1].type||"space"===e[r][1].type))for(t=i;++t<r;)if("codeTextData"===e[t][1].type){e[i][1].type="codeTextPadding",e[r][1].type="codeTextPadding",i+=2,r-=2;break}t=i-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){let r,i,o=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),s(t)};function s(t){return 96===t?(e.consume(t),o++,s):(e.exit("codeTextSequence"),a(t))}function a(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),a):96===t?(i=e.enter("codeTextSequence"),r=0,c(t)):c_(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||c_(t)?(e.exit("codeTextData"),a(t)):(e.consume(t),l)}function c(n){return 96===n?(e.consume(n),r++,c):r===o?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(i.type="codeTextData",l(n))}}};const yA={42:P_,43:P_,45:P_,48:P_,49:P_,50:P_,51:P_,52:P_,53:P_,54:P_,55:P_,56:P_,57:P_,62:L_},vA={91:U_},wA={[-2]:B_,[-1]:B_,32:B_},bA={35:$_,42:A_,45:[q_,A_],60:W_,61:q_,95:A_,96:J_,126:J_},EA={38:eA,92:tA},SA={[-5]:nA,[-4]:nA,[-3]:nA,33:lA,38:eA,42:uA,60:[dA,fA],91:pA,92:[mA,tA],93:iA,95:uA,96:gA},xA={null:[uA,x_]},kA={null:[42,95]},TA={null:[]};function IA(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let s=[],a=[],l=!0;const c={attempt:v((function(e,t){w(e,t.from)})),check:v(y),consume:function(e){c_(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,b()):-1!==e&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++));u.previous=e,l=!0},enter:function(e,t){const n=t||{};return n.type=e,n.start=p(),u.events.push(["enter",n,u]),a.push(n),n},exit:function(e){const t=a.pop();return t.end=p(),u.events.push(["exit",t,u]),t},interrupt:v(y,{interrupt:!0})},u={code:null,containerState:{},defineSkip:function(e){i[e.line]=e.column,b()},events:[],now:p,parser:e,previous:null,sliceSerialize:function(e,t){return function(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let s;if("string"===typeof o)s=o;else switch(o){case-5:s="\r";break;case-4:s="\n";break;case-3:s="\r\n";break;case-2:s=t?" ":"\t";break;case-1:if(!t&&i)continue;s=" ";break;default:s=String.fromCharCode(o)}i=-2===o,r.push(s)}return r.join("")}(f(e),t)},sliceStream:f,write:function(e){if(s=KC(s,e),m(),null!==s[s.length-1])return[];return w(t,0),u.events=rA(o,u.events,u),u.events}};let h,d=t.tokenize.call(u,c);return t.resolveAll&&o.push(t),u;function f(e){return function(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,o)];else{if(s=e.slice(n,i),r>-1){const e=s[0];"string"===typeof e?s[0]=e.slice(r):s.shift()}o>0&&s.push(e[i].slice(0,o))}return s}(s,e)}function p(){const{_bufferIndex:e,_index:t,line:n,column:i,offset:o}=r;return{_bufferIndex:e,_index:t,line:n,column:i,offset:o}}function m(){let e;for(;r._index<s.length;){const t=s[r._index];if("string"===typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)g(t.charCodeAt(r._bufferIndex));else g(t)}}function g(e){l=void 0,h=e,d=d(e)}function y(e,t){t.restore()}function v(e,t){return function(n,i,o){let s,h,d,f;return Array.isArray(n)?m(n):"tokenize"in n?m([n]):function(e){return t;function t(t){const n=null!==t&&e[t],r=null!==t&&e.null;return m([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(t)}}(n);function m(e){return s=e,h=0,0===e.length?o:g(e[h])}function g(e){return function(n){f=function(){const e=p(),t=u.previous,n=u.currentConstruct,i=u.events.length,o=Array.from(a);return{from:i,restore:s};function s(){r=e,u.previous=t,u.currentConstruct=n,u.events.length=i,a=o,b()}}(),d=e,e.partial||(u.currentConstruct=e);if(e.name&&u.parser.constructs.disable.null.includes(e.name))return v(n);return e.tokenize.call(t?Object.assign(Object.create(u),t):u,c,y,v)(n)}}function y(t){return l=!0,e(d,f),i}function v(e){return l=!0,f.restore(),++h<s.length?g(s[h]):o}}}function w(e,t){e.resolveAll&&!o.includes(e)&&o.push(e),e.resolve&&WC(u.events,t,u.events.length-t,e.resolve(u.events.slice(t),u)),e.resolveTo&&(u.events=e.resolveTo(u.events,u))}function b(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function CA(e){const n=function(e){const t={};let n=-1;for(;++n<e.length;)e_(t,e[n]);return t}([t,...(e||{}).extensions||[]]),r={constructs:n,content:i(g_),defined:[],document:i(y_),flow:i(S_),lazy:{},string:i(k_),text:i(T_)};return r;function i(e){return function(t){return IA(r,e,t)}}}const _A=/[\0\t\n\r]/g;function AA(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535===(65535&n)||65534===(65535&n)||n>1114111?"\ufffd":String.fromCodePoint(n)}const PA=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function NA(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return AA(n.slice(t?2:1),t?16:10)}return Z_(n)||e}const RA={}.hasOwnProperty;function LA(e,t,n){return"string"!==typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(te),autolinkProtocol:T,autolinkEmail:T,atxHeading:o(J),blockQuote:o(H),characterEscape:T,characterReference:T,codeFenced:o(W),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(W,s),codeText:o(K,s),codeTextData:T,data:T,codeFlowValue:T,definition:o(Y),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(Q),hardBreakEscape:o(X),hardBreakTrailing:o(X),htmlFlow:o(Z,s),htmlFlowData:T,htmlText:o(Z,s),htmlTextData:T,image:o(ee),label:s,link:o(te),listItem:o(re),listItemValue:d,listOrdered:o(ne,h),listUnordered:o(ne),paragraph:o(ie),reference:U,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(J),strong:o(oe),thematicBreak:o(ae)},exit:{atxHeading:l(),atxHeadingSequence:E,autolink:l(),autolinkEmail:G,autolinkProtocol:q,blockQuote:l(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:B,characterReferenceMarkerNumeric:B,characterReferenceValue:z,characterReference:$,codeFenced:l(g),codeFencedFence:m,codeFencedFenceInfo:f,codeFencedFenceMeta:p,codeFlowValue:I,codeIndented:l(y),codeText:l(N),codeTextData:I,data:I,definition:l(),definitionDestinationString:b,definitionLabelString:v,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(_),hardBreakTrailing:l(_),htmlFlow:l(A),htmlFlowData:I,htmlText:l(P),htmlTextData:I,image:l(L),label:O,labelText:D,lineEnding:C,link:l(R),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:V,resourceDestinationString:M,resourceTitleString:j,resource:F,setextHeading:l(k),setextHeadingLineSequence:x,setextHeadingText:S,strong:l(),thematicBreak:l()}};OA(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(e){let r={type:"root",children:[]};const o={stack:[r],tokenStack:[],config:t,enter:a,exit:c,buffer:s,resume:u,data:n},l=[];let h=-1;for(;++h<e.length;)if("listOrdered"===e[h][1].type||"listUnordered"===e[h][1].type)if("enter"===e[h][0])l.push(h);else{h=i(e,l.pop(),h)}for(h=-1;++h<e.length;){const n=t[e[h][0]];RA.call(n,e[h][1].type)&&n[e[h][1].type].call(Object.assign({sliceSerialize:e[h][2].sliceSerialize},o),e[h][1])}if(o.tokenStack.length>0){const e=o.tokenStack[o.tokenStack.length-1];(e[1]||jA).call(o,void 0,e[0])}for(r.position={start:DA(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:DA(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},h=-1;++h<t.transforms.length;)r=t.transforms[h](r)||r;return r}function i(e,t,n){let r,i,o,s,a=t-1,l=-1,c=!1;for(;++a<=n;){const t=e[a];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?l++:l--,s=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!r||s||l||o||(o=a),s=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:s=void 0}if(!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let s=a;for(i=void 0;s--;){const t=e[s];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;i&&(e[i][1].type="lineEndingBlank",c=!0),t[1].type="lineEnding",i=s}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}o&&(!i||o<i)&&(r._spread=!0),r.end=Object.assign({},i?e[i][1].start:t[1].end),e.splice(i||a,0,["exit",r,t[2]]),a++,n++}if("listItemPrefix"===t[1].type){const i={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};r=i,e.splice(a,0,["enter",i,t[2]]),a++,n++,o=void 0,s=!0}}}return e[t][1]._spread=c,n}function o(e,t){return n;function n(n){a.call(this,e(n),n),t&&t.call(this,n)}}function s(){this.stack.push({type:"fragment",children:[]})}function a(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:DA(t.start),end:void 0}}function l(e){return t;function t(t){e&&e.call(this,t),c.call(this,t)}}function c(e,t){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+SC({start:e.start,end:e.end})+"): it\u2019s not open");if(r[0].type!==e.type)if(t)t.call(this,e,r[0]);else{(r[1]||jA).call(this,e,r[0])}n.position.end=DA(e.end)}function u(){return function(e,t){const n=t||qC;return GC(e,"boolean"!==typeof n.includeImageAlt||n.includeImageAlt,"boolean"!==typeof n.includeHtml||n.includeHtml)}(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function d(e){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function f(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function p(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function v(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=F_(this.sliceSerialize(e)).toLowerCase()}function w(){const e=this.resume();this.stack[this.stack.length-1].title=e}function b(){const e=this.resume();this.stack[this.stack.length-1].url=e}function E(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function x(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function T(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];n&&"text"===n.type||(n=se(),n.position={start:DA(e.start),end:void 0},t.push(n)),this.stack.push(n)}function I(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=DA(e.end)}function C(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak){return n.children[n.children.length-1].position.end=DA(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(T.call(this,e),I.call(this,e))}function _(){this.data.atHardBreak=!0}function A(){const e=this.resume();this.stack[this.stack.length-1].value=e}function P(){const e=this.resume();this.stack[this.stack.length-1].value=e}function N(){const e=this.resume();this.stack[this.stack.length-1].value=e}function R(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function L(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function D(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(PA,NA)}(t),n.identifier=F_(t).toLowerCase()}function O(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function M(){const e=this.resume();this.stack[this.stack.length-1].url=e}function j(){const e=this.resume();this.stack[this.stack.length-1].title=e}function F(){this.data.inReference=void 0}function U(){this.data.referenceType="collapsed"}function V(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=F_(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function B(e){this.data.characterReferenceType=e.type}function z(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let r;if(n)r=AA(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0;else{r=Z_(t)}this.stack[this.stack.length-1].value+=r}function $(e){this.stack.pop().position.end=DA(e.end)}function q(e){I.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function G(e){I.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function H(){return{type:"blockquote",children:[]}}function W(){return{type:"code",lang:null,meta:null,value:""}}function K(){return{type:"inlineCode",value:""}}function Y(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Q(){return{type:"emphasis",children:[]}}function J(){return{type:"heading",depth:0,children:[]}}function X(){return{type:"break"}}function Z(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function ne(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function re(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function ie(){return{type:"paragraph",children:[]}}function oe(){return{type:"strong",children:[]}}function se(){return{type:"text",value:""}}function ae(){return{type:"thematicBreak"}}}(n)(function(e){for(;!JC(e););return e}(CA(n).document().write(function(){let e,t=1,n="",r=!0;return function(i,o,s){const a=[];let l,c,u,h,d;for(i=n+("string"===typeof i?i.toString():new TextDecoder(o||void 0).decode(i)),u=0,n="",r&&(65279===i.charCodeAt(0)&&u++,r=void 0);u<i.length;){if(_A.lastIndex=u,l=_A.exec(i),h=l&&void 0!==l.index?l.index:i.length,d=i.charCodeAt(h),!l){n=i.slice(u);break}if(10===d&&u===h&&e)a.push(-3),e=void 0;else switch(e&&(a.push(-5),e=void 0),u<h&&(a.push(i.slice(u,h)),t+=h-u),d){case 0:a.push(65533),t++;break;case 9:for(c=4*Math.ceil(t/4),a.push(-2);t++<c;)a.push(-1);break;case 10:a.push(-4),t=1;break;default:e=!0,t=1}u=h+1}return s&&(e&&a.push(-5),n&&a.push(n),a.push(null)),a}}()(e,t,!0))))}function DA(e){return{line:e.line,column:e.column,offset:e.offset}}function OA(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?OA(e,r):MA(e,r)}}function MA(e,t){let n;for(n in t)if(RA.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function jA(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+SC({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+SC({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+SC({start:t.start,end:t.end})+") is still open")}function FA(e){const t=this;t.parser=function(n){return LA(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}const UA="object"===typeof self?self:globalThis,VA=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),r=i=>{if(e.has(i))return e.get(i);const[o,s]=t[i];switch(o){case 0:case-1:return n(s,i);case 1:{const e=n([],i);for(const t of s)e.push(r(t));return e}case 2:{const e=n({},i);for(const[t,n]of s)e[r(t)]=r(n);return e}case 3:return n(new Date(s),i);case 4:{const{source:e,flags:t}=s;return n(new RegExp(e,t),i)}case 5:{const e=n(new Map,i);for(const[t,n]of s)e.set(r(t),r(n));return e}case 6:{const e=n(new Set,i);for(const t of s)e.add(r(t));return e}case 7:{const{name:e,message:t}=s;return n(new UA[e](t),i)}case 8:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:e}=new Uint8Array(s);return n(new DataView(e),s)}}return n(new UA[o](s),i)};return r})(new Map,e)(0),BA="",{toString:zA}={},{keys:$A}=Object,qA=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=zA.call(e).slice(8,-1);switch(n){case"Array":return[1,BA];case"Object":return[2,BA];case"Date":return[3,BA];case"RegExp":return[4,BA];case"Map":return[5,BA];case"Set":return[6,BA];case"DataView":return[1,n]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},GA=e=>{let[t,n]=e;return 0===t&&("function"===n||"symbol"===n)},HA=function(e){let{json:t,lossy:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];return((e,t,n,r)=>{const i=(e,t)=>{const i=r.push(e)-1;return n.set(t,i),i},o=r=>{if(n.has(r))return n.get(r);let[s,a]=qA(r);switch(s){case 0:{let t=r;switch(a){case"bigint":s=8,t=r.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);t=null;break;case"undefined":return i([-1],r)}return i([s,t],r)}case 1:{if(a){let e=r;return"DataView"===a?e=new Uint8Array(r.buffer):"ArrayBuffer"===a&&(e=new Uint8Array(r)),i([a,[...e]],r)}const e=[],t=i([s,e],r);for(const n of r)e.push(o(n));return t}case 2:{if(a)switch(a){case"BigInt":return i([a,r.toString()],r);case"Boolean":case"Number":case"String":return i([a,r.valueOf()],r)}if(t&&"toJSON"in r)return o(r.toJSON());const n=[],l=i([s,n],r);for(const t of $A(r))!e&&GA(qA(r[t]))||n.push([o(t),o(r[t])]);return l}case 3:return i([s,r.toISOString()],r);case 4:{const{source:e,flags:t}=r;return i([s,{source:e,flags:t}],r)}case 5:{const t=[],n=i([s,t],r);for(const[i,s]of r)(e||!GA(qA(i))&&!GA(qA(s)))&&t.push([o(i),o(s)]);return n}case 6:{const t=[],n=i([s,t],r);for(const i of r)!e&&GA(qA(i))||t.push(o(i));return n}}const{message:l}=r;return i([s,{name:a,message:l}],r)};return o})(!(t||n),!!t,new Map,r)(e),r},WA="function"===typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?VA(HA(e,t)):structuredClone(e):(e,t)=>VA(HA(e,t));function KA(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let s="";if(37===o&&r_(e.charCodeAt(n+1))&&r_(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const t=e.charCodeAt(n+1);o<56320&&t>56319&&t<57344?(s=String.fromCharCode(o,t),i=1):s="\ufffd"}else s=String.fromCharCode(o);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function YA(e,t){const n=[{type:"text",value:"\u21a9"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function QA(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const JA=function(e){if(null===e||void 0===e)return ZA;if("function"===typeof e)return XA(e);if("object"===typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=JA(e[n]);return XA(r);function r(){let e=-1;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(;++e<t.length;)if(t[e].apply(this,r))return!0;return!1}}(e):function(e){const t=e;return XA(n);function n(n){const r=n;let i;for(i in e)if(r[i]!==t[i])return!1;return!0}}(e);if("string"===typeof e)return function(e){return XA(t);function t(t){return t&&t.type===e}}(e);throw new Error("Expected function, string, or object as test")};function XA(e){return function(t,n,r){return Boolean(eP(t)&&e.call(this,t,"number"===typeof n?n:void 0,r||void 0))}}function ZA(){return!0}function eP(e){return null!==e&&"object"===typeof e&&"type"in e}const tP=[],nP=!0,rP=!1;function iP(e,t,n,r){let i;"function"===typeof t&&"function"!==typeof n?(r=n,n=t):i=t;const o=JA(i),s=r?-1:1;!function e(i,a,l){const c=i&&"object"===typeof i?i:{};if("string"===typeof c.type){const e="string"===typeof c.tagName?c.tagName:"string"===typeof c.name?c.name:void 0;Object.defineProperty(u,"name",{value:"node ("+i.type+(e?"<"+e+">":"")+")"})}return u;function u(){let c,u,h,d=tP;if((!t||o(i,a,l[l.length-1]||void 0))&&(d=function(e){if(Array.isArray(e))return e;if("number"===typeof e)return[nP,e];return null===e||void 0===e?tP:[e]}(n(i,l)),d[0]===rP))return d;if("children"in i&&i.children){const t=i;if(t.children&&"skip"!==d[0])for(u=(r?t.children.length:-1)+s,h=l.concat(t);u>-1&&u<t.children.length;){const n=t.children[u];if(c=e(n,u,h)(),c[0]===rP)return c;u="number"===typeof c[1]?c[1]:u+s}}return d}}(e,void 0,[])()}function oP(e,t,n,r){let i,o,s;"function"===typeof t&&"function"!==typeof n?(o=void 0,s=t,i=n):(o=t,s=n,i=r),iP(e,o,(function(e,t){const n=t[t.length-1],r=n?n.children.indexOf(e):void 0;return s(e,r,n)}),i)}function sP(e,t){const n=t.referenceType;let r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&"text"===o.type?o.value="["+o.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&"text"===s.type?s.value+=r:i.push({type:"text",value:r}),i}function aP(e){const t=e.spread;return null===t||void 0===t?e.children.length>1:t}function lP(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(cP(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(cP(t.slice(i),i>0,!1)),o.join("")}function cP(e,t,n){let r=0,i=e.length;if(t){let t=e.codePointAt(r);for(;9===t||32===t;)r++,t=e.codePointAt(r)}if(n){let t=e.codePointAt(i-1);for(;9===t||32===t;)i--,t=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}const uP={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=KA(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let s,a=e.footnoteCounts.get(r);void 0===a?(a=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=o+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return sP(e,t);const i={src:KA(r.url||""),alt:t.alt};null!==r.title&&void 0!==r.title&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)},image:function(e,t){const n={src:KA(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return sP(e,t);const i={href:KA(r.url||"")};null!==r.title&&void 0!==r.title&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)},link:function(e,t){const n={href:KA(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){const r=e.all(t),i=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=aP(n[r])}return t}(n):aP(t),o={},s=[];if("boolean"===typeof t.checked){const e=r[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},r.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const e=r[a];(i||0!==a||"element"!==e.type||"p"!==e.tagName)&&s.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||i?s.push(e):s.push(...e.children)}const l=r[r.length-1];l&&(i||"element"!==l.type||"p"!==l.tagName)&&s.push({type:"text",value:"\n"});const c={type:"element",tagName:"li",properties:o,children:s};return e.patch(t,c),e.applyData(t,c)},list:function(e,t){const n={},r=e.all(t);let i=-1;for("number"===typeof t.start&&1!==t.start&&(n.start=t.start);++i<r.length;){const e=r[i];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],n),i.push(n)}if(n.length>0){const r={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=bC(t.children[1]),s=wC(t.children[t.children.length-1]);o&&s&&(r.position={start:o,end:s}),i.push(r)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const r=n?n.children:void 0,i=0===(r?r.indexOf(t):1)?"th":"td",o=n&&"table"===n.type?n.align:void 0,s=o?o.length:t.children.length;let a=-1;const l=[];for(;++a<s;){const n=t.children[a],r={},s=o?o[a]:void 0;s&&(r.align=s);let c={type:"element",tagName:i,properties:r,children:[]};n&&(c.children=e.all(n),e.patch(n,c),c=e.applyData(n,c)),l.push(c)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)},text:function(e,t){const n={type:"text",value:lP(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:hP,yaml:hP,definition:hP,footnoteDefinition:hP};function hP(){}const dP={}.hasOwnProperty,fP={};function pP(e,t){e.position&&(t.position=function(e){const t=bC(e),n=wC(e);if(t&&n)return{start:t,end:n}}(e))}function mP(e,t){let n=t;if(e&&e.data){const t=e.data.hName,r=e.data.hChildren,i=e.data.hProperties;if("string"===typeof t)if("element"===n.type)n.tagName=t;else{n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}}"element"===n.type&&i&&Object.assign(n.properties,WA(i)),"children"in n&&n.children&&null!==r&&void 0!==r&&(n.children=r)}return n}function gP(e,t){const n=t.data||{},r=!("value"in t)||dP.call(n,"hProperties")||dP.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,r),e.applyData(t,r)}function yP(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function vP(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function wP(e,t){const n=function(e,t){const n=t||fP,r=new Map,i=new Map,o=new Map,s={...uP,...n.handlers},a={all:function(e){const t=[];if("children"in e){const n=e.children;let r=-1;for(;++r<n.length;){const i=a.one(n[r],e);if(i){if(r&&"break"===n[r-1].type&&(Array.isArray(i)||"text"!==i.type||(i.value=vP(i.value)),!Array.isArray(i)&&"element"===i.type)){const e=i.children[0];e&&"text"===e.type&&(e.value=vP(e.value))}Array.isArray(i)?t.push(...i):t.push(i)}}}return t},applyData:mP,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:s,one:function(e,t){const n=e.type,r=a.handlers[n];if(dP.call(a.handlers,n)&&r)return r(a,e,t);if(a.options.passThrough&&a.options.passThrough.includes(n)){if("children"in e){const{children:t,...n}=e,r=WA(n);return r.children=a.all(e),r}return WA(e)}return(a.options.unknownHandler||gP)(a,e,t)},options:n,patch:pP,wrap:yP};return oP(e,(function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?r:i,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}})),a}(e,t),r=n.one(e,void 0),i=function(e){const t="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||YA,r=e.options.footnoteBackLabel||QA,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const i=e.footnoteById.get(e.footnoteOrder[l]);if(!i)continue;const o=e.all(i),s=String(i.identifier).toUpperCase(),c=KA(s.toLowerCase());let u=0;const h=[],d=e.footnoteCounts.get(s);for(;void 0!==d&&++u<=d;){h.length>0&&h.push({type:"text",value:" "});let e="string"===typeof n?n:n(l,u);"string"===typeof e&&(e={type:"text",value:e}),h.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+c+(u>1?"-"+u:""),dataFootnoteBackref:"",ariaLabel:"string"===typeof r?r:r(l,u),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const f=o[o.length-1];if(f&&"element"===f.type&&"p"===f.tagName){const e=f.children[f.children.length-1];e&&"text"===e.type?e.value+=" ":f.children.push({type:"text",value:" "}),f.children.push(...h)}else o.push(...h);const p={type:"element",tagName:"li",properties:{id:t+"fn-"+c},children:e.wrap(o,!0)};e.patch(i,p),a.push(p)}if(0!==a.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...WA(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:"\n"}]}}(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:"\n"},i),o}function bP(e,t){return e&&"run"in e?async function(n,r){const i=wP(n,{file:r,...t});await e.run(i,r)}:function(n,r){return wP(n,{file:r,...e||t})}}function EP(e){if(e)throw e}var SP=n(240);function xP(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function kP(){const e=[],t={run:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=-1;const o=n.pop();if("function"!==typeof o)throw new TypeError("Expected function as last argument, not "+o);!function t(r){const s=e[++i];let a=-1;if(r)o(r);else{for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];for(;++a<n.length;)null!==c[a]&&void 0!==c[a]||(c[a]=n[a]);n=c,s?function(e,t){let n;return i;function i(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];const l=e.length>i.length;let c;l&&i.push(o);try{c=e.apply(this,i)}catch(r){if(l&&n)throw r;return o(r)}l||(c&&c.then&&"function"===typeof c.then?c.then(s,o):c instanceof Error?o(c):s(c))}function o(e){if(!n){n=!0;for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];t(e,...i)}}function s(e){o(null,e)}}(s,t)(...c):o(null,...c)}}(null,...n)},use:function(n){if("function"!==typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const TP={basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');IP(e);let n,r=0,i=-1,o=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;o--;)if(47===e.codePointAt(o)){if(n){r=o+1;break}}else i<0&&(n=!0,i=o+1);return i<0?"":e.slice(r,i)}if(t===e)return"";let s=-1,a=t.length-1;for(;o--;)if(47===e.codePointAt(o)){if(n){r=o+1;break}}else s<0&&(n=!0,s=o+1),a>-1&&(e.codePointAt(o)===t.codePointAt(a--)?a<0&&(i=o):(a=-1,i=s));r===i?i=s:i<0&&(i=e.length);return e.slice(r,i)},dirname:function(e){if(IP(e),0===e.length)return".";let t,n=-1,r=e.length;for(;--r;)if(47===e.codePointAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},extname:function(e){IP(e);let t,n=e.length,r=-1,i=0,o=-1,s=0;for(;n--;){const a=e.codePointAt(n);if(47!==a)r<0&&(t=!0,r=n+1),46===a?o<0?o=n:1!==s&&(s=1):o>-1&&(s=-1);else if(t){i=n+1;break}}if(o<0||r<0||0===s||1===s&&o===r-1&&o===i+1)return"";return e.slice(o,r)},join:function(){let e,t=-1;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(;++t<r.length;)IP(r[t]),r[t]&&(e=void 0===e?r[t]:e+"/"+r[t]);return void 0===e?".":function(e){IP(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,r,i="",o=0,s=-1,a=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.codePointAt(l);else{if(47===n)break;n=47}if(47===n){if(s===l-1||1===a);else if(s!==l-1&&2===a){if(i.length<2||2!==o||46!==i.codePointAt(i.length-1)||46!==i.codePointAt(i.length-2))if(i.length>2){if(r=i.lastIndexOf("/"),r!==i.length-1){r<0?(i="",o=0):(i=i.slice(0,r),o=i.length-1-i.lastIndexOf("/")),s=l,a=0;continue}}else if(i.length>0){i="",o=0,s=l,a=0;continue}t&&(i=i.length>0?i+"/..":"..",o=2)}else i.length>0?i+="/"+e.slice(s+1,l):i=e.slice(s+1,l),o=l-s-1;s=l,a=0}else 46===n&&a>-1?a++:a=-1}return i}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/");return t?"/"+n:n}(e)},sep:"/"};function IP(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const CP={cwd:function(){return"/"}};function _P(e){return Boolean(null!==e&&"object"===typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function AP(e){if("string"===typeof e)e=new URL(e);else if(!_P(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const PP=["history","path","basename","stem","extname","dirname"];class NP{constructor(e){let t;t=e?_P(e)?{path:e}:"string"===typeof e||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":CP.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,r=-1;for(;++r<PP.length;){const e=PP[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)PP.includes(n)||(this[n]=t[n])}get basename(){return"string"===typeof this.path?TP.basename(this.path):void 0}set basename(e){LP(e,"basename"),RP(e,"basename"),this.path=TP.join(this.dirname||"",e)}get dirname(){return"string"===typeof this.path?TP.dirname(this.path):void 0}set dirname(e){DP(this.basename,"dirname"),this.path=TP.join(e||"",this.basename)}get extname(){return"string"===typeof this.path?TP.extname(this.path):void 0}set extname(e){if(RP(e,"extname"),DP(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=TP.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){_P(e)&&(e=AP(e)),LP(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"===typeof this.path?TP.basename(this.path,this.extname):void 0}set stem(e){LP(e,"stem"),RP(e,"stem"),this.path=TP.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=void 0,r}message(e,t,n){const r=new IC(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){if(void 0===this.value)return"";if("string"===typeof this.value)return this.value;return new TextDecoder(e||void 0).decode(this.value)}}function RP(e,t){if(e&&e.includes(TP.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+TP.sep+"`")}function LP(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function DP(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const OP=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},MP={}.hasOwnProperty;class jP extends OP{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=kP()}copy(){const e=new jP;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(SP(!0,{},this.namespace)),e}data(e,t){return"string"===typeof e?2===arguments.length?(BP("data",this.frozen),this.namespace[e]=t,this):MP.call(this.namespace,e)&&this.namespace[e]||void 0:e?(BP("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const r=t.call(e,...n);"function"===typeof r&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=qP(e),n=this.parser||this.Parser;return UP("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),UP("process",this.parser||this.Parser),VP("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(r,i){const o=qP(e),s=n.parse(o);function a(e,n){e||!n?i(e):r?r(n):t(void 0,n)}n.run(s,o,(function(e,t,r){if(e||!t||!r)return a(e);const i=t,o=n.stringify(i,r);var s;"string"===typeof(s=o)||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(s)?r.value=o:r.result=o,a(e,r)}))}}processSync(e){let t,n=!1;return this.freeze(),UP("processSync",this.parser||this.Parser),VP("processSync",this.compiler||this.Compiler),this.process(e,(function(e,r){n=!0,EP(e),t=r})),$P("processSync","process",n),t}run(e,t,n){zP(e),this.freeze();const r=this.transformers;return n||"function"!==typeof t||(n=t,t=void 0),n?i(void 0,n):new Promise(i);function i(i,o){const s=qP(t);r.run(e,s,(function(t,r,s){const a=r||e;t?o(t):i?i(a):n(void 0,a,s)}))}}runSync(e,t){let n,r=!1;return this.run(e,t,(function(e,t){EP(e),n=t,r=!0})),$P("runSync","run",r),n}stringify(e,t){this.freeze();const n=qP(t),r=this.compiler||this.Compiler;return VP("stringify",r),zP(e),r(e,n)}use(e){const t=this.attachers,n=this.namespace;if(BP("use",this.frozen),null===e||void 0===e);else if("function"===typeof e){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];c(e,i)}else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?l(e):a(e)}return this;function s(e){if("function"===typeof e)c(e,[]);else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;c(t,n)}else a(e)}}function a(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(e.plugins),e.settings&&(n.settings=SP(!0,n.settings,e.settings))}function l(e){let t=-1;if(null===e||void 0===e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){s(e[t])}}}function c(e,n){let r=-1,i=-1;for(;++r<t.length;)if(t[r][0]===e){i=r;break}if(-1===i)t.push([e,...n]);else if(n.length>0){let[r,...o]=n;const s=t[i][1];xP(s)&&xP(r)&&(r=SP(!0,s,r)),t[i]=[e,r,...o]}}}}const FP=(new jP).freeze();function UP(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function VP(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function BP(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function zP(e){if(!xP(e)||"string"!==typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function $P(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function qP(e){return function(e){return Boolean(e&&"object"===typeof e&&"message"in e&&"messages"in e)}(e)?e:new NP(e)}const GP=[],HP={allowDangerousHtml:!0},WP=/^(https?|ircs?|mailto|xmpp)$/i,KP=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function YP(e){const t=QP(e),n=JP(e);return XP(t.runSync(t.parse(n),n),e)}function QP(e){const t=e.rehypePlugins||GP,n=e.remarkPlugins||GP,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...HP}:HP;return FP().use(FA).use(n).use(bP,r).use(t)}function JP(e){const t=e.children||"",n=new NP;return"string"===typeof t&&(n.value=t),n}function XP(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,s=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||ZP;for(const c of KP)Object.hasOwn(t,c.from)&&(c.from,c.to&&c.to,c.id);return oP(e,(function(e,t,i){if("raw"===e.type&&i&&"number"===typeof t)return s?i.children.splice(t,1):i.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in $C)if(Object.hasOwn($C,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],r=$C[t];(null===r||r.includes(e.tagName))&&(e.properties[t]=l(String(n||""),t,e))}}if("element"===e.type){let s=n?!n.includes(e.tagName):!!o&&o.includes(e.tagName);if(!s&&r&&"number"===typeof t&&(s=!r(e,t,i)),s&&i&&"number"===typeof t)return a&&e.children?i.children.splice(t,1,...e.children):i.children.splice(t,1),t}})),LC(e,{Fragment:Lo.Fragment,components:i,ignoreInvalidStyle:!0,jsx:Lo.jsx,jsxs:Lo.jsxs,passKeys:!0,passNode:!0})}function ZP(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return-1===t||-1!==i&&t>i||-1!==n&&t>n||-1!==r&&t>r||WP.test(e.slice(0,t))?e:""}const eN=e=>e?e.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" "):"";function tN(e){let{meditation:t}=e;if(!t)return console.warn("MeditationDisplay received null or undefined meditation"),null;const n=t.photoUrl||"",r=t.visionResult||{},i=t.geminiGuidance||"# Meditation\n\nNo guidance available.";if(t.error||t.notFound)return(0,Lo.jsxs)(bl.div,{className:"meditation-display",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,Lo.jsx)("h1",{className:"meditation-title",children:"Meditation Not Available"}),(0,Lo.jsx)("div",{className:"meditation-guidance",children:(0,Lo.jsx)("div",{className:"markdown-content",children:(0,Lo.jsx)(YP,{children:i})})})]});const o=(e=>{if(!e)return"Personalized Meditation";const t=e.match(/^#\s+(.+)$/m);return t&&t[1]?t[1].trim():e.split("\n")[0].replace(/^#\s*/,"").trim()||"Personalized Meditation"})(i),s=i.replace(/^#[^\n]*\n/,"");return(0,Lo.jsxs)(bl.div,{className:"meditation-display",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,Lo.jsx)("h1",{className:"meditation-title",children:o}),(0,Lo.jsxs)("div",{className:"meditation-content",children:[(0,Lo.jsx)("div",{className:"meditation-image-container",children:(0,Lo.jsx)("img",{src:n&&"data:image/jpeg;base64,..."!==n?n:"https://images.unsplash.com/photo-1518241353330-0f7941c2d9b5?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",alt:"Meditation",className:"meditation-image",onError:e=>{e.target.src="https://images.unsplash.com/photo-1518241353330-0f7941c2d9b5?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"}})}),(0,Lo.jsxs)("div",{className:"meditation-info",children:[(0,Lo.jsxs)("div",{className:"meditation-section",children:[(0,Lo.jsx)("h3",{className:"section-title",children:"Color Palette"}),(0,Lo.jsx)(NI,{colors:null===r||void 0===r?void 0:r.dominantColors})]}),(0,Lo.jsxs)("div",{className:"meditation-section",children:[(0,Lo.jsx)("h3",{className:"section-title",children:"Emotional Tones"}),(0,Lo.jsx)("div",{className:"emotion-tags",children:(null===r||void 0===r?void 0:r.emotions)&&Object.entries(r.emotions).map(((e,t)=>{let[n,r]=e;return(0,Lo.jsx)("span",{className:"emotion-tag",children:eN(n)},t)}))})]}),(0,Lo.jsxs)("div",{className:"meditation-section",children:[(0,Lo.jsx)("h3",{className:"section-title",children:"Visual Elements"}),(0,Lo.jsx)("div",{className:"label-tags",children:(null===r||void 0===r?void 0:r.labels)&&r.labels.map(((e,t)=>(0,Lo.jsx)("span",{className:"label-tag",children:eN(e)},t)))})]}),(null===r||void 0===r?void 0:r.landmarks)&&r.landmarks.length>0&&(0,Lo.jsxs)("div",{className:"meditation-section",children:[(0,Lo.jsx)("h3",{className:"section-title",children:"Landmarks"}),(0,Lo.jsx)("div",{className:"landmark-tags",children:r.landmarks.map(((e,t)=>(0,Lo.jsx)("span",{className:"landmark-tag",children:eN(e)},t)))})]}),(null===r||void 0===r?void 0:r.objects)&&r.objects.length>0&&(0,Lo.jsxs)("div",{className:"meditation-section",children:[(0,Lo.jsx)("h3",{className:"section-title",children:"Objects"}),(0,Lo.jsx)("div",{className:"object-tags",children:r.objects.map(((e,t)=>(0,Lo.jsx)("span",{className:"object-tag",children:eN(e)},t)))})]})]})]}),(0,Lo.jsx)("div",{className:"meditation-guidance",children:(0,Lo.jsx)("div",{className:"markdown-content",children:(0,Lo.jsx)(YP,{children:s})})})]})}function nN(e,t){return function(){return e.apply(t,arguments)}}const{toString:rN}=Object.prototype,{getPrototypeOf:iN}=Object,{iterator:oN,toStringTag:sN}=Symbol,aN=(lN=Object.create(null),e=>{const t=rN.call(e);return lN[t]||(lN[t]=t.slice(8,-1).toLowerCase())});var lN;const cN=e=>(e=e.toLowerCase(),t=>aN(t)===e),uN=e=>t=>typeof t===e,{isArray:hN}=Array,dN=uN("undefined");const fN=cN("ArrayBuffer");const pN=uN("string"),mN=uN("function"),gN=uN("number"),yN=e=>null!==e&&"object"===typeof e,vN=e=>{if("object"!==aN(e))return!1;const t=iN(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(sN in e)&&!(oN in e)},wN=cN("Date"),bN=cN("File"),EN=cN("Blob"),SN=cN("FileList"),xN=cN("URLSearchParams"),[kN,TN,IN,CN]=["ReadableStream","Request","Response","Headers"].map(cN);function _N(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),hN(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let s;for(n=0;n<o;n++)s=r[n],t.call(null,e[s],s,e)}}function AN(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const PN="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,NN=e=>!dN(e)&&e!==PN;const RN=(LN="undefined"!==typeof Uint8Array&&iN(Uint8Array),e=>LN&&e instanceof LN);var LN;const DN=cN("HTMLFormElement"),ON=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),MN=cN("RegExp"),jN=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};_N(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)};const FN=cN("AsyncFunction"),UN=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],PN.addEventListener("message",(e=>{let{source:t,data:i}=e;t===PN&&i===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),PN.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,mN(PN.postMessage)),VN="undefined"!==typeof queueMicrotask?queueMicrotask.bind(PN):"undefined"!==typeof process&&process.nextTick||UN,BN={isArray:hN,isArrayBuffer:fN,isBuffer:function(e){return null!==e&&!dN(e)&&null!==e.constructor&&!dN(e.constructor)&&mN(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||mN(e.append)&&("formdata"===(t=aN(e))||"object"===t&&mN(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&fN(e.buffer),t},isString:pN,isNumber:gN,isBoolean:e=>!0===e||!1===e,isObject:yN,isPlainObject:vN,isReadableStream:kN,isRequest:TN,isResponse:IN,isHeaders:CN,isUndefined:dN,isDate:wN,isFile:bN,isBlob:EN,isRegExp:MN,isFunction:mN,isStream:e=>yN(e)&&mN(e.pipe),isURLSearchParams:xN,isTypedArray:RN,isFileList:SN,forEach:_N,merge:function e(){const{caseless:t}=NN(this)&&this||{},n={},r=(r,i)=>{const o=t&&AN(n,i)||i;vN(n[o])&&vN(r)?n[o]=e(n[o],r):vN(r)?n[o]=e({},r):hN(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&_N(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return _N(t,((t,r)=>{n&&mN(t)?e[r]=nN(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,s;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],r&&!r(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==n&&iN(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:aN,kindOfTest:cN,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(hN(e))return e;let t=e.length;if(!gN(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[oN]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:DN,hasOwnProperty:ON,hasOwnProp:ON,reduceDescriptors:jN,freezeMethods:e=>{jN(e,((t,n)=>{if(mN(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];mN(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return hN(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:AN,global:PN,isContextDefined:NN,isSpecCompliantForm:function(e){return!!(e&&mN(e.append)&&"FormData"===e[sN]&&e[oN])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(yN(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=hN(e)?[]:{};return _N(e,((e,t)=>{const o=n(e,r+1);!dN(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:FN,isThenable:e=>e&&(yN(e)||mN(e))&&mN(e.then)&&mN(e.catch),setImmediate:UN,asap:VN,isIterable:e=>null!=e&&mN(e[oN])};function zN(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}BN.inherits(zN,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:BN.toJSONObject(this.config),code:this.code,status:this.status}}});const $N=zN.prototype,qN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{qN[e]={value:e}})),Object.defineProperties(zN,qN),Object.defineProperty($N,"isAxiosError",{value:!0}),zN.from=(e,t,n,r,i,o)=>{const s=Object.create($N);return BN.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),zN.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const GN=zN;function HN(e){return BN.isPlainObject(e)||BN.isArray(e)}function WN(e){return BN.endsWith(e,"[]")?e.slice(0,-2):e}function KN(e,t,n){return e?e.concat(t).map((function(e,t){return e=WN(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const YN=BN.toFlatObject(BN,{},null,(function(e){return/^is[A-Z]/.test(e)}));const QN=function(e,t,n){if(!BN.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=BN.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!BN.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,o=n.dots,s=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&BN.isSpecCompliantForm(t);if(!BN.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(BN.isDate(e))return e.toISOString();if(!a&&BN.isBlob(e))throw new GN("Blob is not supported. Use a Buffer instead.");return BN.isArrayBuffer(e)||BN.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"===typeof e)if(BN.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(BN.isArray(e)&&function(e){return BN.isArray(e)&&!e.some(HN)}(e)||(BN.isFileList(e)||BN.endsWith(n,"[]"))&&(a=BN.toArray(e)))return n=WN(n),a.forEach((function(e,r){!BN.isUndefined(e)&&null!==e&&t.append(!0===s?KN([n],r,o):null===s?n:n+"[]",l(e))})),!1;return!!HN(e)||(t.append(KN(i,n,o),l(e)),!1)}const u=[],h=Object.assign(YN,{defaultVisitor:c,convertValue:l,isVisitable:HN});if(!BN.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!BN.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),BN.forEach(n,(function(n,o){!0===(!(BN.isUndefined(n)||null===n)&&i.call(t,n,BN.isString(o)?o.trim():o,r,h))&&e(n,r?r.concat(o):[o])})),u.pop()}}(e),t};function JN(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function XN(e,t){this._pairs=[],e&&QN(e,this,t)}const ZN=XN.prototype;ZN.append=function(e,t){this._pairs.push([e,t])},ZN.toString=function(e){const t=e?function(t){return e.call(this,t,JN)}:JN;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const eR=XN;function tR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nR(e,t,n){if(!t)return e;const r=n&&n.encode||tR;BN.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(o=i?i(t,n):BN.isURLSearchParams(t)?t.toString():new eR(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const rR=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){BN.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},iR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},oR={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:eR,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},sR="undefined"!==typeof window&&"undefined"!==typeof document,aR="object"===typeof navigator&&navigator||void 0,lR=sR&&(!aR||["ReactNative","NativeScript","NS"].indexOf(aR.product)<0),cR="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,uR=sR&&window.location.href||"http://localhost",hR={...r,...oR};const dR=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=e.length;if(o=!o&&BN.isArray(r)?r.length:o,a)return BN.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!s;r[o]&&BN.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&BN.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!s}if(BN.isFormData(e)&&BN.isFunction(e.entries)){const n={};return BN.forEachEntry(e,((e,r)=>{t(function(e){return BN.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const fR={transitional:iR,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=BN.isObject(e);i&&BN.isHTMLForm(e)&&(e=new FormData(e));if(BN.isFormData(e))return r?JSON.stringify(dR(e)):e;if(BN.isArrayBuffer(e)||BN.isBuffer(e)||BN.isStream(e)||BN.isFile(e)||BN.isBlob(e)||BN.isReadableStream(e))return e;if(BN.isArrayBufferView(e))return e.buffer;if(BN.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return QN(e,new hR.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return hR.isNode&&BN.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=BN.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return QN(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(BN.isString(e))try{return(t||JSON.parse)(e),BN.trim(e)}catch(uD){if("SyntaxError"!==uD.name)throw uD}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||fR.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(BN.isResponse(e)||BN.isReadableStream(e))return e;if(e&&BN.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(uD){if(n){if("SyntaxError"===uD.name)throw GN.from(uD,GN.ERR_BAD_RESPONSE,this,null,this.response);throw uD}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hR.classes.FormData,Blob:hR.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};BN.forEach(["delete","get","head","post","put","patch"],(e=>{fR.headers[e]={}}));const pR=fR,mR=BN.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gR=Symbol("internals");function yR(e){return e&&String(e).trim().toLowerCase()}function vR(e){return!1===e||null==e?e:BN.isArray(e)?e.map(vR):String(e)}function wR(e,t,n,r,i){return BN.isFunction(r)?r.call(this,t,n):(i&&(t=n),BN.isString(t)?BN.isString(r)?-1!==t.indexOf(r):BN.isRegExp(r)?r.test(t):void 0:void 0)}class bR{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=yR(t);if(!i)throw new Error("header name must be a non-empty string");const o=BN.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=vR(e))}const o=(e,t)=>BN.forEach(e,((e,n)=>i(e,n,t)));if(BN.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(BN.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&mR[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(BN.isObject(e)&&BN.isIterable(e)){let n,r,i={};for(const t of e){if(!BN.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[r=t[0]]=(n=i[r])?BN.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}o(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=yR(e)){const n=BN.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(BN.isFunction(t))return t.call(this,e,n);if(BN.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=yR(e)){const n=BN.findKey(this,e);return!(!n||void 0===this[n]||t&&!wR(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=yR(e)){const i=BN.findKey(n,e);!i||t&&!wR(0,n[i],i,t)||(delete n[i],r=!0)}}return BN.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!wR(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return BN.forEach(this,((r,i)=>{const o=BN.findKey(n,i);if(o)return t[o]=vR(r),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();s!==i&&delete t[i],t[s]=vR(r),n[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return BN.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&BN.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[gR]=this[gR]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=yR(e);t[r]||(!function(e,t){const n=BN.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return BN.isArray(e)?e.forEach(r):r(e),this}}bR.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),BN.reduceDescriptors(bR.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),BN.freezeMethods(bR);const ER=bR;function SR(e,t){const n=this||pR,r=t||n,i=ER.from(r.headers);let o=r.data;return BN.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function xR(e){return!(!e||!e.__CANCEL__)}function kR(e,t,n){GN.call(this,null==e?"canceled":e,GN.ERR_CANCELED,t,n),this.name="CanceledError"}BN.inherits(kR,GN,{__CANCEL__:!0});const TR=kR;function IR(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new GN("Request failed with status code "+n.status,[GN.ERR_BAD_REQUEST,GN.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const CR=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[s];i||(i=l),n[o]=a,r[o]=l;let u=s,h=0;for(;u!==o;)h+=n[u++],u%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),l-i<t)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}};const _R=function(e,t){let n,r,i=0,o=1e3/t;const s=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=o,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-i;for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];t>=o?s(l,e):(n=l,r||(r=setTimeout((()=>{r=null,s(n)}),o-t)))},()=>n&&s(n)]},AR=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=CR(50,250);return _R((n=>{const o=n.loaded,s=n.lengthComputable?n.total:void 0,a=o-r,l=i(a);r=o;e({loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&o<=s?(s-o)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),n)},PR=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},NR=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return BN.asap((()=>e(...n)))},RR=hR.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,hR.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(hR.origin),hR.navigator&&/(msie|trident)/i.test(hR.navigator.userAgent)):()=>!0,LR=hR.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const s=[e+"="+encodeURIComponent(t)];BN.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),BN.isString(r)&&s.push("path="+r),BN.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function DR(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const OR=e=>e instanceof ER?{...e}:e;function MR(e,t){t=t||{};const n={};function r(e,t,n,r){return BN.isPlainObject(e)&&BN.isPlainObject(t)?BN.merge.call({caseless:r},e,t):BN.isPlainObject(t)?BN.merge({},t):BN.isArray(t)?t.slice():t}function i(e,t,n,i){return BN.isUndefined(t)?BN.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function o(e,t){if(!BN.isUndefined(t))return r(void 0,t)}function s(e,t){return BN.isUndefined(t)?BN.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t,n)=>i(OR(e),OR(t),0,!0)};return BN.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=l[r]||i,s=o(e[r],t[r],r);BN.isUndefined(s)&&o!==a||(n[r]=s)})),n}const jR=e=>{const t=MR({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:l}=t;if(t.headers=a=ER.from(a),t.url=nR(DR(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),BN.isFormData(r))if(hR.hasStandardBrowserEnv||hR.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(hR.hasStandardBrowserEnv&&(i&&BN.isFunction(i)&&(i=i(t)),i||!1!==i&&RR(t.url))){const e=o&&s&&LR.read(s);e&&a.set(o,e)}return t},FR="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=jR(e);let i=r.data;const o=ER.from(r.headers).normalize();let s,a,l,c,u,{responseType:h,onUploadProgress:d,onDownloadProgress:f}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(s),r.signal&&r.signal.removeEventListener("abort",s)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=ER.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());IR((function(e){t(e),p()}),(function(e){n(e),p()}),{data:h&&"text"!==h&&"json"!==h?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new GN("Request aborted",GN.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new GN("Network Error",GN.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||iR;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new GN(t,i.clarifyTimeoutError?GN.ETIMEDOUT:GN.ECONNABORTED,e,m)),m=null},void 0===i&&o.setContentType(null),"setRequestHeader"in m&&BN.forEach(o.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),BN.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),h&&"json"!==h&&(m.responseType=r.responseType),f&&([l,u]=AR(f,!0),m.addEventListener("progress",l)),d&&m.upload&&([a,c]=AR(d),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(s=t=>{m&&(n(!t||t.type?new TR(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(s),r.signal&&(r.signal.aborted?s():r.signal.addEventListener("abort",s)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===hR.protocols.indexOf(y)?n(new GN("Unsupported protocol "+y+":",GN.ERR_BAD_REQUEST,e)):m.send(i||null)}))},UR=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;r.abort(t instanceof GN?t:new TR(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null,i(new GN(`timeout ${t} of ms exceeded`,GN.ETIMEDOUT))}),t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:a}=r;return a.unsubscribe=()=>BN.asap(s),a}},VR=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},BR=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},zR=(e,t,n,r)=>{const i=async function*(e,t){for await(const n of BR(e))yield*VR(n,t)}(e,t);let o,s=0,a=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return a(),void e.close();let o=r.byteLength;if(n){let e=s+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw a(t),t}},cancel:e=>(a(e),i.return())},{highWaterMark:2})},$R="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,qR=$R&&"function"===typeof ReadableStream,GR=$R&&("function"===typeof TextEncoder?(HR=new TextEncoder,e=>HR.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var HR;const WR=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(uD){return!1}},KR=qR&&WR((()=>{let e=!1;const t=new Request(hR.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),YR=qR&&WR((()=>BN.isReadableStream(new Response("").body))),QR={stream:YR&&(e=>e.body)};var JR;$R&&(JR=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!QR[e]&&(QR[e]=BN.isFunction(JR[e])?t=>t[e]():(t,n)=>{throw new GN(`Response type '${e}' is not supported`,GN.ERR_NOT_SUPPORT,n)})})));const XR=async(e,t)=>{const n=BN.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(BN.isBlob(e))return e.size;if(BN.isSpecCompliantForm(e)){const t=new Request(hR.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return BN.isArrayBufferView(e)||BN.isArrayBuffer(e)?e.byteLength:(BN.isURLSearchParams(e)&&(e+=""),BN.isString(e)?(await GR(e)).byteLength:void 0)})(t):n},ZR=$R&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:d}=jR(e);c=c?(c+"").toLowerCase():"text";let f,p=UR([i,o&&o.toAbortSignal()],s);const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(l&&KR&&"get"!==n&&"head"!==n&&0!==(g=await XR(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(BN.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=PR(g,AR(NR(l)));r=zR(n.body,65536,e,t)}}BN.isString(h)||(h=h?"include":"omit");const i="credentials"in Request.prototype;f=new Request(t,{...d,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:i?h:void 0});let o=await fetch(f);const s=YR&&("stream"===c||"response"===c);if(YR&&(a||s&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=BN.toFiniteNumber(o.headers.get("content-length")),[n,r]=a&&PR(t,AR(NR(a),!0))||[];o=new Response(zR(o.body,65536,n,(()=>{r&&r(),m&&m()})),e)}c=c||"text";let y=await QR[BN.findKey(QR,c)||"text"](o,e);return!s&&m&&m(),await new Promise(((t,n)=>{IR(t,n,{data:y,headers:ER.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:f})}))}catch(y){if(m&&m(),y&&"TypeError"===y.name&&/Load failed|fetch/i.test(y.message))throw Object.assign(new GN("Network Error",GN.ERR_NETWORK,e,f),{cause:y.cause||y});throw GN.from(y,y&&y.code,e,f)}}),eL={http:null,xhr:FR,fetch:ZR};BN.forEach(eL,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(uD){}Object.defineProperty(e,"adapterName",{value:t})}}));const tL=e=>`- ${e}`,nL=e=>BN.isFunction(e)||null===e||!1===e,rL=e=>{e=BN.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!nL(n)&&(r=eL[(t=String(n)).toLowerCase()],void 0===r))throw new GN(`Unknown adapter '${t}'`);if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(tL).join("\n"):" "+tL(e[0]):"as no adapter specified";throw new GN("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function iL(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new TR(null,e)}function oL(e){iL(e),e.headers=ER.from(e.headers),e.data=SR.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return rL(e.adapter||pR.adapter)(e).then((function(t){return iL(e),t.data=SR.call(e,e.transformResponse,t),t.headers=ER.from(t.headers),t}),(function(t){return xR(t)||(iL(e),t&&t.response&&(t.response.data=SR.call(e,e.transformResponse,t.response),t.response.headers=ER.from(t.response.headers))),Promise.reject(t)}))}const sL="1.9.0",aL={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{aL[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const lL={};aL.transitional=function(e,t,n){function r(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new GN(r(i," has been removed"+(t?" in "+t:"")),GN.ERR_DEPRECATED);return t&&!lL[i]&&(lL[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}},aL.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const cL={assertOptions:function(e,t,n){if("object"!==typeof e)throw new GN("options must be an object",GN.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const t=e[o],n=void 0===t||s(t,o,e);if(!0!==n)throw new GN("option "+o+" must be "+n,GN.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new GN("Unknown option "+o,GN.ERR_BAD_OPTION)}},validators:aL},uL=cL.validators;class hL{constructor(e){this.defaults=e||{},this.interceptors={request:new rR,response:new rR}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(uD){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=MR(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&cL.assertOptions(n,{silentJSONParsing:uL.transitional(uL.boolean),forcedJSONParsing:uL.transitional(uL.boolean),clarifyTimeoutError:uL.transitional(uL.boolean)},!1),null!=r&&(BN.isFunction(r)?t.paramsSerializer={serialize:r}:cL.assertOptions(r,{encode:uL.function,serialize:uL.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),cL.assertOptions(t,{baseUrl:uL.spelling("baseURL"),withXsrfToken:uL.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&BN.merge(i.common,i[t.method]);i&&BN.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=ER.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,h=0;if(!a){const e=[oL.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);h<u;)c=c.then(e[h++],e[h++]);return c}u=s.length;let d=t;for(h=0;h<u;){const e=s[h++],t=s[h++];try{d=e(d)}catch(f){t.call(this,f);break}}try{c=oL.call(this,d)}catch(f){return Promise.reject(f)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(e){return nR(DR((e=MR(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}BN.forEach(["delete","get","head","options"],(function(e){hL.prototype[e]=function(t,n){return this.request(MR(n||{},{method:e,url:t,data:(n||{}).data}))}})),BN.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(MR(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}hL.prototype[e]=t(),hL.prototype[e+"Form"]=t(!0)}));const dL=hL;class fL{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new TR(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new fL((function(t){e=t})),cancel:e}}}const pL=fL;const mL={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mL).forEach((e=>{let[t,n]=e;mL[n]=t}));const gL=mL;const yL=function e(t){const n=new dL(t),r=nN(dL.prototype.request,n);return BN.extend(r,dL.prototype,n,{allOwnKeys:!0}),BN.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(MR(t,n))},r}(pR);yL.Axios=dL,yL.CanceledError=TR,yL.CancelToken=pL,yL.isCancel=xR,yL.VERSION=sL,yL.toFormData=QN,yL.AxiosError=GN,yL.Cancel=yL.CanceledError,yL.all=function(e){return Promise.all(e)},yL.spread=function(e){return function(t){return e.apply(null,t)}},yL.isAxiosError=function(e){return BN.isObject(e)&&!0===e.isAxiosError},yL.mergeConfig=MR,yL.AxiosHeaders=ER,yL.formToJSON=e=>dR(BN.isHTMLForm(e)?new FormData(e):e),yL.getAdapter=rL,yL.HttpStatusCode=gL,yL.default=yL;const vL=yL,wL=e=>e&&e.includes("googleusercontent.com"),bL=e=>{if(!e)return e;if(wL(e)){return e.split("=")[0]+"=d"}return e},{useState:EL,useEffect:SL}=s,xL="https://photoslibrary.googleapis.com/v1";function kL(e){let{onPhotoSelected:t}=e;const[n,r]=EL([]),[i,o]=EL(!1),[s,a]=EL(!1),[l,c]=EL(!1),[u,h]=EL(null),[d,f]=EL(null);SL((()=>{console.log("GooglePhotosPicker mounted");return(async()=>{o(!0);try{const e=localStorage.getItem("googleAccessToken");e?(console.log("Found Google access token, fetching photos..."),await p(e),c(!0)):wT.currentUser&&!wT.currentUser.isAnonymous?(console.log("User is signed in but no access token found"),h("Please sign out and sign in again with Google to access your photos")):(console.log("No Google authentication found"),h("Please sign in with Google to access your photos"))}catch(e){console.error("Error checking Google authentication:",e),h("Failed to authenticate with Google Photos: "+e.message)}finally{o(!1)}})(),()=>{}}),[]);const p=async e=>{o(!0),h(null);try{if(console.log("Fetching photos from Google Photos API..."),!e)throw new Error("No access token available. Please sign in again.");console.log("Using access token:",e.substring(0,10)+"...");const t=await vL.get(`${xL}/mediaItems`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},params:{pageSize:50}});if(console.log("Google Photos API response status:",t.status),t.data&&t.data.mediaItems){const e=t.data.mediaItems.filter((e=>e.mimeType&&e.mimeType.startsWith("image/")));r(e),t.data.nextPageToken&&f(t.data.nextPageToken),console.log(`Fetched ${e.length} photos`)}else console.log("No photos found or invalid response format"),r([])}catch(u){console.error("Error fetching Google Photos:",u),u.response?(console.error("Response error data:",u.response.data),console.error("Response error status:",u.response.status),401===u.response.status?(localStorage.removeItem("googleAccessToken"),c(!1),h("Your Google Photos access has expired. Please sign in again.")):403===u.response.status?(localStorage.removeItem("googleAccessToken"),c(!1),h("Permission denied. Please sign in again and grant access to your Google Photos.")):h(`Failed to fetch photos: Server returned ${u.response.status} ${u.response.statusText}`)):u.request?(console.error("No response received:",u.request),h("Failed to fetch photos: No response from Google Photos API. Please check your internet connection.")):(console.error("Request setup error:",u.message),h(`Failed to fetch photos: ${u.message}`))}finally{o(!1)}};return(0,Lo.jsx)("div",{className:"google-photos-container",children:l?(0,Lo.jsxs)("div",{className:"google-photos-authenticated",children:[(0,Lo.jsxs)("div",{className:"google-photos-header",children:[(0,Lo.jsx)("h3",{children:"Your Google Photos"}),i&&(0,Lo.jsx)("span",{className:"loading-indicator",children:"Loading..."}),s&&(0,Lo.jsx)("span",{className:"processing-indicator",children:"Processing photo..."}),u&&(0,Lo.jsxs)("div",{className:"google-photos-error",children:[(0,Lo.jsx)(MT,{}),(0,Lo.jsx)("span",{children:u})]})]}),(0,Lo.jsx)("div",{className:"google-photos-grid",children:n.length>0?(0,Lo.jsxs)(Lo.Fragment,{children:[n.map((e=>(0,Lo.jsx)("div",{className:"photo-item "+(s?"disabled":""),onClick:()=>!s&&(e=>{const n=bL(e.baseUrl);console.log("Selected photo URL:",n),a(!0),t(n),setTimeout((()=>{a(!1)}),500)})(e),title:e.filename||"Select this photo",children:(0,Lo.jsx)("img",{src:`${e.baseUrl}=w160-h160-c`,alt:e.filename||"Google Photo",loading:"lazy"})},e.id))),d&&(0,Lo.jsx)("div",{className:"load-more-container",children:(0,Lo.jsx)("button",{className:"load-more-btn",onClick:async()=>{if(d){o(!0),h(null);try{const e=localStorage.getItem("googleAccessToken");if(!e)throw new Error("No access token available. Please sign in again.");console.log("Loading more photos with token:",d.substring(0,10)+"...");const t=await vL.get(`${xL}/mediaItems`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},params:{pageSize:50,pageToken:d}});if(console.log("Load more response status:",t.status),t.data&&t.data.mediaItems){const e=t.data.mediaItems.filter((e=>e.mimeType&&e.mimeType.startsWith("image/")));console.log(`Loaded ${e.length} more photos`),r((t=>[...t,...e])),t.data.nextPageToken?f(t.data.nextPageToken):f(null)}else console.log("No more photos found"),f(null)}catch(u){console.error("Error loading more photos:",u),u.response?(console.error("Response error data:",u.response.data),console.error("Response error status:",u.response.status),401===u.response.status?(localStorage.removeItem("googleAccessToken"),c(!1),h("Your Google Photos access has expired. Please sign in again.")):403===u.response.status?(localStorage.removeItem("googleAccessToken"),c(!1),h("Permission denied. Please sign in again and grant access to your Google Photos.")):h(`Failed to load more photos: Server returned ${u.response.status} ${u.response.statusText}`)):u.request?(console.error("No response received:",u.request),h("Failed to load more photos: No response from Google Photos API. Please check your internet connection.")):(console.error("Request setup error:",u.message),h(`Failed to load more photos: ${u.message}`))}finally{o(!1)}}},disabled:i,children:i?"Loading...":"Load More Photos"})})]}):(0,Lo.jsx)("div",{className:"no-photos-message",children:i?"Loading your photos...":"No photos found in your Google Photos account"})}),(0,Lo.jsx)("div",{className:"google-photos-footer",children:(0,Lo.jsxs)("button",{className:"refresh-btn",onClick:async()=>{console.log("Refreshing photos...");const e=localStorage.getItem("googleAccessToken");if(!e)return h("No access token available. Please sign in again."),void c(!1);await p(e)},disabled:i,children:[(0,Lo.jsx)(tI,{})," Refresh Photos"]})})]}):(0,Lo.jsxs)("div",{className:"google-photos-signin",children:[u&&(0,Lo.jsxs)("div",{className:"google-photos-error",children:[(0,Lo.jsx)(MT,{}),(0,Lo.jsx)("span",{children:u})]}),(0,Lo.jsx)("button",{className:"google-photos-login-btn",onClick:()=>{window.location.href="/signin"},disabled:i,children:i?"Checking authentication...":"Sign in with Google to access your photos"})]})})}const TL={BASE_URL:"http://localhost:8080",FIRESTORE:{MEDITATIONS:"/api/firestore/meditations",IMAGE_UPLOADS:"/api/firestore/imageUploads",MEDITATION_BY_ID:e=>`/api/firestore/meditations/${e}`,UPLOADS_BY_USER:e=>`/api/firestore/imageUploads/${e}`,TEST_CONNECTION:"/api/firestore/test-connection"},VISION:{ANALYZE_PHOTO:"/api/photos",ANALYZE_IMAGE:"/api/analyze-image"}},IL={DISABLE_FIRESTORE_SDK:!0,ENABLE_OFFLINE_SUPPORT:!0,ENABLE_DETAILED_LOGGING:!0,SIMULATE_ONLINE_MODE:!1,USE_MOCK_DATA:!0},CL={DEFAULT_USER_ID:"demo-user",DEFAULT_STYLE:"Calm",DEFAULT_THEME:"Nature"},_L=function(){return`${arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mock"}-${Date.now()}-${Math.floor(1e3*Math.random())}`},AL=["/images/meditation1.jpg","/images/meditation2.jpg","/images/yoga1.jpg","/images/yoga2.jpg","https://images.unsplash.com/photo-1506126613408-eca07ce68773?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80","https://images.unsplash.com/photo-1545389336-cf090694435e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80","https://images.unsplash.com/photo-1532798442725-41036acc7489?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80"],PL=[{joy:"LIKELY",sorrow:"UNLIKELY",anger:"VERY_UNLIKELY",surprise:"POSSIBLE",calm:"LIKELY",contentment:"LIKELY"},{joy:"VERY_LIKELY",sorrow:"VERY_UNLIKELY",anger:"VERY_UNLIKELY",surprise:"UNLIKELY",calm:"VERY_LIKELY",contentment:"VERY_LIKELY"},{joy:"POSSIBLE",sorrow:"POSSIBLE",anger:"UNLIKELY",surprise:"UNLIKELY",calm:"LIKELY",contentment:"POSSIBLE"},{joy:"UNLIKELY",sorrow:"LIKELY",anger:"UNLIKELY",surprise:"UNLIKELY",calm:"POSSIBLE",contentment:"UNLIKELY"}],NL=[["Meditation","Yoga","Wellness","Calm","Nature"],["Relaxation","Mindfulness","Peace","Spirituality","Health"],["Balance","Harmony","Tranquility","Zen","Focus"],["Energy","Vitality","Strength","Flexibility","Breath"]],RL=[[{hex:"#4682B4",category:"blue",isLight:!1,score:.4,colorEmotions:"Calm, Peace, Tranquility (Blue)"},{hex:"#2E8B57",category:"green",isLight:!1,score:.3,colorEmotions:"Growth, Healing, Renewal (Green)"},{hex:"#F5F5DC",category:"neutral",isLight:!0,score:.2,colorEmotions:"Purity, Clarity, Simplicity (White)"}],[{hex:"#8B4513",category:"brown",isLight:!1,score:.35,colorEmotions:"Stability, Reliability, Earthiness (Brown)"},{hex:"#006400",category:"green",isLight:!1,score:.3,colorEmotions:"Abundance, Nature, Harmony (Dark Green)"},{hex:"#F0E68C",category:"yellow",isLight:!0,score:.25,colorEmotions:"Cheerfulness, Intellect, Honor (Khaki)"}],[{hex:"#4B0082",category:"purple",isLight:!1,score:.3,colorEmotions:"Intuition, Mysticism, Dignity (Indigo)"},{hex:"#000080",category:"blue",isLight:!1,score:.3,colorEmotions:"Introspection, Intuition, Wisdom (Navy Blue)"},{hex:"#F5F5F5",category:"neutral",isLight:!0,score:.2,colorEmotions:"Purity, Clarity, Simplicity (White)"}]],LL=["I notice a sense of calm and balance in your image. Take a moment to breathe deeply, allowing your shoulders to relax with each exhale. Focus on the sensation of your breath moving through your body, bringing peace to any areas of tension. As you continue breathing, visualize a gentle blue light surrounding you, creating a protective and tranquil space.","Your image reflects a strong connection to nature and growth. Begin by standing tall, feeling your feet firmly planted on the ground. Imagine roots extending from your feet deep into the earth, drawing up nourishing energy. As you inhale, visualize this energy flowing up through your body, and as you exhale, release any thoughts or feelings that no longer serve you.","I sense a need for balance and harmony in your image. Start by finding a comfortable seated position and gently close your eyes. Place your hands on your knees, palms facing upward in a receptive gesture. Focus on the center of your chest, your heart space, and with each breath, imagine a warm, golden light expanding outward, bringing equilibrium to your mind and body.","Your image suggests a journey of introspection and wisdom. Begin by creating a quiet space for yourself, free from distractions. Sit comfortably and bring your attention to the space between your eyebrows. With each inhale, imagine drawing in clarity and insight, and with each exhale, release doubt and confusion. Allow your thoughts to come and go without judgment, observing them like clouds passing in the sky."],DL=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"demo-user",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=null!==t?t%4:Math.floor(4*Math.random()),r=Date.now()-864e5*n;return{id:_L("meditation"),userId:e,photoUrl:AL[n%AL.length],createdAt:new Date(r),clientTimestamp:r,style:["Calm","Energetic","Focused","Balanced"][n%4],theme:["Nature","Ocean","Mountain","Forest"][n%4],visionResult:{emotions:PL[n%PL.length],labels:NL[n%NL.length],dominantColors:RL[n%RL.length],colorEmotions:RL[n%RL.length][0].colorEmotions},geminiGuidance:LL[n%LL.length]}},OL=async e=>{console.log("Using mock data service to save meditation"),await new Promise((e=>setTimeout(e,1e3)));const t=_L("meditation");try{const n=JSON.parse(localStorage.getItem("mockMeditations")||"[]"),r={id:t,userId:e.userId||"demo-user",photoUrl:e.photoUrl||AL[0],geminiGuidance:e.geminiGuidance||LL[0],createdAt:(new Date).toISOString(),clientTimestamp:Date.now(),style:e.style||"Calm",theme:e.theme||"Nature",visionResult:e.visionResult||{emotions:PL[0],labels:NL[0],dominantColors:RL[0]}};n.push(r),localStorage.setItem("mockMeditations",JSON.stringify(n)),console.log("Saved mock meditation to localStorage:",t)}catch(n){console.error("Error saving to localStorage:",n)}return t},ML=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"demo-user";console.log("Using mock data service to get meditations for user:",e),await new Promise((e=>setTimeout(e,800)));try{const t=JSON.parse(localStorage.getItem("mockMeditations")||"[]");if(t.length>0)return console.log("Retrieved meditations from localStorage:",t.length),t.filter((t=>t.userId===e))}catch(r){console.error("Error reading from localStorage:",r)}const t=[],n=3+Math.floor(3*Math.random());for(let i=0;i<n;i++)t.push(DL(e,i));try{localStorage.setItem("mockMeditations",JSON.stringify(t))}catch(r){console.error("Error saving to localStorage:",r)}return t},jL=async e=>{console.log("Using mock data service to get meditation by ID:",e),await new Promise((e=>setTimeout(e,500)));try{const t=JSON.parse(localStorage.getItem("mockMeditations")||"[]").find((t=>t.id===e));if(t)return console.log("Retrieved meditation from localStorage:",e),t}catch(t){console.error("Error reading from localStorage:",t)}return DL("demo-user",0)},FL=async e=>(console.log("Using mock data service to track image upload"),await new Promise((e=>setTimeout(e,700))),_L("upload")),UL=async e=>{try{await xT();const r=wT.currentUser?wT.currentUser.uid:"demo-user";console.log("Tracking image upload for user:",r);const i=dw(vT,"imageUploads"),o=Date.now(),s={userId:r,uploadTime:xb(),clientUploadTime:o,imageSource:e.source||"unknown",status:"uploaded",metadata:{fileType:e.fileType||"",fileName:e.fileName||"",fileSize:e.fileSize||0,dimensions:e.dimensions||{width:0,height:0}}};console.log("Attempting to track image upload with data:",JSON.stringify({userId:r,imageSource:e.source||"unknown",fileName:e.fileName||""}));let a=3,l=null;for(;a>0&&!l;)try{const e=kb(vT),t=`upload-${o}-${Math.floor(1e3*Math.random())}`,n=fw(vT,"imageUploads",t);e.set(n,s),await e.commit(),l=n,console.log("Image upload tracked successfully with batch operation, ID:",t)}catch(t){console.error(`Error tracking image upload with batch (retries left: ${a-1}):`,t),a--,a>0&&await new Promise((e=>setTimeout(e,1e3*(4-a))))}if(!l){console.log("Batch operation failed, trying individual document write as fallback");try{l=await function(e,t){const n=rw(e.firestore,yw),r=fw(e),i=cb(e.converter,t);return wb(n,[Rw(Nw(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Mp.exists(!1))]).then((()=>r))}(i,s),console.log("Image upload tracked successfully with fallback method, ID:",l.id)}catch(n){return console.error("Fallback tracking method also failed:",n),console.log("All Firestore attempts failed, using mock data as last resort"),await FL()}}return l.id}catch(r){return console.error("Error tracking image upload:",r),console.error("Error details:",JSON.stringify(r,Object.getOwnPropertyNames(r))),console.log("Using mock data service as error fallback"),await FL()}},VL=vL.create({baseURL:TL.BASE_URL,timeout:3e4,headers:{"Content-Type":"application/json"}});VL.interceptors.request.use((async e=>(IL.ENABLE_DETAILED_LOGGING&&console.log(`\ud83d\ude80 API Request: ${e.method.toUpperCase()} ${e.url}`),e)),(e=>(console.error("\u274c API Request Error:",e),Promise.reject(e)))),VL.interceptors.response.use((e=>(IL.ENABLE_DETAILED_LOGGING&&console.log(`\u2705 API Response: ${e.status} ${e.config.url}`),e)),(async e=>(console.error("\u274c API Response Error:",e),Promise.reject(e))));const BL=()=>CL.DEFAULT_USER_ID,zL=async e=>{try{const t=BL();console.log("Saving meditation for user:",t),e.userId||(e.userId=t),e.clientTimestamp||(e.clientTimestamp=Date.now()),e.style||(e.style=CL.DEFAULT_STYLE),e.theme||(e.theme=CL.DEFAULT_THEME);const n=await(async e=>{try{var t,n,r,i,o,s;await xT();const p=wT.currentUser?wT.currentUser.uid:"demo-user";console.log("Saving meditation for user:",p);const m=Date.now(),g=`meditation-${m}-${Math.floor(1e3*Math.random())}`,y=fw(vT,"meditations",g),v={userId:p,photoUrl:e.photoUrl||"",geminiGuidance:e.geminiGuidance||"",createdAt:xb(),style:e.style||"Calm",theme:e.theme||"Nature",visionResult:{dominantColors:(null===e||void 0===e||null===(t=e.visionResult)||void 0===t?void 0:t.dominantColors)||[],emotions:(null===e||void 0===e||null===(n=e.visionResult)||void 0===n?void 0:n.emotions)||{},labels:(null===e||void 0===e||null===(r=e.visionResult)||void 0===r?void 0:r.labels)||[],objects:(null===e||void 0===e||null===(i=e.visionResult)||void 0===i?void 0:i.objects)||[],landmarks:(null===e||void 0===e||null===(o=e.visionResult)||void 0===o?void 0:o.landmarks)||[],colorEmotions:(null===e||void 0===e||null===(s=e.visionResult)||void 0===s?void 0:s.colorEmotions)||""},uploadId:e.uploadId||null,analysisComplete:!0,analysisTimestamp:xb(),clientTimestamp:m};console.log("Attempting to save meditation with ID:",g);let w=3,b=!1;for(;w>0&&!b;)try{const t=kb(vT);if(t.set(y,v),e.uploadId){var a,l,c,u,h;const n=fw(vT,"imageUploads",e.uploadId);t.update(n,{status:"analyzed",analysisTime:xb(),clientAnalysisTime:m,analysisData:{emotions:(null===e||void 0===e||null===(a=e.visionResult)||void 0===a?void 0:a.emotions)||{},labels:(null===e||void 0===e||null===(l=e.visionResult)||void 0===l?void 0:l.labels)||[],dominantColors:(null===e||void 0===e||null===(c=e.visionResult)||void 0===c?void 0:c.dominantColors)||[],objects:(null===e||void 0===e||null===(u=e.visionResult)||void 0===u?void 0:u.objects)||[],landmarks:(null===e||void 0===e||null===(h=e.visionResult)||void 0===h?void 0:h.landmarks)||[]},meditationId:g})}await t.commit(),b=!0,console.log("Meditation saved successfully with batch operation:",g)}catch(d){console.error(`Error saving meditation batch (retries left: ${w-1}):`,d),w--,w>0&&await new Promise((e=>setTimeout(e,1e3*(4-w))))}if(!b){console.log("Batch operation failed, trying individual document write as fallback");try{return await vb(y,v),console.log("Meditation saved successfully with fallback method:",g),g}catch(f){return console.error("Fallback save method also failed:",f),console.log("All Firestore attempts failed, using mock data as last resort"),await OL(e)}}return g}catch(p){return console.error("Error saving meditation:",p),console.error("Error details:",JSON.stringify(p,Object.getOwnPropertyNames(p))),console.log("Using mock data service as error fallback"),await OL(e)}})(e);return console.log("Meditation saved successfully with ID:",n),n}catch(t){return console.error("Error saving meditation:",t),$L(e)}},$L=e=>{if(IL.ENABLE_OFFLINE_SUPPORT)try{const t=Date.now(),n=`offline-meditation-${t}`,r={...e,id:n,timestamp:(new Date).toISOString(),clientTimestamp:t,offline:!0},i=JSON.parse(localStorage.getItem("offlineMeditations")||"[]");i.unshift(r),localStorage.setItem("offlineMeditations",JSON.stringify(i));const o=JSON.parse(localStorage.getItem("offlineQueue")||"[]");return o.push({type:"saveMeditation",data:e,timestamp:t}),localStorage.setItem("offlineQueue",JSON.stringify(o)),console.log("Meditation saved to offline queue with ID:",n),n}catch(t){return console.error("Error saving to offline queue:",t),`offline-meditation-${Date.now()}-fallback`}return`offline-meditation-${Date.now()}-dummy`},qL=async e=>{try{const t=BL();console.log("Tracking image upload for user:",t),e.userId||(e.userId=t),e.clientUploadTime||(e.clientUploadTime=Date.now());const n=await UL(e);return console.log("Image upload tracked successfully with ID:",n),n}catch(t){if(console.error("Error tracking image upload:",t),IL.ENABLE_OFFLINE_SUPPORT)try{const t=Date.now(),n=`offline-upload-${t}`,r=JSON.parse(localStorage.getItem("offlineQueue")||"[]");return r.push({type:"trackImageUpload",data:e,timestamp:t}),localStorage.setItem("offlineQueue",JSON.stringify(r)),console.log("Image upload tracked in offline queue with ID:",n),n}catch(n){console.error("Error saving to offline queue:",n)}throw t}},GL=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{const r=e||BL();console.log("Fetching meditations for user:",r);let i=[];if(IL.ENABLE_OFFLINE_SUPPORT)try{i=JSON.parse(localStorage.getItem("offlineMeditations")||"[]"),console.log(`Found ${i.length} offline meditations`)}catch(t){console.error("Error getting offline meditations:",t)}try{const e=await(async e=>{try{var t;await xT();const r=e||(null===(t=wT.currentUser)||void 0===t?void 0:t.uid)||"demo-user";console.log("Fetching meditations for user:",r);const i=dw(vT,"meditations");try{const e=Zw(i,tb("userId","==",r),ib("timestamp","desc")),t=(await yb(e)).docs.map((e=>({id:e.id,...e.data()})));return console.log(`Found ${t.length} meditations using composite index`),0===t.length?(console.log("No meditations found in Firestore, using mock data as fallback"),await ML(r)):t}catch(n){if(console.warn("Index not ready yet, falling back to simple query:",n.message),"failed-precondition"===n.code&&n.message.includes("requires an index")){console.log("Attempting fallback query without ordering...");const e=Zw(i,tb("userId","==",r)),t=(await yb(e)).docs.map((e=>({id:e.id,...e.data()}))).sort(((e,t)=>{const n=e=>{var t,n;return null!==(t=e.timestamp)&&void 0!==t&&t.toDate?e.timestamp.toDate():null!==(n=e.createdAt)&&void 0!==n&&n.toDate?e.createdAt.toDate():e.clientTimestamp?new Date(e.clientTimestamp):new Date(0)};return n(t)-n(e)}));return console.log(`Found ${t.length} meditations using fallback query`),0===t.length?(console.log("No meditations found in Firestore, using mock data as fallback"),await ML(r)):t}throw n}}catch(r){if(console.error("Error fetching meditations:",r),console.error("Error details:",JSON.stringify({code:r.code,name:r.name,message:r.message})),r.message&&r.message.includes("https://console.firebase.google.com")){const e=r.message.match(/(https:\/\/console\.firebase\.google\.com\S+)/);e&&e[1]&&console.log("Create the required index here:",e[1])}return console.log("Using mock data service as error fallback"),await ML(e)}})(r);console.log(`Found ${e.length} online meditations`);const t=new Set(e.map((e=>e.id))),n=i.filter((e=>!t.has(e.id))),o=[...e,...n];return o.sort(((e,t)=>{const n=e.clientTimestamp||(e.timestamp?new Date(e.timestamp).getTime():0);return(t.clientTimestamp||(t.timestamp?new Date(t.timestamp).getTime():0))-n})),console.log(`Returning ${o.length} total meditations (${e.length} online + ${n.length} offline)`),o}catch(n){return console.error("Error fetching online meditations:",n),i}}catch(r){if(console.error("Error in getMeditationsForUser:",r),IL.ENABLE_OFFLINE_SUPPORT)try{return JSON.parse(localStorage.getItem("offlineMeditations")||"[]")}catch(i){console.error("Error in fallback for getMeditationsForUser:",i)}return[]}},HL=async e=>{try{if(!e)return console.error("No meditation ID provided"),null;if(console.log("Fetching meditation by ID:",e),IL.ENABLE_OFFLINE_SUPPORT){const t=JSON.parse(localStorage.getItem("offlineMeditations")||"[]").find((t=>t.id===e));if(t)return console.log("Found meditation in offline storage:",e),t;if(e.startsWith("offline-"))return console.log("Offline meditation ID not found in storage:",e),{id:e,geminiGuidance:"# Meditation Not Found\n\nThis meditation could not be found in your offline storage. It may have been deleted or the storage may have been cleared.",notFound:!0,offline:!0}}try{const n=await(async e=>{try{await xT(),console.log("Fetching meditation by ID:",e);const t=fw(vT,"meditations",e),n=await mb(t);return n.exists()?{id:n.id,...n.data()}:(console.log("Meditation not found, using mock data as fallback"),await jL(e))}catch(t){return console.error("Error fetching meditation:",t),console.log("Using mock data service as error fallback"),await jL(e)}})(e);if(n){if(console.log("Meditation fetched successfully from Firestore:",e),IL.ENABLE_OFFLINE_SUPPORT)try{const t=JSON.parse(localStorage.getItem("offlineMeditations")||"[]"),r=t.findIndex((t=>t.id===e));r>=0?t[r]=n:t.push(n),localStorage.setItem("offlineMeditations",JSON.stringify(t)),console.log("Saved meditation to offline storage for future access")}catch(t){console.error("Error saving meditation to offline storage:",t)}return n}return{id:e,geminiGuidance:"# Meditation Not Found\n\nThis meditation could not be found in the database. It may have been deleted or may not exist.",notFound:!0}}catch(n){return console.error("Error fetching meditation from Firestore:",n),{id:e,geminiGuidance:"# Meditation Not Found\n\nThis meditation could not be found. It may have been deleted or may not exist.",notFound:!0}}}catch(r){return console.error("Error in getMeditationById:",r),{id:e,geminiGuidance:"# Error\n\nThere was an error retrieving this meditation. Please try again later.",error:!0}}},WL="localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname?"https://energiaa-backend-epvyx237va-uc.a.run.app":"http://localhost:8080";console.log("Using backend API URL:",WL);const KL="https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent",YL=async e=>{try{if(e.startsWith("data:"))return e.split(",")[1];if(wL(e)){console.log("Processing Google Photos URL...");try{console.log("Trying backend proxy for Google Photos URL...");const n=bL(e),r=["/api/proxy/google-photos","/api/process-image","/api/photos/process"];for(const e of r)try{console.log(`Trying backend endpoint: ${e}`);const t=await vL.post(`${WL}${e}`,{photoUrl:n,imageUrl:n});if(t.data){if(t.data.dataUrl)return console.log("Successfully fetched image from Google Photos (dataUrl)"),t.data.dataUrl.split(",")[1];if(t.data.base64)return console.log("Successfully fetched image from Google Photos (base64)"),t.data.base64;if(t.data.imageData)return console.log("Successfully fetched image from Google Photos (imageData)"),t.data.imageData.split(",")[1]}}catch(t){console.warn(`Endpoint ${e} failed:`,t.message)}}catch(n){console.warn("All backend proxy attempts failed:",n.message)}return console.log("Backend proxy failed, using URL directly with Vision API"),null}return null}catch(r){return console.error("Error processing image for analysis:",r),null}},QL=()=>({faceAnnotations:[{joyLikelihood:"LIKELY",sorrowLikelihood:"UNLIKELY",angerLikelihood:"VERY_UNLIKELY",surpriseLikelihood:"POSSIBLE"}],labelAnnotations:[["Nature","Sky","Water","Tree","Mountain"],["Beach","Ocean","Sand","Sunset","Horizon"],["Forest","Leaves","Greenery","Path","Sunlight"],["City","Building","Architecture","Street","Urban"],["Garden","Flower","Plant","Grass","Bloom"],["Desert","Sand","Dune","Arid","Landscape"],["Lake","Reflection","Calm","Shore","Peaceful"],["Mountain","Peak","Valley","Rock","Majestic"],["Meadow","Field","Wildflower","Open space","Countryside"],["Park","Bench","Path","Recreation","Leisure"]][(new Date).getTime()%10].map((e=>({description:e}))),imagePropertiesAnnotation:{dominantColors:{colors:[{color:{red:66,green:133,blue:244},pixelFraction:.4},{color:{red:52,green:168,blue:83},pixelFraction:.3},{color:{red:251,green:188,blue:5},pixelFraction:.2},{color:{red:234,green:67,blue:53},pixelFraction:.1}]}},localizedObjectAnnotations:[{name:"Plant"},{name:"Sky"},{name:"Tree"}],landmarkAnnotations:[]}),JL=e=>({VERY_UNLIKELY:.05,UNLIKELY:.2,POSSIBLE:.5,LIKELY:.8,VERY_LIKELY:.95}[e]||.5),XL=()=>[{joy:"LIKELY",sorrow:"UNLIKELY",anger:"VERY_UNLIKELY",surprise:"POSSIBLE",calm:"LIKELY",contentment:"LIKELY"},{joy:"POSSIBLE",sorrow:"UNLIKELY",anger:"UNLIKELY",surprise:"LIKELY",excitement:"LIKELY",creative:"LIKELY"},{joy:"VERY_LIKELY",sorrow:"VERY_UNLIKELY",anger:"VERY_UNLIKELY",surprise:"LIKELY",excitement:"VERY_LIKELY",peaceful:"POSSIBLE"},{joy:"POSSIBLE",sorrow:"POSSIBLE",anger:"UNLIKELY",surprise:"UNLIKELY",calm:"LIKELY",reflective:"LIKELY"}][(new Date).getTime()%4],ZL=()=>[{rgb:{red:66,green:133,blue:244},hex:"#4285F4",score:.4},{rgb:{red:52,green:168,blue:83},hex:"#34A853",score:.3},{rgb:{red:251,green:188,blue:5},hex:"#FBBC05",score:.2},{rgb:{red:234,green:67,blue:53},hex:"#EA4335",score:.1}],eD=(e,t,n)=>{console.log("Generating fallback meditation...");const r=(null===e||void 0===e?void 0:e.emotions)||XL(),i=Array.isArray(null===e||void 0===e?void 0:e.labels)?e.labels:["Nature","Scenery"],o=Array.isArray(null===e||void 0===e?void 0:e.dominantColors)?e.dominantColors.map((e=>e.hex)).join(", "):"#4285F4, #34A853, #FBBC05, #EA4335",s=i[Math.floor(Math.random()*i.length)];let a="calm";Object.keys(r).forEach((e=>{"VERY_LIKELY"!==r[e]&&"LIKELY"!==r[e]||(a=e)}));const l=Array.isArray(null===e||void 0===e?void 0:e.labels)?e.labels:["Nature","Scenery"],c=l.length>1?l[1]:s,u=l.length>2?l[2]:c,h=Array.isArray(null===e||void 0===e?void 0:e.objects)?e.objects:["Plant","Sky"],d=h.length>0?h[0]:s;let f="peaceful";Object.keys(r).forEach((e=>{e===a||"POSSIBLE"!==r[e]&&"LIKELY"!==r[e]||(f=e)}));let p="";try{Array.isArray(null===e||void 0===e?void 0:e.dominantColors)&&(p=e.dominantColors.slice(0,3).map((e=>{try{return AI(e.hex)}catch(uD){return e.hex}})).join(", "))}catch(uD){p=o}p||(p="Blue, Green, Yellow");const m=(new Date).getTime()%5;return[`# Finding ${a.charAt(0).toUpperCase()+a.slice(1)} Through ${s} and ${c}\n\n## Step 1: Centering with ${s}\nTake a deep breath and feel your body settling into this moment as you gaze at the ${s}. Notice the sensations in your body as you begin to relax - perhaps a tingling in your fingertips or a softening in your shoulders. Allow your mind to focus specifically on the ${s} before you, noticing its unique details and qualities.\n\n## Step 2: Color Awareness\nObserve the beautiful colors in the image - ${p} - and how they create a sense of ${a}. These colors aren't random; they're speaking directly to your emotional state right now. Let these specific colors wash over you, bringing their unique energy into your awareness. Feel yourself becoming more present with each breath.\n\n## Step 3: Connecting with ${c}\nNow shift your attention to the ${c} in the image. Imagine yourself within this scene, surrounded by both the ${s} and ${c}. What specific sounds might you hear in this exact environment? What textures would you feel if you could reach out and touch the ${d}? Allow all your senses to engage with this specific environment.\n\n## Step 4: Embodying ${a} and ${f}\nAs you breathe deeply, embody the qualities of ${a} and ${f} that this specific image evokes. Let these feelings spread through your entire body, from your toes to the crown of your head. With each inhale, draw in more of the energy of ${s}; with each exhale, release any tension that blocks these feelings.\n\n## Step 5: Integration and Intention\nCarry the specific sense of ${a} from this ${s} image with you as you slowly prepare to return to your day. Set an intention to notice instances of ${c} in your daily life, using them as reminders to reconnect with this feeling. Know that you can return to this specific meditation whenever you need to reconnect with the essence of ${s} and ${c}.`,`# ${t} Journey: From ${s} to ${c}\n\n## Step 1: Mindful Arrival\nClose your eyes and imagine standing before the ${s} from the image, with the ${c} nearby. Feel the specific ground beneath your feet - is it soft earth, smooth stone, or something else entirely? Notice the air around you, perhaps cool or warm against your skin. Take three deep breaths to arrive fully in this moment, breathing in the essence of this specific scene.\n\n## Step 2: Color Exploration\nWith each breath, explore the specific colors of this scene - ${p}. These aren't just any colors; they're the exact palette of your image. Notice how these particular colors affect your mood and create a sense of ${a}. Allow yourself to be drawn deeper into this experience as you breathe with the rhythm of the ${s} and ${c}.\n\n## Step 3: Absorption of ${d}\nLet the quality of ${a} from the ${d} fill your entire being. Your body softens, your mind quiets, and you become one with the energy of this specific ${s}. This is a place of perfect harmony between you and the elements in this image. Feel the boundaries between observer and observed beginning to dissolve.\n\n## Step 4: Transformation Through ${u}\nAs you continue breathing deeply, feel yourself transforming through your connection with the ${u} aspect of the image. The boundaries between you and what you're observing begin to dissolve. You are becoming more ${a}, more aligned with the essence of ${n} as expressed in this specific image. Your body knows exactly how to integrate this energy.\n\n## Step 5: Gratitude for This Specific Moment\nBefore you return, take a moment to express gratitude for this specific experience with ${s} and ${c}. Thank the elements in this image for sharing their wisdom and energy with you. Know that this particular connection remains available to you always - you need only recall the ${p} colors and the feeling of ${a} to return here.`,`# The ${a.charAt(0).toUpperCase()+a.slice(1)} Path: Meditation with ${s} and ${d}\n\n## Step 1: Grounding in the Image\nBegin by settling into a comfortable position, imagining yourself physically present in the scene with the ${s}. Feel the weight of your body supported as if you were actually there. Bring to mind the specific details of the ${s} and ${d} and allow them to fill your awareness completely. Notice the exact quality of light in this scene.\n\n## Step 2: Immersion in ${p}\nNotice the beautiful colors - ${p} - that make up this specific image. These aren't generic colors but the exact palette that creates the mood of this scene. Each color carries its own energy and wisdom specific to this moment. Breathe in these colors and let them nourish your being, perhaps feeling the ${p.split(",")[0]} most strongly in your heart center.\n\n## Step 3: Emotional Resonance with ${f}\nAs you continue to breathe with this image, connect with the feeling of ${a} and ${f} that arises. These emotions aren't random - they're gifts from the specific ${s} and ${d} in this image, offering you exactly what you need in this moment. Feel how your body naturally responds to these qualities.\n\n## Step 4: Deepening Through ${c}\nWith each breath, deepen your connection to ${a} and the specific elements of ${s} and ${c}. Feel yourself becoming more aligned with the essence of ${n} as it's expressed in this unique image. Your body and mind are in perfect harmony with the specific energy signature of this scene.\n\n## Step 5: Carrying This Specific Wisdom Forward\nAs this meditation comes to a close, know that you can carry the energy of this specific ${s} and the feeling of ${a} with you throughout your day. The wisdom of ${c} and ${d} is now part of you. When you encounter challenges today, recall the ${p} colors and the specific quality of ${a} from this image.`,`# The Wisdom of ${s} and ${c}: A ${t} Meditation\n\n## Step 1: Invitation to This Specific Scene\nInvite yourself to be fully present with the image of ${s} alongside ${c}. Take three deep breaths, allowing your body to relax and your mind to become receptive to the wisdom being offered by this specific combination of elements. Feel yourself stepping into the scene, becoming part of its unique energy field.\n\n## Step 2: Visual Journey Through ${p}\nExplore the specific colors of this image - ${p}. These aren't random colors but the exact palette that creates the mood and energy of this scene. Each shade has something unique to teach you about ${a} and ${f}. Notice how these colors create these specific feelings within you, perhaps concentrating in particular areas of your body.\n\n## Step 3: Embodied Presence With ${d}\nAs you breathe with the image of ${s} and ${d}, allow the quality of ${a} to enter your body through your breath. Feel it in your chest, your belly, your limbs - wherever it naturally wants to go. You are becoming an embodiment of this energy, not in a generic way, but in the specific way that this unique image expresses it.\n\n## Step 4: Receiving Guidance From This Specific Image\nIn this state of receptive awareness, listen for any messages or insights that this specific combination of ${s}, ${c}, and ${d} might have for you. What wisdom is being offered by these particular elements in this exact arrangement? What do you need to know right now about ${a} or ${f}?\n\n## Step 5: Integration of This Unique Experience\nSlowly begin to return to your surroundings, bringing with you the gifts of ${a} from ${s} and the wisdom of ${c}. These qualities aren't generic - they're the specific energetic signature of this image. They are now part of your inner landscape, available whenever you need them. Simply recall the ${p} colors to reconnect.`,`# Embracing ${n} Through the Specific Wisdom of ${s}\n\n## Step 1: Arriving in This Moment\nTake a moment to arrive fully in your body as you connect with this specific image. Feel your breath moving in and out, perhaps imagining it taking on the colors of ${p}. Bring your attention to the ${s} and ${d} and allow them to fill your field of awareness. Notice the unique quality of presence they offer.\n\n## Step 2: Sensing the Specific Energy\nNotice the colors present in this image - ${p}. Feel how these specific colors affect your energy and emotions in this moment. There is a quality of ${a} here that is available to you, not as a generic concept, but as the specific expression found in this unique combination of ${s} and ${c}.\n\n## Step 3: Opening to ${c}\nWith each breath, open yourself more fully to the essence of ${c} as it appears in this image. Let go of any resistance or tension that might block this connection. You are safe to receive the gifts being offered in this moment by this specific scene. Feel your heart center softening and expanding to receive this energy.\n\n## Step 4: Receiving the Wisdom of ${d}\nAs you continue to breathe with ${s} and ${d}, receive the quality of ${a} into your heart. Let it spread throughout your entire being, transforming you from the inside out. This isn't a generic energy but the specific frequency of ${a} as expressed through the unique elements of this image.\n\n## Step 5: Embodying This Specific Energy\nBefore you complete this meditation, make a commitment to embody the energy of ${a} from ${s} and the wisdom of ${c} in your daily life. You are now a living expression of ${n}, not in a generic way, but in the specific way that this unique image has revealed to you. Carry the colors ${p} with you as reminders.`][m]},{useState:tD,useRef:nD,useEffect:rD}=s;function iD(e){let{userId:t,onNewMeditation:n}=e;const[r,i]=tD(""),[o,s]=tD("Calm"),[a,l]=tD("Nature"),[c,u]=tD(!1),[h,d]=tD(null),[f,p]=tD(!1),[m,g]=tD(!1),[y,v]=tD(""),[w,b]=tD(null),[E,S]=tD(!1),x=nD(null);rD((()=>{(()=>{const e=wT.currentUser;if(e){const t=e.providerData.some((e=>"google.com"===e.providerId));S(t),console.log("User authentication status:",{uid:e.uid,isGoogleUser:t,displayName:e.displayName,email:e.email})}else S(!1)})();const e=wT.onAuthStateChanged((e=>{if(e){const t=e.providerData.some((e=>"google.com"===e.providerId));S(t)}else S(!1)}));return()=>e()}),[]),rD((()=>{let e;return m&&(e=setTimeout((()=>{g(!1)}),5e3)),()=>clearTimeout(e)}),[m]),rD((()=>()=>{b(null)}),[]);return(0,Lo.jsxs)("main",{className:"main-area",children:[(0,Lo.jsxs)(bl.div,{className:"main-card",initial:{opacity:0},animate:{opacity:1},children:[(0,Lo.jsx)("h2",{children:"Create Your Meditation"}),r&&r.startsWith("data:")&&(0,Lo.jsxs)("div",{style:{marginBottom:"1.5rem",width:"100%",textAlign:"center",position:"relative"},children:[(0,Lo.jsx)("img",{src:r,alt:"Selected",style:{maxWidth:"100%",maxHeight:"200px",borderRadius:"16px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)",border:"2px solid white"}}),(0,Lo.jsx)("div",{style:{position:"absolute",top:"10px",right:"10px",background:"rgba(255, 255, 255, 0.8)",borderRadius:"50%",padding:"5px",cursor:"pointer",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.1)"},onClick:()=>{i(""),b(null)},children:"\u2715"})]}),(0,Lo.jsxs)("div",{className:"main-controls",children:[(0,Lo.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},ref:x,onChange:async e=>{const n=e.target.files[0];if(n)if(n.size>5242880)alert("File is too large. Please select an image under 5MB.");else if(n.type.startsWith("image/")){console.log(`Processing file upload: ${n.name} (${n.type}, ${n.size} bytes)`);try{const e=new Image;e.onload=async()=>{const r={width:e.width,height:e.height},i=await qL({userId:t,source:"device",fileType:n.type,fileName:n.name,fileSize:n.size,dimensions:r});i?(console.log("Upload tracked successfully, ID:",i),b(i)):console.error("Failed to track upload")};const r=new FileReader;r.onload=t=>{const n=t.target.result;console.log("File successfully converted to data URL"),i(n),p(!1),e.src=n},r.onerror=()=>{console.error("Error reading file"),alert("Failed to read the selected file. Please try another file.")},r.readAsDataURL(n)}catch(r){console.error("Error tracking upload:",r);const e=new FileReader;e.onload=e=>{const t=e.target.result;i(t),p(!1)},e.readAsDataURL(n)}}else alert("Please select an image file (JPEG, PNG, etc.)")}}),(0,Lo.jsxs)("button",{className:"upload-btn",type:"button",onClick:()=>x.current.click(),children:[(0,Lo.jsx)(KT,{style:{marginRight:"8px"}})," Upload from Device"]}),E?(0,Lo.jsxs)("button",{className:"google-photos-btn",type:"button",onClick:()=>p(!0),children:[(0,Lo.jsx)(UT,{style:{marginRight:"8px"}})," ",f?"Choose a Photo":"Google Photos"]}):(0,Lo.jsxs)("button",{className:"google-photos-btn google-photos-signin-btn",type:"button",onClick:()=>window.location.href="/signin",children:[(0,Lo.jsx)(XT,{style:{marginRight:"8px"}})," Sign in with Google for Photos"]})]}),(0,Lo.jsxs)("div",{className:"main-dropdowns-row",children:[(0,Lo.jsxs)("label",{children:["Meditation Style",(0,Lo.jsxs)("select",{value:o,onChange:e=>s(e.target.value),children:[(0,Lo.jsx)("option",{children:"Calm"}),(0,Lo.jsx)("option",{children:"Energetic"}),(0,Lo.jsx)("option",{children:"Healing"}),(0,Lo.jsx)("option",{children:"Mindful"}),(0,Lo.jsx)("option",{children:"Spiritual"})]})]}),(0,Lo.jsxs)("label",{children:["Meditation Theme",(0,Lo.jsxs)("select",{value:a,onChange:e=>l(e.target.value),children:[(0,Lo.jsx)("option",{children:"Nature"}),(0,Lo.jsx)("option",{children:"Focus"}),(0,Lo.jsx)("option",{children:"Relaxation"}),(0,Lo.jsx)("option",{children:"Gratitude"}),(0,Lo.jsx)("option",{children:"Stress Relief"})]})]})]}),(0,Lo.jsx)(SI,{children:m&&(0,Lo.jsxs)(bl.div,{className:"success-message",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},children:[(0,Lo.jsx)(VT,{style:{marginRight:"8px"}})," ",y]})}),(0,Lo.jsx)("button",{className:"generate-btn",onClick:async()=>{if(!r)return void alert("Please upload an image from your device or select from Google Photos.");console.log("Analyzing photo..."),u(!0);const e=setTimeout((()=>{c&&(console.log("Analysis taking too long, showing fallback message"),u(!1),alert("Analysis is taking longer than expected. Please try again or use a different image."))}),3e4);try{const c=r.startsWith("data:"),f=r.includes("googleusercontent.com");let p;if(console.log("Is data URL:",c),console.log("Is Google Photos URL:",f),f)try{console.log("Processing Google Photos URL...");const e=bL(r);try{const t=await YL(e);t?(p=t,console.log("Successfully processed Google Photos URL to base64")):(p={url:e},console.log("Using Google Photos URL directly with Vision API"))}catch(i){console.error("Error processing image:",i),p={url:e},console.log("Falling back to using Google Photos URL directly")}}catch(s){console.error("Error with Google Photos URL:",s),console.log("Using fallback approach for Google Photos URL"),p=null}else{if(!c)return alert("Invalid image source. Please upload an image or select from Google Photos."),u(!1),void clearTimeout(e);p=r.split(",")[1],console.log("Extracted base64 data from data URL")}console.log("Analyzing image with Vision API..."),p||console.log("No valid image source, using fallback approach");const m=await(async e=>{try{console.log("Analyzing image with Vision API...");try{console.log("Trying to analyze image through backend first...");let n,r=null,i=null;"string"===typeof e?i=`data:image/jpeg;base64,${e}`:"object"===typeof e&&e.url&&(r=e.url);try{console.log("Trying /api/photos endpoint..."),n=await vL.post(`${WL}/api/photos`,{userId:"demo-user",photoUrl:r,imageData:i,style:"Calm",theme:"Nature"})}catch(t){console.log("First endpoint failed, trying /api/analyze-image..."),n=await vL.post(`${WL}/api/analyze-image`,{userId:"demo-user",photoUrl:r,imageData:i,style:"Calm",theme:"Nature"})}if(console.log("Backend analysis successful"),n.data&&n.data.visionResult)return{faceAnnotations:n.data.visionResult.emotions?[n.data.visionResult.emotions]:[],labelAnnotations:n.data.visionResult.labels?n.data.visionResult.labels.map((e=>({description:e}))):[],imagePropertiesAnnotation:{dominantColors:{colors:n.data.visionResult.dominantColors}},localizedObjectAnnotations:n.data.visionResult.objects?n.data.visionResult.objects.map((e=>({name:e}))):[],landmarkAnnotations:n.data.visionResult.landmarks?n.data.visionResult.landmarks.map((e=>({description:e}))):[]};if(n.data){console.log("Got response but no vision result, trying to extract differently");const e=[],t=[],r=[];if(Object.keys(n.data).forEach((i=>{const o=n.data[i];Array.isArray(o)&&o.forEach((n=>{"string"===typeof n?e.push(n):"object"===typeof n&&n.description?e.push(n.description):"object"===typeof n&&n.name?t.push(n.name):"object"===typeof n&&n.color&&r.push(n)}))})),e.length>0||t.length>0||r.length>0)return{labelAnnotations:e.map((e=>({description:e}))),localizedObjectAnnotations:t.map((e=>({name:e}))),imagePropertiesAnnotation:{dominantColors:{colors:r.length>0?r:[{color:{red:66,green:133,blue:244},pixelFraction:.4},{color:{red:52,green:168,blue:83},pixelFraction:.3}]}}}}}catch(n){console.error("Backend analysis failed:",n),console.log("Falling back to direct Vision API call")}let r={};if("string"===typeof e)r={content:e};else{if("object"!==typeof e||!e.url)return console.warn("Invalid image source, using fallback data"),QL();r={source:{imageUri:e.url}}}const i={requests:[{image:r,features:[{type:"FACE_DETECTION",maxResults:20},{type:"LABEL_DETECTION",maxResults:30},{type:"IMAGE_PROPERTIES",maxResults:20},{type:"OBJECT_LOCALIZATION",maxResults:30},{type:"LANDMARK_DETECTION",maxResults:20},{type:"WEB_DETECTION",maxResults:15},{type:"TEXT_DETECTION",maxResults:20},{type:"DOCUMENT_TEXT_DETECTION"},{type:"CROP_HINTS"},{type:"SAFE_SEARCH_DETECTION"}],imageContext:{languageHints:["en"],cropHintsParams:{aspectRatios:[.8,1,1.2]},latLongRect:{minLatLng:{latitude:-90,longitude:-180},maxLatLng:{latitude:90,longitude:180}}}}]};console.log("Sending request to Vision API...");const o=await vL.post("https://vision.googleapis.com/v1/images:annotate?key=AIzaSyDFKvWf5hdWMlRNU42KZC5JAokmF8CslBE",i);return console.log("Vision API response received"),o.data&&o.data.responses&&o.data.responses[0]?o.data.responses[0]:(console.warn("Invalid Vision API response, using fallback data"),QL())}catch(r){return console.error("All image analysis approaches failed:",r),console.log("Using fallback vision result data"),QL()}})(p);console.log("Vision analysis complete:",m);const y=((e,t,n,r)=>{try{let i={};if(e&&Array.isArray(e)&&e.length>0){console.log("Processing face annotations for emotions");const t=e[0];if(t){i={...i,joy:t.joyLikelihood||"POSSIBLE",sorrow:t.sorrowLikelihood||"UNLIKELY",anger:t.angerLikelihood||"VERY_UNLIKELY",surprise:t.surpriseLikelihood||"POSSIBLE"};const e={VERY_UNLIKELY:.05,UNLIKELY:.2,POSSIBLE:.5,LIKELY:.8,VERY_LIKELY:.95},n=e[i.joy]||.5,r=e[i.sorrow]||.2,o=e[i.anger]||.1,s=e[i.surprise]||.3,a=1-Math.max(o,s);i.calm=a>.7?"LIKELY":a>.4?"POSSIBLE":"UNLIKELY";const l=n*(1-s);i.contentment=l>.7?"LIKELY":l>.4?"POSSIBLE":"UNLIKELY";const c=r*(1-o);i.melancholy=c>.6?"LIKELY":c>.3?"POSSIBLE":"UNLIKELY"}}else console.log("No face annotations found, using alternative emotion detection");if(t&&Array.isArray(t)&&t.length>0){console.log("Processing label annotations for emotions");const e={peaceful:["peaceful","calm","serene","tranquil","zen","meditation","yoga","relax"],joyful:["happy","joy","smile","laugh","cheerful","celebration","party"],energetic:["energy","active","dynamic","vibrant","exercise","sport","fitness"],creative:["art","creative","colorful","design","paint","music","dance"],reflective:["thoughtful","contemplative","pensive","quiet","solitude","nature"],focused:["focus","concentration","study","work","attention","mindful"],spiritual:["spiritual","prayer","worship","sacred","divine","temple","church","ritual"]};t.forEach((t=>{if(!t.description)return;const n=t.description.toLowerCase();Object.entries(e).forEach((e=>{let[r,o]=e;if(o.some((e=>n.includes(e)))){const e=t.score||.5,n=e>.7?"LIKELY":e>.4?"POSSIBLE":"UNLIKELY";(!i[r]||JL(i[r])<JL(n))&&(i[r]=n)}}))}))}if(n&&Array.isArray(n)&&n.length>0){console.log("Processing object annotations for emotions");const e={Person:{social:"LIKELY"},Book:{focused:"LIKELY",reflective:"POSSIBLE"},"Musical Instrument":{creative:"LIKELY",joyful:"POSSIBLE"},"Sports Equipment":{energetic:"LIKELY"},"Yoga Mat":{peaceful:"LIKELY",focused:"LIKELY"},"Meditation Cushion":{peaceful:"VERY_LIKELY",spiritual:"LIKELY"},Candle:{peaceful:"POSSIBLE",spiritual:"POSSIBLE"},Nature:{peaceful:"LIKELY",reflective:"POSSIBLE"},Water:{peaceful:"LIKELY",reflective:"POSSIBLE"},Mountain:{peaceful:"LIKELY",spiritual:"POSSIBLE"},Forest:{peaceful:"LIKELY",reflective:"POSSIBLE"}};n.forEach((t=>{if(!t.name)return;const n=t.name,r=e[n];r&&Object.entries(r).forEach((e=>{let[t,n]=e;(!i[t]||JL(i[t])<JL(n))&&(i[t]=n)}))}))}r&&(console.log("Processing safe search annotations for emotions"),"LIKELY"!==r.spoof&&"VERY_LIKELY"!==r.spoof||(i.playful="LIKELY",i.joyful="POSSIBLE"),"LIKELY"!==r.medical&&"VERY_LIKELY"!==r.medical||(i.concerned="POSSIBLE"));const o=(new Date).getTime()%10;if(Object.keys(i).length<5){const e=["peaceful","energetic","focused","creative","reflective","spiritual","balanced","mindful","grounded","inspired"];for(let t=0;t<3;t++){const n=e[(o+t)%e.length];i[n]||(i[n]=0===t?"LIKELY":"POSSIBLE")}}return 0===Object.keys(i).length?(console.log("No emotions detected, using defaults"),XL()):i}catch(i){return console.error("Error extracting emotions:",i),XL()}})(m.faceAnnotations,m.labelAnnotations,m.localizedObjectAnnotations,m.safeSearchAnnotation);console.log("Extracted emotions:",y);const b=m.labelAnnotations?m.labelAnnotations.map((e=>e.description)):["Nature","Scenery"];console.log("Extracted labels:",b);const E=(e=>{try{if(!e||!e.dominantColors||!e.dominantColors.colors)return console.log("No valid image properties found, using default colors"),ZL();let t=e.dominantColors.colors.filter((e=>e&&e.color)).sort(((e,t)=>t.pixelFraction-e.pixelFraction)).map((e=>{try{const t=e.color,n=Math.round(t&&t.red?t.red:0),r=Math.round(t&&t.green?t.green:0),i=Math.round(t&&t.blue?t.blue:0),o="#"+[n,r,i].map((e=>e.toString(16).padStart(2,"0"))).join("");return{rgb:{red:n,green:r,blue:i},hex:o,score:e.pixelFraction||0}}catch(t){return console.error("Error processing color:",t),{rgb:{red:100,green:100,blue:100},hex:"#646464",score:.1}}}));if(!t||0===t.length)return console.log("No colors extracted, using default colors"),ZL();t=t.filter((e=>e.score>=.05));const n=[],r=30;for(const e of t)if(!n.some((t=>Math.abs(t.rgb.red-e.rgb.red)+Math.abs(t.rgb.green-e.rgb.green)+Math.abs(t.rgb.blue-e.rgb.blue)<3*r))&&(n.push(e),n.length>=4))break;if(n.length<2){console.log("Too few distinct colors, adding some defaults");const e=ZL();for(;n.length<4&&e.length>0;)n.push(e.shift())}return n}catch(t){return console.error("Error extracting dominant colors:",t),ZL()}})(m.imagePropertiesAnnotation);console.log("Extracted dominant colors:",E);const S=m.localizedObjectAnnotations?m.localizedObjectAnnotations.map((e=>e.name)):[];console.log("Extracted objects:",S);const x=m.landmarkAnnotations?m.landmarkAnnotations.map((e=>e.description)):[];console.log("Extracted landmarks:",x);const k=(e=>{try{if(!e||!Array.isArray(e)||0===e.length)return console.log("No valid colors to map to emotions, using defaults"),"Calm, Peace (Blue), Growth, Healing (Green), Joy, Happiness (Yellow), Passion, Strength (Red)";const t=e.map((e=>{try{if(!e||!e.hex)return"Balanced, Neutral (Gray)";const t=AI(e.hex);return`${PI(t)} (${t})`}catch(t){return console.error("Error mapping color to emotion:",t),"Balanced, Neutral (Gray)"}}));return t.join(", ")}catch(t){return console.error("Error mapping colors to emotions:",t),"Calm, Peace (Blue), Growth, Healing (Green), Joy, Happiness (Yellow), Passion, Strength (Red)"}})(E);console.log("Color emotions:",k);const T=(new Date).toISOString(),I=Math.random().toString(36).substring(2,15),C={emotions:y,labels:b,dominantColors:E,objects:S,landmarks:x,colorEmotions:k,timestamp:T,randomSeed:I},_=await(async(e,t,n)=>{try{console.log("Generating meditation with Gemini API...");const m=(new Date).toISOString(),g=Math.random().toString(36).substring(2,15),y={emotions:e.emotions||XL(),labels:Array.isArray(e.labels)?e.labels:["Nature","Scenery"],objects:Array.isArray(e.objects)?e.objects:["Plant","Sky"],landmarks:Array.isArray(e.landmarks)?e.landmarks:[],dominantColors:Array.isArray(e.dominantColors)?e.dominantColors:ZL(),colorEmotions:e.colorEmotions||"Calm, Peace (Blue), Growth, Healing (Green)"},v=y.dominantColors.slice(0,3).map((e=>{try{return AI(e.hex)}catch(uD){return e.hex}})).join(", "),w=y.objects.some((e=>["Person","Human","Man","Woman","Child","Boy","Girl","People"].includes(e))),b=Object.keys(y.emotions).some((e=>["joy","sorrow","anger","surprise"].includes(e))),E={contents:[{parts:[{text:`\nYou are an AI meditation guide. Create a UNIQUE and PERSONALIZED meditation based on:\n- Detected emotions: ${JSON.stringify(y.emotions)}\n- Environment: ${y.labels.join(", ")}\n- Objects: ${y.objects.join(", ")}\n- Landmarks: ${y.landmarks.join(", ")}\n- Dominant colors: ${v} (${y.colorEmotions})\n- Style: ${t||"Calm"}\n- Theme: ${n||"Nature"}\n- Contains people: ${w?"Yes":"No"}\n- Contains faces: ${b?"Yes":"No"}\n- Timestamp: ${m}\n- Random seed: ${g}\n\nInstructions:\n- Write a meditation in 5-7 steps that is COMPLETELY UNIQUE to this image.\n- DEEPLY ANALYZE the image content and create a meditation that directly references SPECIFIC ELEMENTS in the image.\n- If landmarks are detected (${y.landmarks.join(", ")}), make them a central focus of the meditation.\n- If specific objects are detected (${y.objects.join(", ")}), incorporate them meaningfully into the meditation.\n- If people are detected, incorporate their expressions, postures, and apparent emotions into the meditation.\n- If the image shows a specific location or activity, build the meditation around that specific context.\n- Use the emotional qualities of the colors (${v}) and detected mood to guide the emotional tone.\n- Make it yoga-inspired and mindful, with specific breathing and body awareness instructions.\n- Be creative, gentle, and positive, but also very specific to the actual image content.\n- DO NOT use generic meditation text - make it highly specific to this image.\n- Create a unique title that reflects the specific content of this meditation.\n- Each step should be 3-5 sentences long and directly relate to what's in the image.\n- Use markdown formatting with # for the title and ## for each step.\n- The meditation should feel like it was written specifically for this exact image and no other.\n- AVOID REPETITION in language, phrasing, and concepts between steps.\n- Each step should focus on a different aspect of the image or a different meditation technique.\n\nIMPORTANT: Your meditation MUST directly reference the specific landmarks, objects, and visual elements detected in the image. Avoid generic meditation text that could apply to any image. Make it clear that this meditation was crafted specifically for THIS image.\n`}]}],generationConfig:{temperature:.9,topP:.9,topK:40,maxOutputTokens:1024},safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"}]};try{var r,i,o,s,a,l;console.log("Sending request to Gemini API..."),console.log("Using Gemini API endpoint:",KL);const e=await vL.post(`${KL}?key=AIzaSyDFKvWf5hdWMlRNU42KZC5JAokmF8CslBE`,E);console.log("Gemini API response received");const t=null===(r=e.data)||void 0===r||null===(i=r.candidates)||void 0===i||null===(o=i[0])||void 0===o||null===(s=o.content)||void 0===s||null===(a=s.parts)||void 0===a||null===(l=a[0])||void 0===l?void 0:l.text;if(t)return t;throw console.warn("Invalid Gemini API response, trying backend fallback"),new Error("Invalid Gemini API response")}catch(f){console.error("Direct Gemini API call failed:",f);try{console.log("Trying to generate meditation through backend...");const e=await vL.post(`${WL}/api/photos`,{userId:"demo-user",photoUrl:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wAARCAABAAEDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD9/KKKKAP/2Q==",visionResult:y,style:t||"Calm",theme:n||"Nature"});if(console.log("Backend meditation generation successful"),e.data&&e.data.geminiGuidance)return e.data.geminiGuidance;throw new Error("Backend did not return valid meditation text")}catch(p){var c,u,h,d;return console.error("Backend meditation generation failed:",p),console.log("Backend error details:",{message:p.message,status:null===(c=p.response)||void 0===c?void 0:c.status,statusText:null===(u=p.response)||void 0===u?void 0:u.statusText,data:null===(h=p.response)||void 0===h?void 0:h.data,url:null===(d=p.config)||void 0===d?void 0:d.url}),console.log("Generating fallback meditation..."),eD(y,t,n)}}}catch(m){return console.error("All meditation generation approaches failed:",m),eD(e,t,n)}})(C,o,a);console.log("Generated meditation:",_),console.log("Saving meditation data to Firestore...");const A={userId:t,photoUrl:r,visionResult:C,geminiGuidance:_,style:o,theme:a,timestamp:T,randomSeed:I,uploadId:w};try{IL.ENABLE_DETAILED_LOGGING&&console.log("DETAILED LOGGING: About to save meditation data:",JSON.stringify(A));const e=await zL({...A,userId:t});if(!e)throw console.error("Failed to save meditation"),new Error("Failed to save meditation");console.log("Meditation saved successfully, ID:",e),console.log("Meditation saved with ID:",e);const r={id:e,...A,timestamp:(new Date).toISOString(),clientTimestamp:Date.now()};if(console.log("Created complete meditation object:",r.id),v("Meditation successfully generated and saved!"),g(!0),d(r),console.log("Set meditation state with complete data"),console.log("Calling onNewMeditation to refresh sidebar with meditation:",r.id),"function"===typeof n)try{n({...r,id:e,timestamp:(new Date).toISOString(),clientTimestamp:Date.now()}),console.log("onNewMeditation called successfully with meditation ID:",e)}catch(l){console.error("Error in onNewMeditation callback:",l)}else console.warn("onNewMeditation is not a function or not provided")}catch(h){console.error("ERROR SAVING TO FIRESTORE IN MAINAREA:",h),console.error("Error code:",h.code),console.error("Error message:",h.message),console.error("Error stack:",h.stack);const e={id:"temp-"+Date.now(),...A};if(d(e),v("Meditation generated but not saved to cloud. You can still view it now."),g(!0),"function"===typeof n)try{console.log("Calling onNewMeditation with temp meditation:",e.id),n(e)}catch(l){console.error("Error in onNewMeditation callback (fallback):",l)}}}catch(uD){console.error("Failed to analyze photo:",uD);const i={id:"fallback-"+Date.now(),userId:t,photoUrl:r,uploadId:w,visionResult:{emotions:{joy:"POSSIBLE",calm:"LIKELY"},labels:["Nature","Scenery"],dominantColors:[{rgb:{red:66,green:133,blue:244},hex:"#4285F4",score:.4},{rgb:{red:52,green:168,blue:83},hex:"#34A853",score:.3}],objects:["Plant","Sky"],landmarks:[],colorEmotions:"Calm, Peace (Blue), Growth, Healing (Green)"},geminiGuidance:"# Peaceful Nature Meditation\n\n## Step 1: Centering\nTake a deep breath and feel your body settling into this moment. Notice the sensations in your body as you begin to relax. Allow your mind to focus on the image of nature before you.\n\n## Step 2: Awareness\nObserve the colors and how they create a sense of calm. Let these colors wash over you, bringing their energy into your awareness. Feel yourself becoming more present.\n\n## Step 3: Connection\nImagine yourself within this scene, surrounded by the essence of nature. What sounds might you hear? What textures might you feel? Allow all your senses to engage with this environment.\n\n## Step 4: Embodiment\nAs you breathe deeply, embody the quality of peace that this image evokes. Let this feeling spread through your entire body, from your toes to the crown of your head.\n\n## Step 5: Integration\nCarry this sense of calm with you as you slowly prepare to return to your day. Know that you can return to this feeling whenever you need to reconnect with the essence of nature.",style:o,theme:a,timestamp:(new Date).toISOString(),randomSeed:Math.random().toString(36).substring(2,15)};if(d(i),v("Meditation generated with default settings."),g(!0),"function"===typeof n)try{console.log("Calling onNewMeditation with fallback meditation:",i.id),n(i)}catch(l){console.error("Error in onNewMeditation callback (error fallback):",l)}console.warn("Using fallback meditation due to error:",uD.message)}finally{u(!1),clearTimeout(e)}},disabled:c||!r,children:c?"Generating Your Meditation...":"Generate Meditation"})]}),(0,Lo.jsx)("div",{className:"google-photos-wrapper "+(f?"active":""),children:(0,Lo.jsx)(kL,{onPhotoSelected:async e=>{console.log("Photo selected from Google Photos:",e),i(e);const n=new Image;n.crossOrigin="anonymous",n.onload=async()=>{console.log("Image preloaded successfully");try{const r={width:n.width,height:n.height},i=await qL({userId:t,source:"google_photos",fileType:"image/jpeg",fileName:e.split("/").pop()||"google-photo",fileSize:0,dimensions:r});i&&(console.log("Google Photos upload tracked with ID:",i),b(i))}catch(r){console.error("Error tracking Google Photos upload:",r)}p(!1)},n.onerror=n=>{console.error("Error preloading image:",n);try{qL({userId:t,source:"google_photos",fileType:"image/jpeg",fileName:e.split("/").pop()||"google-photo",fileSize:0,dimensions:{width:0,height:0}}).then((e=>{e&&(console.log("Google Photos upload tracked with ID (from error handler):",e),b(e))}))}catch(r){console.error("Error tracking Google Photos upload in error handler:",r)}p(!1)},n.src=e}})}),h&&(0,Lo.jsx)(tN,{meditation:h})]})}const oD=e=>{let{userId:t,isAuthenticated:n}=e;const[r,i]=(0,o.useState)([]),[s,a]=(0,o.useState)(null),[l,c]=(0,o.useState)(null);(0,o.useEffect)((()=>{h()}),[t]);const u=Array.isArray(r)?r:[],h=async()=>{try{console.log("Fetching meditations for user:",t);const e=await GL(t);console.log(`Found ${e.length} meditations`),e.length>0&&IL.ENABLE_DETAILED_LOGGING&&console.log("First meditation:",e[0]),i(e),e.length>0&&!s&&(a(e[0].id),c(e[0]))}catch(e){console.error("Error fetching meditations:",e),i([])}};return(0,Lo.jsx)("div",{className:"meditate-page",style:{backgroundImage:'url("https://images.unsplash.com/photo-1508672019048-805c876b67e2?ixlib=rb-1.2.1&auto=format&fit=crop&w=2000&q=80")',backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed",backgroundBlendMode:"overlay",backgroundColor:"rgba(245, 247, 250, 0.92)"},children:(0,Lo.jsxs)(bl.div,{className:"app-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,Lo.jsx)(II,{meditations:u,onSelect:async e=>{if(e!==s){console.log(`Selecting meditation with ID: ${e}`),a(e);try{console.log(`Fetching meditation with ID: ${e}`);const t=await HL(e);t?(console.log("Meditation data received:",t),c(t)):(console.log("No such meditation found!"),c({id:e,geminiGuidance:"This meditation could not be found. Please try creating a new one.",notFound:!0}))}catch(t){console.error(`Error fetching meditation with ID ${e}:`,t),c({id:e,geminiGuidance:"There was an error retrieving this meditation. Please try creating a new one.",error:!0})}}},selectedId:s}),(0,Lo.jsxs)("div",{className:"main-content",children:[(0,Lo.jsx)(iD,{userId:t,isAuthenticated:n,onNewMeditation:async e=>{try{var t;if(!e||!e.id)return void console.error("Invalid meditation object received:",e);console.log("New meditation created:",e.id);const r=u.findIndex((t=>t.id===e.id));let o;if(r>=0?(console.log("Updating existing meditation in list:",e.id),o=[...u],o[r]=e):(console.log("Adding new meditation to list:",e.id),o=[e,...u]),i(o),a(e.id),c(e),console.log("Updated meditations list, now contains",o.length,"items"),console.log("First meditation in list:",null===(t=o[0])||void 0===t?void 0:t.id),IL.ENABLE_OFFLINE_SUPPORT)try{const t=JSON.parse(localStorage.getItem("offlineMeditations")||"[]"),n=t.findIndex((t=>t.id===e.id));n>=0?t[n]=e:t.unshift(e),localStorage.setItem("offlineMeditations",JSON.stringify(t)),console.log("Saved new meditation to offline storage")}catch(n){console.error("Error saving meditation to offline storage:",n)}setTimeout((()=>{console.log("Performing delayed fetch of meditations"),h()}),2e3)}catch(r){console.error("Error handling new meditation:",r),h()}}}),(0,Lo.jsx)(SI,{mode:"wait",children:s&&l&&(0,Lo.jsx)(bl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:(0,Lo.jsx)(tN,{meditation:l})},s)})]})]})})},sD=()=>(0,Lo.jsx)("div",{className:"feature-demo-page",children:(0,Lo.jsxs)("div",{className:"feature-demo-container",children:[(0,Lo.jsx)("h1",{className:"feature-demo-title",children:"Discover Your Inner Peace"}),(0,Lo.jsx)("p",{className:"feature-demo-subtitle",children:"Our AI-powered meditation platform analyzes your photos to create personalized guidance"}),(0,Lo.jsx)(lI,{backgroundImage:"https://images.unsplash.com/photo-1545389336-cf090694435e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80"}),(0,Lo.jsx)("div",{className:"feature-demo-cta",children:(0,Lo.jsx)("button",{className:"primary-button",children:"Start Your Journey"})})]})}),{useEffect:aD,useState:lD}=s;function cD(){const[e,t]=lD("demo-user"),[n,r]=lD(!1),[i,o]=lD(!0);return aD((()=>{let e;console.log("Setting up authentication listener");try{e=IS(wT,(e=>{e?(console.log("User is signed in:",e.uid),console.log("User details:",{displayName:e.displayName,email:e.email,isAnonymous:e.isAnonymous,providerId:e.providerId}),t(e.uid),r(!0)):(console.log("No user signed in, using demo user"),t("demo-user"),r(!1)),o(!1)}),(e=>{console.error("Auth observer error:",e),t("demo-user"),r(!1),o(!1)}))}catch(n){console.error("Error setting up auth listener:",n),t("demo-user"),r(!1),o(!1)}return()=>{if(e)try{e()}catch(n){console.error("Error unsubscribing from auth listener:",n)}}}),[]),i?(0,Lo.jsxs)("div",{className:"loading-screen",children:[(0,Lo.jsx)("div",{className:"loading-spinner"}),(0,Lo.jsx)("p",{children:"Loading Energiaa..."})]}):(0,Lo.jsx)(Ce,{children:(0,Lo.jsxs)("div",{className:"app-bg",children:[(0,Lo.jsx)(sI,{isAuthenticated:n,userId:e}),(0,Lo.jsx)(bl.div,{className:"app-content",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:(0,Lo.jsxs)(Ee,{children:[(0,Lo.jsx)(we,{path:"/",element:(0,Lo.jsx)(cI,{})}),(0,Lo.jsx)(we,{path:"/about",element:(0,Lo.jsx)(pI,{})}),(0,Lo.jsx)(we,{path:"/signin",element:(0,Lo.jsx)(mI,{})}),(0,Lo.jsx)(we,{path:"/meditate",element:(0,Lo.jsx)(oD,{userId:e,isAuthenticated:n})}),(0,Lo.jsx)(we,{path:"/features",element:(0,Lo.jsx)(sD,{})}),(0,Lo.jsx)(we,{path:"*",element:(0,Lo.jsx)(ve,{to:"/",replace:!0})})]})}),(0,Lo.jsx)(aI,{})]})})}a.H(document.getElementById("root")).render((0,Lo.jsx)(o.StrictMode,{children:(0,Lo.jsx)(cD,{})}))})()})();
//# sourceMappingURL=main.7a0d5885.js.map